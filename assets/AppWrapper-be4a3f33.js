var e=Object.defineProperty,t=Object.defineProperties,n=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,a=(t,n,r)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r,s=(e,t)=>{for(var n in t||(t={}))o.call(t,n)&&a(e,n,t[n]);if(r)for(var n of r(t))i.call(t,n)&&a(e,n,t[n]);return e},l=(e,r)=>t(e,n(r)),c=(e,t,n)=>new Promise(((r,o)=>{var i=e=>{try{s(n.next(e))}catch(e){o(e)}},a=e=>{try{s(n.throw(e))}catch(e){o(e)}},s=e=>e.done?r(e.value):Promise.resolve(e.value).then(i,a);s((n=n.apply(e,t)).next())}));import{j as u,_ as d}from"./index-7c56e82f.js";import{r as h,R as f}from"./react-37698f52.js";function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){p(e,t,n[t])}))}return e}var m=function(){return!("undefined"==typeof window||!window.document||!window.document.createElement)}();function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}function b(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||g(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function E(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=[];return t.forEach((function(e){if(e)switch(void 0===e?"undefined":w(e)){case"string":r.push(e);break;case"object":Object.keys(e).forEach((function(t){e[t]&&r.push(t)}));break;default:r.push("".concat(e))}})),r.join(" ")}var k=function(){};function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e,t,n){return t&&S(e.prototype,t),n&&S(e,n),e}var P={parse:function(e){if("string"!=typeof e)return{};if(!(e=e.trim().replace(/^[?#&]/,"")))return{};var t=/\?(.+)$/gi.exec(e);return(t?t[1]:e).split("&").reduce((function(e,t){var n=t.split("=");return n[1]&&(e[n[0]]=decodeURIComponent(n[1])),e}),{})},stringify:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!=typeof e||null===e)return"";t=v({encode:!0},t);var n=function(e){return t.encode?encodeURIComponent(e):String(e)};return Object.keys(e).reduce((function(r,o){var i=e[o];return void 0===i?r:null===i?(t.skipNull||r.push([n(o),""].join("=")),r):Array.isArray(i)?(i.map((function(e){r.push("".concat(n(o),"[]=").concat(n(e)))})).join(),r):(r.push([n(o),n(i)].join("=")),r)}),[]).join("&")}};function R(e){return void 0!==e&&!1!==e&&null!==e&&""!==e}function x(e){return"string"==typeof e||"number"==typeof e}function L(e){e||(e=m?navigator.userAgent:"");var t=function(e){if(!m)return!1;var t=!/ipad|iphone|ipod/.test(e),n=e.includes("mac os");if(n&&t&&"boolean"==typeof navigator.standalone)return!0;return!1}(e=e.toLowerCase()),n=t||e.includes("ipad"),r=!n&&-1!==e.search(/iphone|ipod/),o=r||n,i=o&&e.match(/os ([\d_]+) like mac os x/i),a=0,s=0;t?(a=13,s=0):i&&(a=+(i=i[1].split("_"))[0],s=+i[1]),i=null;var l=a<13&&!(11===a&&s<3),c=o&&function(e){if(!m)return!1;var t=window.webkit;if(t&&t.messageHandlers)return!0;var n=/constructor/i.test(String(window.HTMLElement)),r=!!window.indexedDB;if(e.includes("safari")&&e.includes("version")&&!navigator.standalone);else if(!r&&n||!window.statusbar||!window.statusbar.visible);else if(!n||r)return!0;return!1}(e),u=!1;return m&&(u=o&&375===screen.width&&812===screen.height&&3===window.devicePixelRatio),{isIPad:n,isIPhone:r,isIOS:o,isIPadOS:t,iosMajor:a,iosMinor:s,isWKWebView:c,isScrollBasedViewport:l,isIPhoneX:u,isIOSChrome:-1!==e.search(/crios/i)}}var T=L(),C=function(){return T.isIOS}(),O=function(){return T.isIPadOS}();var _=function(){var e={hasMouse:!1,hasTouchEvents:!1,hasHover:!1,hasTouch:!1};if(!m)return e;if(C&&!O)e.hasMouse=!1,e.hasHover=!1,e.hasTouchEvents=!0,e.hasTouch=!0;else if(e.hasTouchEvents="ontouchstart"in document,e.hasTouch=e.hasTouchEvents||"maxTouchPoints"in navigator&&navigator.maxTouchPoints>0,e.hasTouch){var t=!/android|mobile|tablet/i.test(navigator.userAgent);e.hasMouse="function"==typeof window.matchMedia&&window.matchMedia("(pointer)").matches?matchMedia("(pointer: fine)").matches:t,e.hasHover=e.hasMouse&&("function"==typeof window.matchMedia&&window.matchMedia("(hover)").matches?matchMedia("(hover: hover)").matches:t)}else e.hasMouse=!0,e.hasHover=!0;return e}(),D=function(){return _.hasMouse}(),I=function(){return _.hasHover}(),B=h.createContext({window:m?window:void 0,document:m?document:void 0}),N=function(){return h.useContext(B)};function W(e){return function(t){var n=N();return h.createElement(e,v({},t,n))}}function j(e){e&&e.activeElement&&e.activeElement.blur()}if(m){var K=Element.prototype;K.matches||(K.matches=K.matchesSelector||K.webkitMatchesSelector||K.mozMatchesSelector||K.msMatchesSelector),K.closest||(K.closest=function(e){for(var t=this;t;){if(t.matches(e))return t;t=t.parentElement}return null})}function V(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||g(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),r=n.length>>>0;if(0===r)return!1;for(var o,i,a=0|t,s=Math.max(a>=0?a:r-Math.abs(a),0);s<r;){if((o=n[s])===(i=e)||"number"==typeof o&&"number"==typeof i&&isNaN(o)&&isNaN(i))return!0;s++}return!1}}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("callback must be a function");for(var t=Object(this),n=t.length>>>0,r=arguments[1],o=0;o<n;o++){var i=t[o];if(e.call(r,i,o,t))return i}}}),String.prototype.padStart||(String.prototype.padStart=function(e,t){return e>>=0,t=String(t||" "),this.length>e?String(this):((e-=this.length)>t.length&&(t+=t.repeat(e/t.length)),t.slice(0,e)+String(this))});var U=function(){function e(t){var n=t.content;A(this,e),p(this,"isMounted",!1),p(this,"node",void 0),this.node=function(e){var t=!!document.importNode,n=(new DOMParser).parseFromString(e,"image/svg+xml").documentElement;return t?document.importNode(n,!0):n}(n)}return M(e,[{key:"id",get:function(){return this.node.id}},{key:"mount",value:function(e){return this.isMounted||(this.isMounted=!0,e.appendChild(this.node)),this.node}},{key:"unmount",value:function(){this.node&&this.node.parentNode&&(this.node.parentNode.removeChild(this.node),this.isMounted=!1)}}],[{key:"createFromExistingNode",value:function(t){var n=new e({content:""});return n.node=t,n}}]),e}(),z="http://www.w3.org/2000/svg",F=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};A(this,e),p(this,"symbols",new Map),p(this,"config",{attrs:{xmlns:z,"xmlns:xlink":"http://www.w3.org/1999/xlink",style:"position:absolute;width:0;height:0","aria-hidden":"true"}}),p(this,"node",null),Object.assign(this.config.attrs,t.attrs)}return M(e,[{key:"push",value:function(e){var t=this.symbols,n=t.has(e.id);return t.set(e.id,e),!n}},{key:"add",value:function(e){var t=this.push(e);return this.node&&t&&e.mount(this.node),t}},{key:"attach",value:function(e){var t=this;this.node||(this.node=e,this.symbols.forEach((function(t){t.mount(e)})),e.querySelectorAll("symbol").forEach((function(e){var n=U.createFromExistingNode(e);t.add(n)})))}},{key:"mount",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.node||(this.node=this.render(),t&&e.childNodes[0]?e.insertBefore(this.node,e.firstChild):e.appendChild(this.node)),this.node}},{key:"render",value:function(){var e=document.createElementNS(z,"svg");return Object.entries(this.config.attrs).forEach((function(t){return e.setAttribute(t[0],t[1])})),this.symbols.forEach((function(t){return e.appendChild(t.node)})),e}},{key:"unmount",value:function(){this.node&&this.node.parentNode&&this.node.parentNode.removeChild(this.node)}}]),e}();function G(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}var X,Y=!("undefined"==typeof window||!window.document||!window.document.createElement);if(Y){var $="__SVG_SPRITE_NODE__";X=new F({attrs:{id:$}});var q=function(){var e=document.getElementById($);e?X.attach(e):X.mount(document.body),document.removeEventListener("DOMContentLoaded",q)};document.querySelector("body")?q():document.addEventListener("DOMContentLoaded",q)}else X=null;var J=Y?h.useLayoutEffect:h.useEffect;var Z=function(e){var t=e.width,n=void 0===t?0:t,r=e.height,o=void 0===r?0:r,i=e.viewBox,a=e.id,s=e.className,l=void 0===s?"":s,c=e.fill,u=e.getRootRef,d=e.style,h=void 0===d?{}:d,p=e.title,m=e.children,y=V(e,["width","height","viewBox","id","className","fill","getRootRef","style","title","children"]),g=Math.max(n,o),b=v({width:n,height:o},h);return f.createElement("svg",G(v({"aria-hidden":"true",display:"block"},y),{className:["vkuiIcon","vkuiIcon--".concat(g),"vkuiIcon--w-".concat(n),"vkuiIcon--h-".concat(o),"vkuiIcon--".concat(a),l].join(" ").trim(),viewBox:i,width:n,height:o,style:b,ref:u}),p&&f.createElement("title",null,p),f.createElement("use",{xlinkHref:"#".concat(a),style:{fill:"currentColor",color:c}},m))};function Q(e,t,n,r,o,i,a,s){var l,c=function(){var e;u||(e=new U({content:r}),X&&X.add(e),u=!0)},u=!1,d=(l={},function(e){l[e]||(l[e]=!0)}),h=function(e){if(J(c,[]),a){var r=s?". Замените на ".concat(s):"";d("Иконка устарела"+r)}return f.createElement(Z,G(v({},e),{viewBox:n,id:t,width:void 0===e.width||isNaN(e.width)?o:+e.width,height:void 0===e.height||isNaN(e.height)?i:+e.height}))};return h.mountIcon=c,h.displayName=e,h}var ee=function(e){return e.children},te=Q("Icon16Spinner","spinner_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16" id="spinner_16"><path fill="currentColor" fill-rule="evenodd" d="M11.21 2.93a6 6 0 0 0-8.64 7.62 1 1 0 1 1-1.8.86A8 8 0 1 1 8 16a1 1 0 1 1 0-2 6 6 0 0 0 3.21-11.07z" clip-rule="evenodd" /></symbol>',16,16,!1,void 0),ne=Q("Icon24Cancel","cancel_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="cancel_24"><path d="M7.536 6.264a.9.9 0 0 0-1.272 1.272L10.727 12l-4.463 4.464a.9.9 0 0 0 1.272 1.272L12 13.273l4.464 4.463a.9.9 0 1 0 1.272-1.272L13.273 12l4.463-4.464a.9.9 0 1 0-1.272-1.272L12 10.727 7.536 6.264Z" /></symbol>',24,24,!1,void 0),re=Q("Icon24Spinner","spinner_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" id="spinner_24"><path fill="currentColor" fill-rule="evenodd" d="M16.394 5.077A8.2 8.2 0 0 0 4.58 15.49a.9.9 0 0 1-1.628.767A10 10 0 1 1 12 22a.9.9 0 0 1 0-1.8 8.2 8.2 0 0 0 4.394-15.123z" clip-rule="evenodd" /></symbol>',24,24,!1,void 0),oe=Q("Icon28MoonOutline","moon_outline_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" id="moon_outline_28"><g fill="none" fill-rule="nonzero"><path d="M0 0h28v28H0z" /><path fill="currentColor" d="M24.166 15.685a1 1 0 0 1 1.277 1.275c-.569 1.614-1.445 3.046-2.632 4.229-4.418 4.418-11.58 4.417-15.997 0-4.419-4.417-4.419-11.58 0-15.998C8 4.006 9.431 3.129 11.042 2.559a1 1 0 0 1 1.276 1.277c-1.194 3.372-.394 7.133 2.16 9.69 2.554 2.553 6.317 3.353 9.688 2.16Zm-11.102-.746a11.25 11.25 0 0 1-3.163-9.643c-.61.37-1.17.806-1.673 1.309-3.637 3.637-3.637 9.534 0 13.17a9.311 9.311 0 0 0 13.17-.002 8.75 8.75 0 0 0 1.31-1.671 11.247 11.247 0 0 1-9.644-3.163Z" /></g></symbol>',28,28,!1,void 0),ie=Q("Icon28SunOutline","sun_outline_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 28 28" id="sun_outline_28"><g fill="currentColor"><path d="M15 2a1 1 0 1 0-2 0v3a1 1 0 1 0 2 0zM15 23a1 1 0 1 0-2 0v3a1 1 0 1 0 2 0zM23.892 20.866a1 1 0 1 0 1-1.732l-2.598-1.5a1 1 0 1 0-1 1.732zM5.706 10.366a1 1 0 1 0 1-1.732l-2.598-1.5a1 1 0 0 0-1 1.732zM2.742 20.5a1 1 0 0 1 .366-1.366l2.598-1.5a1 1 0 1 1 1 1.732l-2.598 1.5a1 1 0 0 1-1.366-.366zM20.928 10a1 1 0 0 1 .366-1.366l2.598-1.5a1 1 0 1 1 1 1.732l-2.598 1.5A1 1 0 0 1 20.928 10z" /><path fill-rule="evenodd" d="M14 8.031a5.969 5.969 0 1 0 0 11.938A5.969 5.969 0 0 0 14 8.03zM9.992 14c0-2.355 1.653-4.008 4.008-4.008s4.016 1.653 4.016 4.008-1.661 4-4.016 4-4.008-1.645-4.008-4z" clip-rule="evenodd" /></g></symbol>',28,28,!1,void 0),ae=Q("Icon32Spinner","spinner_32","0 0 32 32",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="spinner_32"><path fill="currentColor" d="M16 32a1.5 1.5 0 0 1 0-3c7.18 0 13-5.82 13-13S23.18 3 16 3 3 8.82 3 16c0 1.557.273 3.074.8 4.502A1.5 1.5 0 1 1 .986 21.54 15.97 15.97 0 0 1 0 16C0 7.163 7.163 0 16 0s16 7.163 16 16-7.163 16-16 16Z" /></symbol>',32,32,!1,void 0),se=Q("Icon44Spinner","spinner_44","0 0 44 44",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 44 44" id="spinner_44"><path fill="currentColor" d="M22 44a1.5 1.5 0 0 1 0-3c10.493 0 19-8.507 19-19S32.493 3 22 3 3 11.507 3 22c0 2.208.376 4.363 1.103 6.397a1.5 1.5 0 1 1-2.825 1.01A21.964 21.964 0 0 1 0 22C0 9.85 9.85 0 22 0s22 9.85 22 22-9.85 22-22 22Z" /></symbol>',44,44,!1,void 0),le=h.createContext({}),ce=function(){return h.useContext(le)},ue=function(){return ue=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ue.apply(this,arguments)};function de(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}function he(e,t){var n,r,o=(n={current:0,next:function(){return++this.current}},r={},{add:function(e,t){var o=null!=t?t:n.next();return r[o]=e,o},resolve:function(e,t,n){var o=r[e];o&&(n(t)?o.resolve(t):o.reject(t),r[e]=null)}});return t((function(e){if(e.detail&&e.detail.data&&"object"==typeof e.detail.data&&"request_id"in e.detail.data){var t=e.detail.data,n=t.request_id,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(t,["request_id"]);n&&o.resolve(n,r,(function(e){return!("error_type"in e)}))}})),function(t,n){return void 0===n&&(n={}),new Promise((function(r,i){var a=o.add({resolve:r,reject:i},n.request_id);e(t,ue(ue({},n),{request_id:a}))}))}}var fe="undefined"!=typeof window,pe=Boolean(fe&&window.AndroidBridge),ve=Boolean(fe&&window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.VKWebAppClose),me=Boolean(fe&&window.ReactNativeWebView&&"function"==typeof window.ReactNativeWebView.postMessage),ye=fe&&!pe&&!ve,ge=ye&&/(^\?|&)vk_platform=mobile_web(&|$)/.test(location.search),be=ye?"message":"VKWebAppEvent",we=de(["VKWebAppInit","VKWebAppGetCommunityAuthToken","VKWebAppAddToCommunity","VKWebAppAddToHomeScreenInfo","VKWebAppClose","VKWebAppCopyText","VKWebAppCreateHash","VKWebAppGetUserInfo","VKWebAppSetLocation","VKWebAppSendToClient","VKWebAppGetClientVersion","VKWebAppGetPhoneNumber","VKWebAppGetEmail","VKWebAppGetGroupInfo","VKWebAppGetGeodata","VKWebAppGetCommunityToken","VKWebAppGetConfig","VKWebAppGetLaunchParams","VKWebAppSetTitle","VKWebAppGetAuthToken","VKWebAppCallAPIMethod","VKWebAppJoinGroup","VKWebAppLeaveGroup","VKWebAppAllowMessagesFromGroup","VKWebAppDenyNotifications","VKWebAppAllowNotifications","VKWebAppOpenPayForm","VKWebAppOpenApp","VKWebAppShare","VKWebAppShowWallPostBox","VKWebAppScroll","VKWebAppShowOrderBox","VKWebAppShowLeaderBoardBox","VKWebAppShowInviteBox","VKWebAppShowRequestBox","VKWebAppAddToFavorites","VKWebAppShowStoryBox","VKWebAppStorageGet","VKWebAppStorageGetKeys","VKWebAppStorageSet","VKWebAppFlashGetInfo","VKWebAppSubscribeStoryApp","VKWebAppOpenWallPost","VKWebAppCheckAllowedScopes","VKWebAppCheckBannerAd","VKWebAppHideBannerAd","VKWebAppShowBannerAd","VKWebAppCheckNativeAds","VKWebAppShowNativeAds","VKWebAppRetargetingPixel","VKWebAppConversionHit","VKWebAppShowSubscriptionBox","VKWebAppCheckSurvey","VKWebAppShowSurvey","VKWebAppScrollTop","VKWebAppScrollTopStart","VKWebAppScrollTopStop","VKWebAppShowSlidesSheet","VKWebAppTranslate"],ye&&!ge?["VKWebAppResizeWindow","VKWebAppAddToMenu","VKWebAppShowInstallPushBox","VKWebAppGetFriends","VKWebAppShowCommunityWidgetPreviewBox","VKWebAppCallStart","VKWebAppCallJoin","VKWebAppCallGetStatus"]:["VKWebAppShowImages"],!0),Ee=fe?window.AndroidBridge:void 0,ke=ve?window.webkit.messageHandlers:void 0,Ae=ye?parent:void 0;var Se,Me,Pe,Re,xe,Le,Te,Ce,Oe,_e,De,Ie,Be,Ne;(Me=Se||(Se={})).REWARD="reward",Me.INTERSTITIAL="interstitial",(Re=Pe||(Pe={})).RESIZE="resize",Re.OVERLAY="overlay",(Le=xe||(xe={})).TOP="top",Le.BOTTOM="bottom",(Ce=Te||(Te={})).CAMERA="camera",Ce.LOCATION="location",Ce.PHOTO="photo",(_e=Oe||(Oe={})).RU="ru",_e.UK="uk",_e.UA="ua",_e.EN="en",_e.BE="be",_e.KZ="kz",_e.PT="pt",_e.ES="es",(Ie=De||(De={})).ADMIN="admin",Ie.EDITOR="editor",Ie.MEMBER="member",Ie.MODER="moder",Ie.NONE="none",(Ne=Be||(Be={})).DESKTOP_WEB="desktop_web",Ne.DESKTOP_WEB_MESSENGER="desktop_web_messenger",Ne.DESKTOP_APP_MESSENGER="desktop_app_messenger",Ne.MOBILE_WEB="mobile_web",Ne.MOBILE_ANDROID="mobile_android",Ne.MOBILE_ANDROID_MESSENGER="mobile_android_messenger",Ne.MOBILE_IPHONE="mobile_iphone",Ne.MOBILE_IPHONE_MESSENGER="mobile_iphone_messenger",Ne.MOBILE_IPAD="mobile_ipad";var We,je,Ke=function(e){var t=void 0,n=[];function r(e){n.push(e)}function o(){return ve||pe}function i(){return ye&&window.parent!==window}function a(){return o()||i()}function s(e){if(ve||pe)return de([],n,!0).map((function(t){return t.call(null,e)}));var r=null==e?void 0:e.data;if(ye&&r){if(me&&"string"==typeof r)try{r=JSON.parse(r)}catch(e){}var o=r.type,i=r.data,a=r.frameId;o&&("VKWebAppSettings"!==o?de([],n,!0).map((function(e){return e({detail:{type:o,data:i}})})):t=a)}}me&&/(android)/i.test(navigator.userAgent)?document.addEventListener(be,s):"undefined"!=typeof window&&"addEventListener"in window&&window.addEventListener(be,s);var l=he((function(n,r){Ee&&Ee[n]?Ee[n](JSON.stringify(r)):ke&&ke[n]&&"function"==typeof ke[n].postMessage?ke[n].postMessage(r):me?window.ReactNativeWebView.postMessage(JSON.stringify({handler:n,params:r})):Ae&&"function"==typeof Ae.postMessage&&Ae.postMessage({handler:n,params:r,type:"vk-connect",webFrameId:t,connectVersion:e},"*")}),r);return{send:l,sendPromise:l,subscribe:r,unsubscribe:function(e){var t=n.indexOf(e);t>-1&&n.splice(t,1)},supports:function(e){return pe?!(!Ee||"function"!=typeof Ee[e]):ve?!(!ke||!ke[e]||"function"!=typeof ke[e].postMessage):!!ye&&we.includes(e)},isWebView:o,isIframe:i,isEmbedded:a,isStandalone:function(){return!a()}}}("2.10.0");(je=We||(We={})).IOS="ios",je.UNKNOWN="";var Ve,He,Ue={};function ze(e){return{matches:!1,media:e,onchange:k,addListener:k,removeListener:k,addEventListener:k,removeEventListener:k,dispatchEvent:function(){return!1}}}(He=Ve||(Ve={})).ANDROID="android",He.IOS="ios",He.VKCOM="vkcom";var Fe={desktop_web:Ve.VKCOM};var Ge,Xe,Ye=m?function(e){try{var t=P.parse(e).vk_platform;return"string"==typeof t&&t in Fe?Fe[t]:void 0}catch(e){return}}(location.search):void 0;(Xe=Ge||(Ge={})).VKAPPS="vkapps",Xe.INTERNAL="internal";var $e,qe=h.createContext({webviewType:Ge.VKAPPS,isWebView:Ke.isWebView(),transitionMotionEnabled:!0,platform:Ye||($e||($e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(Ue[e])return Ue[e];var t=null,n=We.UNKNOWN,r=L(e),o=r.isIOS,i=r.iosMajor,a=r.iosMinor;o&&(n=We.IOS,t={major:i,minor:a});var s={userAgent:e,system:n,systemVersion:t};return Ue[e]=s,s}()),"ios"===$e.system?Ve.IOS:Ve.ANDROID),appearance:void 0,locale:"ru"}),Je=function(){return h.useContext(qe)};function Ze(){var e=Je().appearance;return null!=e?e:"light"}var Qe=m?h.useLayoutEffect:h.useEffect,et={bottom:null,top:null,left:null,right:null};function tt(e){var t=e.detail,n=t.type,r=t.data;switch(n){case"VKWebAppUpdateConfig":case"VKWebAppUpdateInsets":var o=r.insets;if(o)return G(v({},o),{bottom:o.bottom>150?0:o.bottom})}return null}Ke.subscribe((function(e){var t=tt(e);t&&(et=t)}));var nt,rt,ot=["a[href]","area[href]",'input:not([disabled]):not([hidden]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([hidden]):not([aria-hidden])","textarea:not([disabled])","button:not([disabled])","iframe","audio","video","[contenteditable]",'[tabindex]:not([tabindex="-1"])'];(rt=nt||(nt={})).ENTER="Enter",rt.SPACE="Space",rt.TAB="Tab",rt.ESCAPE="Escape",rt.HOME="Home",rt.END="End",rt.ARROW_LEFT="ArrowLeft",rt.ARROW_RIGHT="ArrowRight",rt.ARROW_UP="ArrowUp",rt.ARROW_DOWN="ArrowDown",rt.PAGE_UP="PageUp",rt.PAGE_DOWN="PageDown";var it=[{code:nt.ENTER,key:["Enter"],keyCode:13},{code:nt.SPACE,key:["Space","Spacebar"," "],keyCode:32},{code:nt.TAB,key:["Tab"],keyCode:9},{code:nt.ESCAPE,key:["Escape"],keyCode:27},{code:nt.HOME,key:["Home"],keyCode:36},{code:nt.END,key:["End"],keyCode:35},{code:nt.ARROW_LEFT,key:["ArrowLeft"],keyCode:37},{code:nt.ARROW_RIGHT,key:["ArrowRight"],keyCode:39},{code:nt.ARROW_UP,key:["ArrowUp"],keyCode:40},{code:nt.ARROW_DOWN,key:["ArrowDown"],keyCode:40},{code:nt.PAGE_UP,key:["PageUp"],keyCode:40},{code:nt.PAGE_DOWN,key:["PageDown"],keyCode:40}];function at(e){var t;return(null===(t=it.find((function(t){var n=t.key,r=t.keyCode;return n.includes(e.key)||r===e.keyCode})))||void 0===t?void 0:t.code)||null}function st(e,t,n){var r=h.useRef(t);Qe((function(){r.current=t}),[t]);var o=h.useCallback((function(e){return r.current&&r.current(e)}),[]),i=h.useRef(k),a=h.useCallback((function(){i.current(),i.current=k}),[]),s=h.useCallback((function(t){if(m&&(a(),t)){var r=v({},n);t.addEventListener(e,o,r),i.current=function(){return t.removeEventListener(e,o,r)}}}),[n,o,e,a]);return h.useEffect((function(){return a}),[a]),h.useMemo((function(){return{add:s,remove:a}}),[s,a])}function lt(e,t,n,r){var o=st(t,n,r);Qe((function(){n&&e?o.add(e):o.remove()}),[Boolean(n),Boolean(e)])}var ct={DESKTOP:1280,TABLET:1024,SMALL_TABLET:768,MOBILE:320,MOBILE_LANDSCAPE_HEIGHT:415,MEDIUM_HEIGHT:720};function ut(e){return"(min-width: ".concat(e,"px)")}function dt(e){return"(max-width: ".concat(e-.1,"px)")}function ht(e,t){return"".concat(ut(e)," and ").concat(dt(t))}function ft(e){return"(min-height: ".concat(e,"px)")}function pt(e){return"(max-height: ".concat(e-.1,"px)")}var vt,mt,yt,gt,bt,wt,Et,kt={BREAKPOINTS:ct,MEDIA_QUERIES:{DESKTOP_PLUS:ut(ct.DESKTOP),TABLET:ht(ct.TABLET,ct.DESKTOP),SMALL_TABLET_PLUS:ut(ct.SMALL_TABLET),SMALL_TABLET:ht(ct.SMALL_TABLET,ct.TABLET),MOBILE:ht(ct.MOBILE,ct.SMALL_TABLET),MEDIUM_HEIGHT:ft(ct.MEDIUM_HEIGHT),MOBILE_LANDSCAPE_HEIGHT:ft(ct.MOBILE_LANDSCAPE_HEIGHT)},widthHalfInterval:ht,widthPlus:ut,widthMinus:dt,heightHalfInterval:function(e,t){return"".concat(ft(e)," and ").concat(pt(t))},heightPlus:ft,heightMinus:pt};(mt=vt||(vt={}))[mt.SMALL_MOBILE=1]="SMALL_MOBILE",mt[mt.MOBILE=2]="MOBILE",mt[mt.SMALL_TABLET=3]="SMALL_TABLET",mt[mt.TABLET=4]="TABLET",mt[mt.DESKTOP=5]="DESKTOP",(gt=yt||(yt={}))[gt.EXTRA_SMALL=1]="EXTRA_SMALL",gt[gt.SMALL=2]="SMALL",gt[gt.MEDIUM=3]="MEDIUM",(wt=bt||(bt={})).COMPACT="compact",wt.REGULAR="regular";var At=(p(Et={},vt.SMALL_MOBILE,"smallMobileMinus"),p(Et,vt.MOBILE,"mobile"),p(Et,vt.SMALL_TABLET,"smallTablet"),p(Et,vt.TABLET,"tablet"),p(Et,vt.DESKTOP,"desktopPlus"),Et),St=function(e){return"object"==typeof e&&null!==e&&e.hasOwnProperty("current")},Mt=h.createContext({portalRoot:null}),Pt=function(e,t,n){return Math.max(t,Math.min(e,n))},Rt=function(e){Object.assign(e.style,{position:"",top:"",left:"",right:"",overflowY:"",overflowX:""})},xt=function(e){var t=e.document.documentElement.clientHeight-e.innerHeight;return e.pageYOffset-t},Lt=h.createContext({getScroll:function(){return{x:0,y:0}},scrollTo:k,isScrollLock:!1,enableScrollLock:k,disableScrollLock:k}),Tt=function(){return h.useContext(Lt)},Ct=function(e){var t=e.children,n=N(),r=n.window,o=n.document,i=H(h.useState(!1),2),a=i[0],s=i[1],l=h.useRef(new Set),c=h.useCallback((function(){return{x:r.pageXOffset,y:xt(r)}}),[r]),u=h.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;r.scrollTo(e?Pt(e,0,o.body.scrollWidth-r.innerWidth):0,t?Pt(t,0,o.body.scrollHeight-r.innerHeight):0)}),[o,r]),d=h.useCallback((function(){l.current.forEach((function(e){e()}));var e=r.pageYOffset,t=r.pageXOffset,n=r.innerWidth>o.documentElement.clientWidth?"scroll":"",i=r.innerHeight>o.documentElement.clientHeight?"scroll":"";Object.assign(o.body.style,{position:"fixed",top:"-".concat(e,"px"),left:"-".concat(t,"px"),right:"0",overflowY:n,overflowX:i}),s(!0)}),[o,r]),f=h.useCallback((function(){var e=o.body.style.top,t=o.body.style.left;Rt(o.body),r.scrollTo(-parseInt(t||"0"),-parseInt(e||"0")),s(!1)}),[o,r]),p=h.useMemo((function(){return{getScroll:c,scrollTo:u,isScrollLock:a,disableScrollLock:f,enableScrollLock:d,beforeScrollLockFnSetRef:l}}),[c,u,a,f,d]);return h.createElement(Lt.Provider,{value:p},t)},Ot=function(e){var t,n,r=e.elRef,o=e.children,i=H(h.useState(!1),2),a=i[0],s=i[1],l=h.useRef(new Set),c=h.useCallback((function(){var e,o;return{x:null!==(t=null===(e=r.current)||void 0===e?void 0:e.scrollLeft)&&void 0!==t?t:0,y:null!==(n=null===(o=r.current)||void 0===o?void 0:o.scrollTop)&&void 0!==n?n:0}}),[r]),u=h.useCallback((function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=r.current;null===(e=o)||void 0===e||e.scrollTo(t?Pt(t,0,o.scrollWidth-o.clientWidth):0,n?Pt(n,0,o.scrollHeight-o.clientHeight):0)}),[r]),d=h.useCallback((function(){var e=r.current;if(e){l.current.forEach((function(e){e()}));var t=e.scrollTop,n=e.scrollLeft,o=e.scrollWidth>e.clientWidth?"scroll":"",i=e.scrollHeight>e.clientHeight?"scroll":"";Object.assign(e.style,{position:"absolute",top:"-".concat(t,"px"),left:"-".concat(n,"px"),right:"0",overflowY:o,overflowX:i}),s(!0)}}),[r]),f=h.useCallback((function(){var e=r.current;if(e){var t=e.style.top,n=e.style.left;Rt(e),e.scrollTo(-parseInt(n||"0"),-parseInt(t||"0")),s(!1)}}),[r]),p=h.useMemo((function(){return{getScroll:c,scrollTo:u,isScrollLock:a,disableScrollLock:f,enableScrollLock:d,beforeScrollLockFnSetRef:l}}),[c,u,a,f,d]);return h.createElement(Lt.Provider,{value:p},o)},_t=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=Tt(),n=t.enableScrollLock,r=t.disableScrollLock;Qe((function(){return e?(n(),r):k}),[n,r,e])},Dt=p({none:"vkui--sizeX-none"},bt.REGULAR,"vkui--sizeX-regular"),It="--vkui_internal--safe_area_inset_",Bt=function(e){var t=e.children,n=e.mode,r=void 0===n?"full":n,o=e.scroll,i=void 0===o?"global":o,a=e.portalRoot,s=void 0===a?null:a,l=e.disablePortal,c=e.className,u=V(e,["children","mode","scroll","portalRoot","disablePortal","className"]),d=function(){var e=N().document,t=H(h.useState(!1),2),n=t[0],r=t[1],o=h.useCallback((function(){r(!0)}),[]),i=h.useCallback((function(e){at(e)===nt.TAB&&o()}),[o]),a=h.useCallback((function(){r(!1)}),[]),s={passive:!0,capture:!0};return lt(e,"keydown",i,s),lt(e,"mousedown",a,s),lt(e,"touchstart",a,s),lt(e,"enableKeyboardInput",o,s),lt(e,"disableKeyboardInput",a,s),n}(),f=h.useRef(null),p=H(h.useState(null),2),m=p[0],y=p[1],g=N().document,w=function(){var e=H(h.useState(et),2),t=e[0],n=e[1];return Qe((function(){var e=function(e){var t=tt(e);t&&n(t)};return Ke.subscribe(e),function(){Ke.unsubscribe(e)}}),[]),t}(),A=Ze(),S=ce(),M=S.hasPointer,P=S.sizeX,R=void 0===P?"none":P;Qe((function(){var e=null;return s&&(e=St(s)?s.current:s),e||(e=g.createElement("div"),g.body.appendChild(e)),y(e),function(){var t,n;s||(null===(n=e)||void 0===n||null===(t=n.parentElement)||void 0===t||t.removeChild(e))}}),[s]),Qe((function(){var e,t,n;if("partial"===r)return k;var o=null===(t=f.current)||void 0===t?void 0:t.parentElement,i=["vkui__root"].concat("embedded"===r?"vkui__root--embedded":[]);return null===(n=o)||void 0===n||(e=n.classList).add.apply(e,b(i)),function(){var e,t;null===(t=o)||void 0===t||(e=t.classList).remove.apply(e,b(i))}}),[]),Qe((function(){if("full"===r)return g.documentElement.classList.add("vkui"),function(){g.documentElement.classList.remove("vkui")}}),[g,r]),Qe((function(){var e;if("partial"===r||!(null===(e=f.current)||void 0===e?void 0:e.parentElement))return k;var t,n=f.current.parentElement;for(t in w)if(w.hasOwnProperty(t)&&"number"==typeof w[t]){var o=w[t];n.style.setProperty(It+t,"".concat(o,"px")),m&&m.style.setProperty(It+t,"".concat(o,"px"))}return function(){var e;for(e in w)w.hasOwnProperty(e)&&(n.style.removeProperty(It+e),m&&m.style.removeProperty(It+e))}}),[w,m]),Qe((function(){var e;if("partial"===r)return k;var t=R!==bt.COMPACT?Dt[R]:null,n="embedded"===r?null===(e=f.current)||void 0===e?void 0:e.parentElement:g.body;return null!==t&&n?(n.classList.add(t),function(){n.classList.remove(t)}):k}),[R]),Qe((function(){return"full"!==r||void 0===A?k:(g.documentElement.style.setProperty("color-scheme",A),function(){return g.documentElement.style.removeProperty("color-scheme")})}),[A]);var x=h.useMemo((function(){return"contain"===i?Ot:Ct}),[i]),L=h.createElement(Mt.Provider,{value:{appRoot:f,portalRoot:m,embedded:"embedded"===r,keyboardInput:d,mode:r,disablePortal:l}},h.createElement(x,{elRef:f},h.createElement(ee,{classPrefix:"vkui"},t)));return"partial"===r?L:h.createElement("div",v({ref:f,className:E("vkuiAppRoot",void 0===M?"vkuiAppRoot--pointer-none":!M&&"vkuiAppRoot--pointer-has-not",c)},u),L)};function Nt(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=H(h.useState(e),2),n=t[0],r=t[1];return h.useEffect((function(){r(!0)}),[]),n}function Wt(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=h.useContext(le).hasPointer,n=void 0===t?D:t;if(Nt(!e))return n}function jt(e){var t="";return h.Children.map(e,(function(e){"string"==typeof e&&(t+=" "+e)})),t.trim()}function Kt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=h.useRef(null);return h.useMemo((function(){return{get current(){return r.current},set current(e){r.current=e,t.forEach((function(t){t&&function(e,t){t&&("function"==typeof t?t(e):t.current=e)}(e,t)}))}}}),t)}function Vt(){return Je().platform}function Ht(e,t){var n=h.useRef({cb:e,duration:t});Qe((function(){n.current.cb=e,n.current.duration=t}),[e,t]);var r=h.useRef(),o=h.useCallback((function(){var e;m&&(null===(e=r)||void 0===e?void 0:e.current)&&clearTimeout(r.current)}),[]),i=h.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.current.duration;o(),m&&(r.current=setTimeout((function(){var e=n.current.cb;"function"==typeof e&&e()}),e))}),[o]);return Qe((function(){return o}),[]),{set:i,clear:o}}var Ut=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.filter((function(e){return"function"==typeof e})).forEach((function(e){return e.apply(void 0,b(n))}))}};var zt=function(e){return null!=e.clientX?e.clientX:e.changedTouches&&e.changedTouches[0].clientX},Ft=function(e){return null!=e.clientY?e.clientY:e.changedTouches&&e.changedTouches[0].clientY},Gt=function(){return m&&"ontouchstart"in window};function Xt(){return Gt()?["touchstart","touchmove","touchend","touchcancel"]:["mousedown","mousemove","mouseup","mouseleave"]}function Yt(e,t,n,r){if(r||e<0)return e;var o=e*n;return o*t/(o+t)}var $t=function(e){var t=e.visible,n=e.mode,r=e.thin,o=V(e,["visible","mode","thin"]);return h.createElement("span",G(v({},o),{"aria-hidden":!0,className:E("vkuiFocusVisible",t&&"vkuiFocusVisible--visible",r&&"vkuiFocusVisible--thin",{inside:"vkuiFocusVisible--mode-inside",outside:"vkuiFocusVisible--mode-outside",outline:"vkuiFocusVisible--mode-outline"}[n])}))},qt=function(e){var t=function(e){var t,r=null!==(t=_.current)&&void 0!==t?t:{},o=r.isPressed,i=r.isSlide,a=r.isSlideX,s=r.isSlideY;o&&D(e,[d,s&&p,a&&f]);var l=Gt();O.current=(!l||!i)&&Boolean(i),_.current={},l&&c&&c(e),n()},n=function(){H.forEach((function(e){return e.remove()}))},r=e.onStart,o=e.onStartX,i=e.onStartY,a=e.onMove,s=e.onMoveX,l=e.onMoveY,c=e.onLeave,u=e.onEnter,d=e.onEnd,f=e.onEndX,p=e.onEndY,m=e.onClickCapture,y=e.usePointerHover,g=e.slideThreshold,b=void 0===g?5:g,w=e.useCapture,E=void 0!==w&&w,k=e.Component,A=void 0===k?"div":k,S=e.getRootRef,M=e.noSlideClick,P=void 0!==M&&M,R=e.stopPropagation,x=void 0!==R&&R,L=V(e,["onStart","onStartX","onStartY","onMove","onMoveX","onMoveY","onLeave","onEnter","onEnd","onEndX","onEndY","onClickCapture","usePointerHover","slideThreshold","useCapture","Component","getRootRef","noSlideClick","stopPropagation"]),T=N().document,C=h.useMemo(Xt,[]),O=h.useRef(!1),_=h.useRef(null),D=function(e,t){x&&e.stopPropagation(),t.forEach((function(t){var n,r,o,i=Date.now()-(null!==(o=null===(r=_.current)||void 0===r||null===(n=r.startT)||void 0===n?void 0:n.getTime())&&void 0!==o?o:0);t&&t(G(v({},_.current),{duration:i,originalEvent:e}))}))},I=st(y?"pointerenter":"mouseenter",u),B=st(y?"pointerleave":"mouseleave",c),W=st(C[0],(function(e){var t,n,a;_.current=(t=zt(e),n=Ft(e),{startX:t,startY:n,startT:new Date,duration:0,isPressed:!0,isY:!1,isX:!1,isSlideX:!1,isSlideY:!1,isSlide:!1,shiftX:0,shiftY:0,shiftXAbs:0,shiftYAbs:0}),D(e,[r,o,i]),(a=Gt()?e.target:T)&&H.forEach((function(e){return e.add(a)}))}),{capture:E,passive:!1}),j=Kt(S);Qe((function(){var e=j.current;e&&(I.add(e),B.add(e),W.add(e))}),[A]);var K={capture:E,passive:!1},H=[st(C[1],(function(e){var n,r=null!==(n=_.current)&&void 0!==n?n:{},o=r.isPressed,i=r.isX,c=r.isY,u=r.startX,d=void 0===u?0:u,h=r.startY,f=void 0===h?0:h;if(o){var p,v=zt(e)-d,m=Ft(e)-f,y=Math.abs(v),g=Math.abs(m);if(e.touches&&e.touches.length>1)return t(e);if(!i&&!c){var w=y>=b&&y>g,E=g>=b&&g>y,k=w&&(!!s||!!a),A=E&&(!!l||!!a);_.current&&Object.assign(_.current,{isY:E,isX:w,isSlideX:k,isSlideY:A,isSlide:k||A})}(null===(p=_.current)||void 0===p?void 0:p.isSlide)&&(Object.assign(_.current,{shiftX:v,shiftY:m,shiftXAbs:y,shiftYAbs:g}),D(e,[a,_.current.isSlideX&&s,_.current.isSlideY&&l]))}}),K),st(C[2],t,K),st(C[3],t,K)];return h.createElement(A,G(v({},L),{onDragStart:function(e){var t=e.target;"A"!==t.tagName&&"IMG"!==t.tagName||e.preventDefault()},onClickCapture:function(e){if(!O.current)return m&&m(e);P?(e.stopPropagation(),e.preventDefault()):m&&m(e),O.current=!1},ref:j}))};const Jt=h.createContext(!1);var Zt,Qt={none:"vkuiTappable--sizeX-none",compact:"vkuiTappable--sizeX-compact"},en={all:Zt=Zt||new Map,on:function(e,t){var n=Zt.get(e);n?n.push(t):Zt.set(e,[t])},off:function(e,t){var n=Zt.get(e);n&&(t?n.splice(n.indexOf(t)>>>0,1):Zt.set(e,[]))},emit:function(e,t){var n=Zt.get(e);n&&n.slice().map((function(e){e(t)})),(n=Zt.get("*"))&&n.slice().map((function(n){n(e,t)}))}},tn=0,nn=1,rn=2,on=3,an=h.createContext({onHoverChange:k});function sn(e){switch(e){case"opacity":case"background":return!0;default:return!1}}var ln=function(e){var t=e.children,n=e.Component,r=e.onClick,o=e.onKeyDown,i=e.activeEffectDelay,a=void 0===i?600:i,s=e.stopPropagation,l=void 0!==s&&s,c=e.getRootRef,u=e.hasHover,d=void 0===u||u,f=e.hoverMode,p=void 0===f?"background":f,m=e.hasActive,y=void 0===m||m,g=e.activeMode,w=void 0===g?"background":g,A=e.focusVisibleMode,S=void 0===A?"inside":A,M=e.onEnter,P=e.onLeave,R=e.className,x=e.hovered,L=V(e,["children","Component","onClick","onKeyDown","activeEffectDelay","stopPropagation","getRootRef","hasHover","hoverMode","hasActive","activeMode","focusVisibleMode","onEnter","onLeave","className","hovered"]);n=n||(L.href?"a":"div");var T=h.useContext(an).onHoverChange,C=h.useContext(Jt),O=Vt(),_=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=H(h.useState(!1),2),n=t[0],r=t[1],o=h.useContext(Mt).keyboardInput;return{focusVisible:e?o&&n:n,onFocus:h.useCallback((function(e){e.stopPropagation(),r(!0)}),[r]),onBlur:h.useCallback((function(e){e.stopPropagation(),r(!1)}),[r])}}(),D=_.focusVisible,B=_.onBlur,N=_.onFocus,W=ce().sizeX,j=void 0===W?"none":W,K=Wt(),U=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=h.useContext(le).hasHover,n=void 0===t?I:t;if(Nt(!e))return n}(),z=H(h.useState([]),2),F=z[0],X=z[1],Y=H(h.useState(!1),2),$=Y[0],q=Y[1],J=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=H(h.useState(e),2),n=t[0],r=t[1],o=h.useCallback((function(){r(!0)}),[]),i=h.useCallback((function(){r(!1)}),[]),a=h.useCallback((function(){r(!n)}),[n]);return{value:n,setTrue:o,setFalse:i,toggle:a}}(!1),Z=J.value,Q=J.setTrue,ee=J.setFalse,te=(Z||x)&&!L.disabled,ne=y&&!$&&!L.disabled,re=U&&d&&!$,oe="a"!==n&&"button"!==n&&"label"!==n&&!L.contentEditable,ie=sn(p),ae=sn(w),se=["inside","outside"].includes(S),ue=H(function(e,t){var n=h.useMemo((function(){return Math.round(1e8*Math.random()).toString(16)}),[]),r=H(h.useState(tn),2),o=r[0],i=r[1],a=function(){return i(tn)},s=function(){return e&&i(rn)},l=Ht(s,70),c=Ht(a,t);return Qe((function(){return o===nn?(l.set(),l.clear):o===on?c.clear:(o===rn&&en.emit("active",n),k)}),[o]),Qe((function(){if(o===tn)return k;var e=function(e){e!==n&&a()};return en.on("active",e),function(){return en.off("active",e)}}),[o===tn]),Qe((function(){!e&&a()}),[e]),[o,{delayStart:function(){e&&i(nn)},start:s,stop:function(e){if(e)return i(on),c.set(e);a()}}]}(ne,a),2),de=ue[0],he=ue[1],fe=he.start,pe=he.stop,ve=he.delayStart,me=de===rn||de===on,ye=Kt(c),ge=h.useRef({onHoverChange:q}).current;Qe((function(){return te?(T(!0),function(){return T(!1)}):k}),[te]);var be=O===Ve.ANDROID&&!K&&ne&&"background"===w,we=Ht((function(){return X([])}),225),Ee=E(R,"vkuiTappable","vkuiInternalTappable",O===Ve.IOS&&"vkuiTappable--ios",j!==bt.REGULAR&&Qt[j],re&&"vkuiTappable--hasHover",ne&&"vkuiTappable--hasActive",re&&te&&!ie&&p,ne&&me&&!ae&&w,D&&!se&&S,re&&te&&ie&&{background:"vkuiTappable--hover-background",opacity:"vkuiTappable--hover-opacity"}[p],ne&&me&&ae&&{background:"vkuiTappable--active-background",opacity:"vkuiTappable--active-opacity"}[w],D&&"vkuiTappable--focus-visible"),ke={onStart:Ut((function(e){var t,n,r,o,i,a,s,l=e.originalEvent;if(ne){if(l.touches&&l.touches.length>1)return pe();if(be){var c=(t=ye.current,s=null===(n=t)||void 0===n?void 0:n.getBoundingClientRect(),{top:null===(r=s)||void 0===r?void 0:r.top,left:null===(o=s)||void 0===o?void 0:o.left,width:null===(i=t)||void 0===i?void 0:i.offsetWidth,height:null===(a=t)||void 0===a?void 0:a.offsetHeight}),u=c.top,d=c.left;!function(e,t){var n=Date.now(),r=F.filter((function(e){return e.id+225>n}));X(b(r).concat([{x:e,y:t,id:n}])),we.set()}(zt(l)-(null!=d?d:0),Ft(l)-(null!=u?u:0))}ve()}}),L.onStart),onMove:Ut((function(e){e.isSlide&&pe()}),L.onMove),onEnd:Ut((function(e){var t=e.duration;if(de!==tn){de===nn&&fe();var n=t-70;pe(n>=100?0:a-n)}}),L.onEnd),onClick:r,onKeyDown:Ut((function(e){var t;oe&&function(e){var t=e.target,n=t.tagName,r=t.getAttribute("role"),o=!0!==t.isContentEditable&&"INPUT"!==n&&"TEXTAREA"!==n&&("button"===r||"link"===r),i="A"===n&&t.hasAttribute("href"),a=at(e);return o&&(a===nt.SPACE&&"button"===r||a===nt.ENTER&&!i)}(e)&&(e.preventDefault(),null===(t=ye.current)||void 0===t||t.click())}),o)},Ae=L.href?"link":"button";return h.createElement(qt,v(G(v({onEnter:Ut(Q,M),onLeave:Ut(ee,P),type:"button"===n?"button":void 0,tabIndex:oe&&!L.disabled?0:void 0,role:oe?Ae:void 0,"aria-disabled":oe?L.disabled:void 0,stopPropagation:l&&!C&&!L.disabled},L),{slideThreshold:20,usePointerHover:!0,className:Ee,Component:n,getRootRef:ye,onBlur:Ut(B,L.onBlur),onFocus:Ut(N,L.onFocus)}),L.disabled?{}:ke),h.createElement(an.Provider,{value:ge},t),be&&h.createElement("span",{"aria-hidden":!0,className:"vkuiTappable__waves"},F.map((function(e){return h.createElement("span",{key:e.id,className:"vkuiTappable__wave",style:{top:e.y,left:e.x}})}))),(re&&"background"===p||ne&&"background"===w)&&h.createElement("span",{"aria-hidden":!0,className:"vkuiTappable__stateLayer"}),!L.disabled&&se&&h.createElement($t,{visible:D,mode:S}))},cn=function(e){var t=e.Component,n=void 0===t?"span":t,r=e.getRootRef,o=e.className,i=V(e,["Component","getRootRef","className"]);return h.createElement(n,G(v({},i),{className:E("vkuiVisuallyHidden",o),ref:r}))},un=h.memo((function(e){var t=e.size,n=void 0===t?"regular":t,r=e.children,o=void 0===r?"Загружается...":r,i=e["aria-label"],a=void 0===i?"Загружается...":i,s=e.disableAnimation,l=e.className,c=V(e,["size","children","aria-label","disableAnimation","className"]),u={small:te,regular:re,medium:ae,large:se}[n],d={small:8,regular:12,medium:16,large:22}[n];return h.createElement("span",G(v({role:"status"},c),{className:E("vkuiSpinner",l)}),h.createElement(u,null,!s&&h.createElement("animateTransform",{attributeName:"transform",attributeType:"XML",type:"rotate",from:"0 ".concat(d," ").concat(d),to:"360 ".concat(d," ").concat(d),dur:"0.7s",repeatCount:"indefinite"})),h.createElement(cn,null,null!=o?o:a))}));un.displayName="Spinner";var dn=p({none:"vkuiButton--sizeY-none"},bt.REGULAR,"vkuiButton--sizeY-regular"),hn=function(e){var t=e.size,n=void 0===t?"s":t,r=e.mode,o=void 0===r?"primary":r,i=e.appearance,a=void 0===i?"accent":i,s=e.stretched,l=void 0!==s&&s,c=e.align,u=void 0===c?"center":c,d=e.children,f=e.before,p=e.after,m=e.getRootRef,y=e.loading,g=e.onClick,b=e.stopPropagation,w=void 0===b||b,k=e.className,A=e.disableSpinnerAnimation,S=V(e,["size","mode","appearance","stretched","align","children","before","after","getRootRef","loading","onClick","stopPropagation","className","disableSpinnerAnimation"]),M=Boolean(f||p),P=!d&&Boolean(p)!==Boolean(f),x=ce().sizeY,L=void 0===x?"none":x,T=Vt();return h.createElement(ln,G(v({hoverMode:"vkuiButton--hover",activeMode:"vkuiButton--active",Component:S.href?"a":"button",focusVisibleMode:"outside"},S),{onClick:y?void 0:g,stopPropagation:w,className:E(k,"vkuiButton",{s:"vkuiButton--size-s",m:"vkuiButton--size-m",l:"vkuiButton--size-l"}[n],{primary:"vkuiButton--mode-primary",secondary:"vkuiButton--mode-secondary",tertiary:"vkuiButton--mode-tertiary",outline:"vkuiButton--mode-outline",link:"vkuiButton--mode-link"}[o],{accent:"vkuiButton--appearance-accent",positive:"vkuiButton--appearance-positive",negative:"vkuiButton--appearance-negative",neutral:"vkuiButton--appearance-neutral",overlay:"vkuiButton--appearance-overlay","accent-invariable":"vkuiButton--appearance-accent-invariable"}[a],{left:"vkuiButton--align-left",center:"vkuiButton--align-center",right:"vkuiButton--align-right"}[u],L!==bt.COMPACT&&dn[L],T===Ve.IOS&&"vkuiButton--ios",l&&"vkuiButton--stretched",M&&"vkuiButton--with-icon",P&&!l&&"vkuiButton--singleIcon",y&&"vkuiButton--loading"),getRootRef:m}),y&&h.createElement(un,{size:"small",className:"vkuiButton__spinner",disableAnimation:A}),h.createElement("span",{className:"vkuiButton__in"},R(f)&&h.createElement("span",{className:"vkuiButton__before",role:"presentation","data-testid":void 0},f),R(d)&&h.createElement("span",{className:"vkuiButton__content","data-testid":void 0},d),R(p)&&h.createElement("span",{className:"vkuiButton__after",role:"presentation","data-testid":void 0},p)))};function fn(e){var t,n,r=h.useRef(e);return t=r.current,n=e,Object.keys(t).length===Object.keys(n).length&&Object.keys(t).every((function(e){return t[e]===n[e]}))||(r.current=e),r.current}function pn(e,t){e.addEventListener?e.addEventListener("change",t):e.addListener(t)}function vn(e,t){e.removeEventListener?e.removeEventListener("change",t):e.removeListener(t)}var mn=function(e,t){var n;switch(e){case Ve.ANDROID:n="vkBase";break;case Ve.IOS:n="vkIOS";break;case Ve.VKCOM:n="vkCom";break;default:n=e}return"vkui--".concat(n,"--").concat(t)},yn=function(e){var t=e.children,n=e.platform,r=e.appearance;return h.createElement(h.Fragment,null,h.Children.map(t,(function(e){return h.isValidElement(e)?h.cloneElement(e,{className:E(e.props.className,mn(n,r))}):e})))};function gn(e){var t=e.children,n=V(e,["children"]),r=fn(v({},Je(),n));return f.createElement(qe.Provider,{value:r},t)}var bn=function(e){var t=e.appearance,n=e.children,r=Vt();return h.createElement(gn,{appearance:t},h.createElement(yn,{platform:r,appearance:t},n))},wn=function(e){var t=e.alignY,n=void 0===t?"center":t,r=e.alignX,o=void 0===r?"center":r,i=e.closing,a=void 0!==i&&i,s=e.hasMask,l=void 0===s||s,c=e.fixed,u=void 0===c||c,d=e.children,f=e.onClick,p=e.className,m=V(e,["alignY","alignX","closing","hasMask","fixed","children","onClick","className"]),y=Vt(),g=H(h.useState(!l),2),b=g[0],w=g[1],k=h.useRef(null),A=function(e){e&&"vkuivkui-animation-full-fade-in"!==e.animationName||w(!0)},S=Ht(A,y===Ve.IOS?300:200);return h.useEffect((function(){!b&&S.set()}),[S,b]),lt(N().window,"touchmove",(function(e){return e.preventDefault()}),{passive:!1}),h.createElement("div",G(v({},m),{className:E("vkuiPopoutWrapper",{center:"vkuiPopoutWrapper--alignY-center",top:"vkuiPopoutWrapper--alignY-top",bottom:"vkuiPopoutWrapper--alignY-bottom"}[n],{center:"vkuiPopoutWrapper--alignX-center",left:"vkuiPopoutWrapper--alignX-left",right:"vkuiPopoutWrapper--alignX-right"}[o],a&&"vkuiPopoutWrapper--closing",b&&"vkuiPopoutWrapper--opened",u&&"vkuiPopoutWrapper--fixed",l&&"vkuiPopoutWrapper--masked",p),onAnimationEnd:b?void 0:A,ref:k}),h.createElement("div",{className:"vkuiPopoutWrapper__container"},h.createElement("div",{className:"vkuiPopoutWrapper__overlay",onClick:f}),h.createElement("div",{className:"vkuiPopoutWrapper__content"},d)))},En=function(e){return h.createElement("svg",v({className:"vkuiIcon",width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),h.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M40 24c0 8.837-7.163 16-16 16S8 32.837 8 24 15.163 8 24 8s16 7.163 16 16Zm-10.08-4.33a1.125 1.125 0 0 0-1.59-1.59L24 22.409l-4.33-4.33a1.125 1.125 0 0 0-1.59 0l-.101.116a1.125 1.125 0 0 0 .1 1.476L22.41 24l-4.33 4.33a1.125 1.125 0 0 0 1.591 1.59L24 25.591l4.33 4.33c.439.439 1.151.439 1.59 0l.101-.116a1.125 1.125 0 0 0-.1-1.476L25.59 24l4.33-4.33Z",fill:"currentColor"}))},kn=function(e){return h.createElement("svg",v({className:"vkuiIcon",width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),h.createElement("path",{d:"M9 24L19 34L39 14",stroke:"currentColor",strokeWidth:"3.5",strokeLinecap:"round",strokeLinejoin:"round"}))},An=function(e){var t=e.style,n=e.className,r=e.state,o=void 0===r?"loading":r,i=e.size,a=void 0===i?"large":i,s=e["aria-label"],l=void 0===s?"Пожалуйста, подождите...":s,c=e.onClick,u=V(e,["style","className","state","size","aria-label","onClick"]),d="done"===o||"error"===o,f={loading:function(){return null},cancelable:ne,done:kn,error:En}[o];return _t(),h.createElement(wn,{hasMask:!1,className:E("vkuiScreenSpinner","cancelable"===o&&"vkuiScreenSpinner--clickable",n),style:t},h.createElement("div",{className:"vkuiScreenSpinner__container",onClick:c},h.createElement(un,v({className:E("vkuiScreenSpinner__spinner",d&&"vkuiScreenSpinner__spinner--hidden"),size:a,"aria-label":l},u)),h.createElement("div",{className:E("vkuiScreenSpinner__icon","done"===o&&"vkuiScreenSpinner__icon--state-done")},h.createElement(f,null))))},Sn=function(e){var t=e.hasVisited,n=e.children,r=e.className,o=V(e,["hasVisited","children","className"]);return h.createElement(ln,G(v({Component:o.href?"a":"button"},o),{className:E("vkuiLink",t&&"vkuiLink--has-visited",r),hasHover:!1,activeMode:"opacity",focusVisibleMode:"vkuiLink--focus-visible"}),n)},Mn={type:"",viewportWidth:0,viewportHeight:0};function Pn(e){var t=e.detail,n=t.type,r=t.data;if("VKWebAppUpdateConfig"!==n||!r)return null;var o=r.adaptivity,i=r.viewport_width,a=r.viewport_height,s={type:"",viewportWidth:isFinite(i)?+i:0,viewportHeight:isFinite(a)?+a:0};switch(o){case"force_mobile":case"force_mobile_compact":case"adaptive":s.type=o}return s}Ke.subscribe((function(e){var t=Pn(e);t&&(Mn=t)}));var Rn=function(e){var t,n,r,o=e.viewWidth,i=e.viewHeight,a=e.sizeX,s=e.sizeY,l=e.hasPointer,c=e.hasHover,u=e.children,d=(t=H(h.useState(Mn),2),n=t[0],r=t[1],Qe((function(){var e=function(e){var t=Pn(e);t&&r(t)};return Ke.subscribe(e),function(){Ke.unsubscribe(e)}}),[]),n),f=h.useMemo((function(){return function(e,t){var n=e.viewWidth,r=e.viewHeight,o=e.sizeX,i=e.sizeY,a=e.hasPointer,s=e.hasHover;if("adaptive"===t.type){var l=t.viewportWidth,c=t.viewportHeight;n=l>=kt.BREAKPOINTS.DESKTOP?vt.DESKTOP:l>=kt.BREAKPOINTS.TABLET?vt.TABLET:l>=kt.BREAKPOINTS.SMALL_TABLET?vt.SMALL_TABLET:l>=kt.BREAKPOINTS.MOBILE?vt.MOBILE:vt.SMALL_MOBILE,r=c>=kt.BREAKPOINTS.MEDIUM_HEIGHT?yt.MEDIUM:c>=kt.BREAKPOINTS.MOBILE_LANDSCAPE_HEIGHT?yt.SMALL:yt.EXTRA_SMALL,o=n<=vt.MOBILE?bt.COMPACT:bt.REGULAR,i=n>=vt.SMALL_TABLET&&D||r<=yt.EXTRA_SMALL?bt.COMPACT:bt.REGULAR}else"force_mobile"===t.type||"force_mobile_compact"===t.type?(n=vt.MOBILE,o=bt.COMPACT,i="force_mobile_compact"===t.type?bt.COMPACT:bt.REGULAR):(void 0===o&&void 0!==n&&(o=n<=vt.MOBILE?bt.COMPACT:bt.REGULAR),void 0===i&&void 0!==n&&void 0!==r&&(i=n>=vt.SMALL_TABLET&&D||r<=yt.EXTRA_SMALL?bt.COMPACT:bt.REGULAR));return{viewWidth:n,viewHeight:r,sizeX:o,sizeY:i,hasPointer:a,hasHover:s}}({viewWidth:o,viewHeight:i,sizeX:a,sizeY:s,hasPointer:l,hasHover:c},d)}),[o,i,a,s,l,c,d]);return h.createElement(le.Provider,{value:f},u)};var xn,Ln,Tn,Cn,On=function(e){var t=e.children,n=e.getRootRef,r=e.className,o=V(e,["children","getRootRef","className"]);return h.createElement("div",G(v({},o),{ref:n,className:E("vkuiDiv",r)}),t)},_n=h.memo((function(e){var t=e.height,n=void 0===t?96:t,r=e.style,o=V(e,["height","style"]);return h.createElement(un,G(v({size:"regular"},o),{style:v({height:n},r)}))}));_n.displayName="PanelSpinner",(Ln=xn||(xn={})).BRIGHT_LIGHT="bright_light",Ln.SPACE_GRAY="space_gray",Ln.VKCOM_LIGHT="vkcom_light",Ln.VKCOM_DARK="vkcom_dark",(Cn=Tn||(Tn={})).DARK="dark",Cn.LIGHT="light";var Dn=function(e){return e===xn.SPACE_GRAY||e===xn.VKCOM_DARK?"dark":"light"};function In(e,t){var n=function(n){var r=function(e){var t=e.scheme,n=e.appearance;return n||Dn(t)}(n);r&&(t(),e(r))},r=function(e){var t=e.detail,r=t.type,o=t.data;"VKWebAppUpdateConfig"===r&&n(o)};return Ke.subscribe(r),Ke.send("VKWebAppGetConfig").then(n).catch(console.error),function(){return Ke.unsubscribe(r)}}var Bn,Nn,Wn=function(e,t){var n=N().window,r=h.useRef((function(){t&&t(),r.current=k})),o=H(h.useState((function(){var t;return e||((null===(t=n&&n.matchMedia&&n.matchMedia("(prefers-color-scheme: dark)"))||void 0===t?void 0:t.matches)?"dark":"light")})),2),i=o[0],a=o[1];return h.useEffect((function(){return e?(a(e),k):Ke.isEmbedded()?In(a,r.current):function(e,t){var n=e&&e.matchMedia&&e.matchMedia("(prefers-color-scheme: dark)");if(void 0===n)return k;var r=function(e){t(e.matches?"dark":"light")};return r(n),pn(n,r),function(){return vn(n,r)}}(n,a)}),[n,e]),i},jn=function(e){var t=v({},Je(),e),n=t.children,r=t.webviewType,o=t.isWebView,i=t.transitionMotionEnabled,a=t.platform,s=t.locale,l=t.appearance,c=t.onDetectAppearanceByBridge,u=Wn(l,void 0===c?k:c),d=N().document;Qe((function(){var e=mn(a,u);return d.body.classList.add(e),function(){d.body.classList.remove(e)}}),[a,u]);var f=fn({webviewType:r,isWebView:o,transitionMotionEnabled:i,platform:a,locale:s,appearance:u});return h.createElement(qe.Provider,{value:f},h.createElement(yn,{platform:a,appearance:u},n))};
/**
 * @remix-run/router v1.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
function Kn(){return Kn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kn.apply(this,arguments)}(Nn=Bn||(Bn={})).Pop="POP",Nn.Push="PUSH",Nn.Replace="REPLACE";const Vn="popstate";function Hn(e){return void 0===e&&(e={}),function(e,t,n,r){void 0===r&&(r={});let{window:o=document.defaultView,v5Compat:i=!1}=r,a=o.history,s=Bn.Pop,l=null,c=u();null==c&&(c=0,a.replaceState(Kn({},a.state,{idx:c}),""));function u(){return(a.state||{idx:null}).idx}function d(){s=Bn.Pop;let e=u(),t=null==e?null:e-c;c=e,l&&l({action:s,location:v.location,delta:t})}function h(e,t){s=Bn.Push;let r=Gn(v.location,e,t);n&&n(r,e),c=u()+1;let d=Fn(r,c),h=v.createHref(r);try{a.pushState(d,"",h)}catch(e){if(e instanceof DOMException&&"DataCloneError"===e.name)throw e;o.location.assign(h)}i&&l&&l({action:s,location:v.location,delta:1})}function f(e,t){s=Bn.Replace;let r=Gn(v.location,e,t);n&&n(r,e),c=u();let o=Fn(r,c),d=v.createHref(r);a.replaceState(o,"",d),i&&l&&l({action:s,location:v.location,delta:0})}function p(e){let t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"==typeof e?e:Xn(e);return Un(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}let v={get action(){return s},get location(){return e(o,a)},listen(e){if(l)throw new Error("A history only accepts one active listener");return o.addEventListener(Vn,d),l=e,()=>{o.removeEventListener(Vn,d),l=null}},createHref:e=>t(o,e),createURL:p,encodeLocation(e){let t=p(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:h,replace:f,go:e=>a.go(e)};return v}((function(e,t){let{pathname:n="/",search:r="",hash:o=""}=Yn(e.location.hash.substr(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),Gn("",{pathname:n,search:r,hash:o},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"==typeof t?t:Xn(t))}),(function(e,t){zn("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),e)}function Un(e,t){if(!1===e||null==e)throw new Error(t)}function zn(e,t){if(!e)try{throw new Error(t)}catch(e){}}function Fn(e,t){return{usr:e.state,key:e.key,idx:t}}function Gn(e,t,n,r){return void 0===n&&(n=null),Kn({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof t?Yn(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function Xn(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function Yn(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var $n,qn;(qn=$n||($n={})).data="data",qn.deferred="deferred",qn.redirect="redirect",qn.error="error";const Jn=new Set(["lazy","caseSensitive","path","id","index","children"]);function Zn(e,t,n,r){return void 0===n&&(n=[]),void 0===r&&(r={}),e.map(((e,o)=>{let i=[...n,o],a="string"==typeof e.id?e.id:i.join("-");if(Un(!0!==e.index||!e.children,"Cannot specify children on an index route"),Un(!r[a],'Found a route id collision on id "'+a+"\".  Route id's must be globally unique within Data Router usages"),function(e){return!0===e.index}(e)){let n=Kn({},e,t(e),{id:a});return r[a]=n,n}{let n=Kn({},e,t(e),{id:a,children:void 0});return r[a]=n,e.children&&(n.children=Zn(e.children,t,i,r)),n}}))}function Qn(e,t,n){void 0===n&&(n="/");let r=fr(("string"==typeof t?Yn(t):t).pathname||"/",n);if(null==r)return null;let o=er(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(o);let i=null;for(let e=0;null==i&&e<o.length;++e)i=ur(o[e],hr(r));return i}function er(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let o=(e,o,i)=>{let a={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:o,route:e};a.relativePath.startsWith("/")&&(Un(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let s=yr([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(Un(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),er(e.children,t,l,s)),(null!=e.path||e.index)&&t.push({path:s,score:cr(s,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let n of tr(e.path))o(e,t,n);else o(e,t)})),t}function tr(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===r.length)return o?[i,""]:[i];let a=tr(r.join("/")),s=[];return s.push(...a.map((e=>""===e?i:[i,e].join("/")))),o&&s.push(...a),s.map((t=>e.startsWith("/")&&""===t?"/":t))}const nr=/^:\w+$/,rr=3,or=2,ir=1,ar=10,sr=-2,lr=e=>"*"===e;function cr(e,t){let n=e.split("/"),r=n.length;return n.some(lr)&&(r+=sr),t&&(r+=or),n.filter((e=>!lr(e))).reduce(((e,t)=>e+(nr.test(t)?rr:""===t?ir:ar)),r)}function ur(e,t){let{routesMeta:n}=e,r={},o="/",i=[];for(let e=0;e<n.length;++e){let a=n[e],s=e===n.length-1,l="/"===o?t:t.slice(o.length)||"/",c=dr({path:a.relativePath,caseSensitive:a.caseSensitive,end:s},l);if(!c)return null;Object.assign(r,c.params);let u=a.route;i.push({params:r,pathname:yr([o,c.pathname]),pathnameBase:gr(yr([o,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(o=yr([o,c.pathnameBase]))}return i}function dr(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);zn("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,((e,t)=>(r.push(t),"/([^\\/]+)")));e.endsWith("*")?(r.push("*"),o+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":""!==e&&"/"!==e&&(o+="(?:(?=\\/|$))");let i=new RegExp(o,t?void 0:"i");return[i,r]}(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let i=o[0],a=i.replace(/(.)\/+$/,"$1"),s=o.slice(1);return{params:r.reduce(((e,t,n)=>{if("*"===t){let e=s[n]||"";a=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return zn(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(s[n]||"",t),e}),{}),pathname:i,pathnameBase:a,pattern:e}}function hr(e){try{return decodeURI(e)}catch(t){return zn(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function fr(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function pr(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function vr(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function mr(e,t,n,r){let o;void 0===r&&(r=!1),"string"==typeof e?o=Yn(e):(o=Kn({},e),Un(!o.pathname||!o.pathname.includes("?"),pr("?","pathname","search",o)),Un(!o.pathname||!o.pathname.includes("#"),pr("#","pathname","hash",o)),Un(!o.search||!o.search.includes("#"),pr("#","search","hash",o)));let i,a=""===e||""===o.pathname,s=a?"/":o.pathname;if(r||null==s)i=n;else{let e=t.length-1;if(s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;o.pathname=t.join("/")}i=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:o=""}="string"==typeof e?Yn(e):e,i=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:i,search:br(r),hash:wr(o)}}(o,i),c=s&&"/"!==s&&s.endsWith("/"),u=(a||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}const yr=e=>e.join("/").replace(/\/\/+/g,"/"),gr=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),br=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",wr=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";class Er{constructor(e,t,n,r){void 0===r&&(r=!1),this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}const kr=["post","put","patch","delete"],Ar=new Set(kr),Sr=["get",...kr],Mr=new Set(Sr),Pr=new Set([301,302,303,307,308]),Rr=new Set([307,308]),xr={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Lr={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Tr={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Cr=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Or=e=>({hasErrorBoundary:Boolean(e.hasErrorBoundary)});function _r(e){const t=e.window?e.window:"undefined"!=typeof window?window:void 0,n=void 0!==t&&void 0!==t.document&&void 0!==t.document.createElement,r=!n;let o;if(Un(e.routes.length>0,"You must provide a non-empty routes array to createRouter"),e.mapRouteProperties)o=e.mapRouteProperties;else if(e.detectErrorBoundary){let t=e.detectErrorBoundary;o=e=>({hasErrorBoundary:t(e)})}else o=Or;let i,a={},s=Zn(e.routes,o,void 0,a),l=e.basename||"/",u=Kn({v7_normalizeFormMethod:!1,v7_prependBasename:!1},e.future),d=null,h=new Set,f=null,p=null,v=null,m=null!=e.hydrationData,y=Qn(s,e.history.location,l),g=null;if(null==y){let t=Yr(404,{pathname:e.history.location.pathname}),{matches:n,route:r}=Xr(s);y=n,g={[r.id]:t}}let b,w,E=!(y.some((e=>e.route.lazy))||y.some((e=>e.route.loader))&&null==e.hydrationData),k={historyAction:e.history.action,location:e.history.location,matches:y,initialized:E,navigation:xr,restoreScrollPosition:null==e.hydrationData&&null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||g,fetchers:new Map,blockers:new Map},A=Bn.Pop,S=!1,M=!1,P=!1,R=[],x=[],L=new Map,T=0,C=-1,O=new Map,_=new Set,D=new Map,I=new Map,B=new Map,N=!1;function W(e){k=Kn({},k,e),h.forEach((e=>e(k)))}function j(t,n){var r,o;let a,l=null!=k.actionData&&null!=k.navigation.formMethod&&eo(k.navigation.formMethod)&&"loading"===k.navigation.state&&!0!==(null==(r=t.state)?void 0:r._isRedirect);a=n.actionData?Object.keys(n.actionData).length>0?n.actionData:null:l?k.actionData:null;let c=n.loaderData?Fr(k.loaderData,n.loaderData,n.matches||[],n.errors):k.loaderData,u=k.blockers;u.size>0&&(u=new Map(u),u.forEach(((e,t)=>u.set(t,Tr))));let d=!0===S||null!=k.navigation.formMethod&&eo(k.navigation.formMethod)&&!0!==(null==(o=t.state)?void 0:o._isRedirect);i&&(s=i,i=void 0),M||A===Bn.Pop||(A===Bn.Push?e.history.push(t,t.state):A===Bn.Replace&&e.history.replace(t,t.state)),W(Kn({},n,{actionData:a,loaderData:c,historyAction:A,location:t,initialized:!0,navigation:xr,revalidation:"idle",restoreScrollPosition:ne(t,n.matches||k.matches),preventScrollReset:d,blockers:u})),A=Bn.Pop,S=!1,M=!1,P=!1,R=[],x=[]}function K(t,n,r){return c(this,null,(function*(){w&&w.abort(),w=null,A=t,M=!0===(r&&r.startUninterruptedRevalidation),function(e,t){if(f&&v){let n=te(e,t);f[n]=v()}}(k.location,k.matches),S=!0===(r&&r.preventScrollReset);let u=i||s,d=r&&r.overrideNavigation,h=Qn(u,n,l);if(!h){let e=Yr(404,{pathname:n.pathname}),{matches:t,route:r}=Xr(u);return ee(),void j(n,{matches:t,loaderData:{},errors:{[r.id]:e}})}if(k.initialized&&!P&&function(e,t){if(e.pathname!==t.pathname||e.search!==t.search)return!1;if(""===e.hash)return""!==t.hash;if(e.hash===t.hash)return!0;if(""!==t.hash)return!0;return!1}(k.location,n)&&!(r&&r.submission&&eo(r.submission.formMethod)))return void j(n,{matches:h});w=new AbortController;let p,m,y=Vr(e.history,n,w.signal,r&&r.submission);if(r&&r.pendingError)m={[Gr(h).route.id]:r.pendingError};else if(r&&r.submission&&eo(r.submission.formMethod)){let e=yield function(e,t,n,r,i){return c(this,null,(function*(){void 0===i&&(i={}),z();let s,c=function(e,t){let n={state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text};return n}(t,n);W({navigation:c});let u=oo(r,t);if(u.route.action||u.route.lazy){if(s=yield Kr("action",e,u,r,a,o,l),e.signal.aborted)return{shortCircuited:!0}}else s={type:$n.error,error:Yr(405,{method:e.method,pathname:t.pathname,routeId:u.route.id})};if(Qr(s)){let e;return e=i&&null!=i.replace?i.replace:s.location===k.location.pathname+k.location.search,yield H(k,s,{submission:n,replace:e}),{shortCircuited:!0}}if(Zr(s)){let e=Gr(r,u.route.id);return!0!==(i&&i.replace)&&(A=Bn.Push),{pendingActionData:{},pendingActionError:{[e.route.id]:s.error}}}if(Jr(s))throw Yr(400,{type:"defer-action"});return{pendingActionData:{[u.route.id]:s.data}}}))}(y,n,r.submission,h,{replace:r.replace});if(e.shortCircuited)return;p=e.pendingActionData,m=e.pendingActionError,d=ao(n,r.submission),y=new Request(y.url,{signal:y.signal})}let{shortCircuited:g,loaderData:b,errors:E}=yield function(t,n,r,o,a,u,d,h,f){return c(this,null,(function*(){let c=o||ao(n,a),p=a||u||io(c),v=i||s,[m,y]=Br(e.history,k,r,p,n,P,R,x,D,_,v,l,h,f);if(ee((e=>!(r&&r.some((t=>t.route.id===e)))||m&&m.some((t=>t.route.id===e)))),C=++T,0===m.length&&0===y.length){let e=$();return j(n,Kn({matches:r,loaderData:{},errors:f||null},h?{actionData:h}:{},e?{fetchers:new Map(k.fetchers)}:{})),{shortCircuited:!0}}if(!M){y.forEach((e=>{let t=k.fetchers.get(e.key),n=so(void 0,t?t.data:void 0);k.fetchers.set(e.key,n)}));let e=h||k.actionData;W(Kn({navigation:c},e?0===Object.keys(e).length?{actionData:null}:{actionData:e}:{},y.length>0?{fetchers:new Map(k.fetchers)}:{}))}y.forEach((e=>{L.has(e.key)&&X(e.key),e.controller&&L.set(e.key,e.controller)}));let g=()=>y.forEach((e=>X(e.key)));w&&w.signal.addEventListener("abort",g);let{results:b,loaderResults:E,fetcherResults:A}=yield U(k.matches,r,m,y,t);if(t.signal.aborted)return{shortCircuited:!0};w&&w.signal.removeEventListener("abort",g),y.forEach((e=>L.delete(e.key)));let S=$r(b);if(S){if(S.idx>=m.length){let e=y[S.idx-m.length].key;_.add(e)}return yield H(k,S.result,{replace:d}),{shortCircuited:!0}}let{loaderData:O,errors:B}=zr(k,r,m,E,f,y,A,I);I.forEach(((e,t)=>{e.subscribe((n=>{(n||e.done)&&I.delete(t)}))}));let N=$(),K=q(C);return Kn({loaderData:O,errors:B},N||K||y.length>0?{fetchers:new Map(k.fetchers)}:{})}))}(y,n,h,d,r&&r.submission,r&&r.fetcherSubmission,r&&r.replace,p,m);g||(w=null,j(n,Kn({matches:h},p?{actionData:p}:{},{loaderData:b,errors:E})))}))}function V(e){return k.fetchers.get(e)||Lr}function H(r,o,i){return c(this,null,(function*(){let{submission:a,replace:s,isFetchActionRedirect:c}=void 0===i?{}:i;o.revalidate&&(P=!0);let u=Gn(r.location,o.location,Kn({_isRedirect:!0},c?{_isFetchActionRedirect:!0}:{}));if(Un(u,"Expected a location on the redirect navigation"),n){let n=!1;if(o.reloadDocument)n=!0;else if(Cr.test(o.location)){const r=e.history.createURL(o.location);n=r.origin!==t.location.origin||null==fr(r.pathname,l)}if(n)return void(s?t.location.replace(o.location):t.location.assign(o.location))}w=null;let d=!0===s?Bn.Replace:Bn.Push,h=a||io(r.navigation);if(Rr.has(o.status)&&h&&eo(h.formMethod))yield K(d,u,{submission:Kn({},h,{formAction:o.location}),preventScrollReset:S});else if(c)yield K(d,u,{overrideNavigation:ao(u),fetcherSubmission:h,preventScrollReset:S});else{let e=ao(u,h);yield K(d,u,{overrideNavigation:e,preventScrollReset:S})}}))}function U(t,n,r,i,s){return c(this,null,(function*(){let c=yield Promise.all([...r.map((e=>Kr("loader",s,e,n,a,o,l))),...i.map((t=>{if(t.matches&&t.match&&t.controller)return Kr("loader",Vr(e.history,t.path,t.controller.signal),t.match,t.matches,a,o,l);return{type:$n.error,error:Yr(404,{pathname:t.path})}}))]),u=c.slice(0,r.length),d=c.slice(r.length);return yield Promise.all([to(t,r,u,u.map((()=>s.signal)),!1,k.loaderData),to(t,i.map((e=>e.match)),d,i.map((e=>e.controller?e.controller.signal:null)),!0)]),{results:c,loaderResults:u,fetcherResults:d}}))}function z(){P=!0,R.push(...ee()),D.forEach(((e,t)=>{L.has(t)&&(x.push(t),X(t))}))}function F(e,t,n){let r=Gr(k.matches,t);G(e),W({errors:{[r.route.id]:n},fetchers:new Map(k.fetchers)})}function G(e){let t=k.fetchers.get(e);!L.has(e)||t&&"loading"===t.state&&O.has(e)||X(e),D.delete(e),O.delete(e),_.delete(e),k.fetchers.delete(e)}function X(e){let t=L.get(e);Un(t,"Expected fetch controller: "+e),t.abort(),L.delete(e)}function Y(e){for(let t of e){let e=lo(V(t).data);k.fetchers.set(t,e)}}function $(){let e=[],t=!1;for(let n of _){let r=k.fetchers.get(n);Un(r,"Expected fetcher: "+n),"loading"===r.state&&(_.delete(n),e.push(n),t=!0)}return Y(e),t}function q(e){let t=[];for(let[n,r]of O)if(r<e){let e=k.fetchers.get(n);Un(e,"Expected fetcher: "+n),"loading"===e.state&&(X(n),O.delete(n),t.push(n))}return Y(t),t.length>0}function J(e){k.blockers.delete(e),B.delete(e)}function Z(e,t){let n=k.blockers.get(e)||Tr;Un("unblocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"proceeding"===t.state||"blocked"===n.state&&"unblocked"===t.state||"proceeding"===n.state&&"unblocked"===t.state,"Invalid blocker state transition: "+n.state+" -> "+t.state);let r=new Map(k.blockers);r.set(e,t),W({blockers:r})}function Q(e){let{currentLocation:t,nextLocation:n,historyAction:r}=e;if(0===B.size)return;B.size>1&&zn(!1,"A router only supports one blocker at a time");let o=Array.from(B.entries()),[i,a]=o[o.length-1],s=k.blockers.get(i);return s&&"proceeding"===s.state?void 0:a({currentLocation:t,nextLocation:n,historyAction:r})?i:void 0}function ee(e){let t=[];return I.forEach(((n,r)=>{e&&!e(r)||(n.cancel(),t.push(r),I.delete(r))})),t}function te(e,t){if(p){return p(e,t.map((e=>function(e,t){let{route:n,pathname:r,params:o}=e;return{id:n.id,pathname:r,params:o,data:t[n.id],handle:n.handle}}(e,k.loaderData))))||e.key}return e.key}function ne(e,t){if(f){let n=te(e,t),r=f[n];if("number"==typeof r)return r}return null}return b={get basename(){return l},get state(){return k},get routes(){return s},initialize:function(){return d=e.history.listen((t=>{let{action:n,location:r,delta:o}=t;if(N)return void(N=!1);zn(0===B.size||null!=o,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let i=Q({currentLocation:k.location,nextLocation:r,historyAction:n});return i&&null!=o?(N=!0,e.history.go(-1*o),void Z(i,{state:"blocked",location:r,proceed(){Z(i,{state:"proceeding",proceed:void 0,reset:void 0,location:r}),e.history.go(o)},reset(){let e=new Map(k.blockers);e.set(i,Tr),W({blockers:e})}})):K(n,r)})),k.initialized||K(Bn.Pop,k.location),b},subscribe:function(e){return h.add(e),()=>h.delete(e)},enableScrollRestoration:function(e,t,n){if(f=e,v=t,p=n||null,!m&&k.navigation===xr){m=!0;let e=ne(k.location,k.matches);null!=e&&W({restoreScrollPosition:e})}return()=>{f=null,v=null,p=null}},navigate:function t(n,r){return c(this,null,(function*(){if("number"==typeof n)return void e.history.go(n);let o=Dr(k.location,k.matches,l,u.v7_prependBasename,n,null==r?void 0:r.fromRouteId,null==r?void 0:r.relative),{path:i,submission:a,error:s}=Ir(u.v7_normalizeFormMethod,!1,o,r),c=k.location,d=Gn(k.location,i,r&&r.state);d=Kn({},d,e.history.encodeLocation(d));let h=r&&null!=r.replace?r.replace:void 0,f=Bn.Push;!0===h?f=Bn.Replace:!1===h||null!=a&&eo(a.formMethod)&&a.formAction===k.location.pathname+k.location.search&&(f=Bn.Replace);let p=r&&"preventScrollReset"in r?!0===r.preventScrollReset:void 0,v=Q({currentLocation:c,nextLocation:d,historyAction:f});if(!v)return yield K(f,d,{submission:a,pendingError:s,preventScrollReset:p,replace:r&&r.replace});Z(v,{state:"blocked",location:d,proceed(){Z(v,{state:"proceeding",proceed:void 0,reset:void 0,location:d}),t(n,r)},reset(){let e=new Map(k.blockers);e.set(v,Tr),W({blockers:e})}})}))},fetch:function(t,n,d,h){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");L.has(t)&&X(t);let f=i||s,p=Dr(k.location,k.matches,l,u.v7_prependBasename,d,n,null==h?void 0:h.relative),v=Qn(f,p,l);if(!v)return void F(t,n,Yr(404,{pathname:p}));let{path:m,submission:y,error:g}=Ir(u.v7_normalizeFormMethod,!0,p,h);if(g)return void F(t,n,g);let b=oo(v,m);S=!0===(h&&h.preventScrollReset),y&&eo(y.formMethod)?function(t,n,r,u,d,h){c(this,null,(function*(){if(z(),D.delete(t),!u.route.action&&!u.route.lazy){let e=Yr(405,{method:h.formMethod,pathname:r,routeId:n});return void F(t,n,e)}let c=k.fetchers.get(t),f=function(e,t){let n={state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0," _hasFetcherDoneAnything ":!0};return n}(h,c);k.fetchers.set(t,f),W({fetchers:new Map(k.fetchers)});let p=new AbortController,v=Vr(e.history,r,p.signal,h);L.set(t,p);let m=T,y=yield Kr("action",v,u,d,a,o,l);if(v.signal.aborted)return void(L.get(t)===p&&L.delete(t));if(Qr(y)){if(L.delete(t),C>m){let e=lo(void 0);return k.fetchers.set(t,e),void W({fetchers:new Map(k.fetchers)})}{_.add(t);let e=so(h);return k.fetchers.set(t,e),W({fetchers:new Map(k.fetchers)}),H(k,y,{submission:h,isFetchActionRedirect:!0})}}if(Zr(y))return void F(t,n,y.error);if(Jr(y))throw Yr(400,{type:"defer-action"});let g=k.navigation.location||k.location,b=Vr(e.history,g,p.signal),E=i||s,S="idle"!==k.navigation.state?Qn(E,k.navigation.location,l):k.matches;Un(S,"Didn't find any matches after fetcher action");let M=++T;O.set(t,M);let B=so(h,y.data);k.fetchers.set(t,B);let[N,K]=Br(e.history,k,S,h,g,P,R,x,D,_,E,l,{[u.route.id]:y.data},void 0);K.filter((e=>e.key!==t)).forEach((e=>{let t=e.key,n=k.fetchers.get(t),r=so(void 0,n?n.data:void 0);k.fetchers.set(t,r),L.has(t)&&X(t),e.controller&&L.set(t,e.controller)})),W({fetchers:new Map(k.fetchers)});let V=()=>K.forEach((e=>X(e.key)));p.signal.addEventListener("abort",V);let{results:G,loaderResults:Y,fetcherResults:$}=yield U(k.matches,S,N,K,b);if(p.signal.aborted)return;p.signal.removeEventListener("abort",V),O.delete(t),L.delete(t),K.forEach((e=>L.delete(e.key)));let J=$r(G);if(J){if(J.idx>=N.length){let e=K[J.idx-N.length].key;_.add(e)}return H(k,J.result)}let{loaderData:Z,errors:Q}=zr(k,k.matches,N,Y,void 0,K,$,I);if(k.fetchers.has(t)){let e=lo(y.data);k.fetchers.set(t,e)}let ee=q(M);"loading"===k.navigation.state&&M>C?(Un(A,"Expected pending action"),w&&w.abort(),j(k.navigation.location,{matches:S,loaderData:Z,errors:Q,fetchers:new Map(k.fetchers)})):(W(Kn({errors:Q,loaderData:Fr(k.loaderData,Z,S,Q)},ee||K.length>0?{fetchers:new Map(k.fetchers)}:{})),P=!1)}))}(t,n,m,b,v,y):(D.set(t,{routeId:n,path:m}),function(t,n,r,i,s,u){c(this,null,(function*(){let c=k.fetchers.get(t),d=so(u,c?c.data:void 0);k.fetchers.set(t,d),W({fetchers:new Map(k.fetchers)});let h=new AbortController,f=Vr(e.history,r,h.signal);L.set(t,h);let p=T,v=yield Kr("loader",f,i,s,a,o,l);if(Jr(v)&&(v=(yield no(v,f.signal,!0))||v),L.get(t)===h&&L.delete(t),f.signal.aborted)return;if(Qr(v)){if(C>p){let e=lo(void 0);return k.fetchers.set(t,e),void W({fetchers:new Map(k.fetchers)})}return _.add(t),void(yield H(k,v))}if(Zr(v)){let e=Gr(k.matches,n);return k.fetchers.delete(t),void W({fetchers:new Map(k.fetchers),errors:{[e.route.id]:v.error}})}Un(!Jr(v),"Unhandled fetcher deferred data");let m=lo(v.data);k.fetchers.set(t,m),W({fetchers:new Map(k.fetchers)})}))}(t,n,m,b,v,y))},revalidate:function(){z(),W({revalidation:"loading"}),"submitting"!==k.navigation.state&&("idle"!==k.navigation.state?K(A||k.historyAction,k.navigation.location,{overrideNavigation:k.navigation}):K(k.historyAction,k.location,{startUninterruptedRevalidation:!0}))},createHref:t=>e.history.createHref(t),encodeLocation:t=>e.history.encodeLocation(t),getFetcher:V,deleteFetcher:G,dispose:function(){d&&d(),h.clear(),w&&w.abort(),k.fetchers.forEach(((e,t)=>G(t))),k.blockers.forEach(((e,t)=>J(t)))},getBlocker:function(e,t){let n=k.blockers.get(e)||Tr;return B.get(e)!==t&&B.set(e,t),n},deleteBlocker:J,_internalFetchControllers:L,_internalActiveDeferreds:I,_internalSetRoutes:function(e){a={},i=Zn(e,o,void 0,a)}},b}function Dr(e,t,n,r,o,i,a){let s,l;if(null!=i&&"path"!==a){s=[];for(let e of t)if(s.push(e),e.route.id===i){l=e;break}}else s=t,l=t[t.length-1];let c=mr(o||".",vr(s).map((e=>e.pathnameBase)),fr(e.pathname,n)||e.pathname,"path"===a);return null==o&&(c.search=e.search,c.hash=e.hash),null!=o&&""!==o&&"."!==o||!l||!l.route.index||ro(c.search)||(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r&&"/"!==n&&(c.pathname="/"===c.pathname?n:yr([n,c.pathname])),Xn(c)}function Ir(e,t,n,r){if(!r||!function(e){return null!=e&&("formData"in e&&null!=e.formData||"body"in e&&void 0!==e.body)}(r))return{path:n};if(r.formMethod&&(o=r.formMethod,!Mr.has(o.toLowerCase())))return{path:n,error:Yr(405,{method:r.formMethod})};var o;let i,a,s=()=>({path:n,error:Yr(400,{type:"invalid-body"})}),l=r.formMethod||"get",c=e?l.toUpperCase():l.toLowerCase(),u=qr(n);if(void 0!==r.body){if("text/plain"===r.formEncType){if(!eo(c))return s();let e="string"==typeof r.body?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce(((e,t)=>{let[n,r]=t;return""+e+n+"="+r+"\n"}),""):String(r.body);return{path:n,submission:{formMethod:c,formAction:u,formEncType:r.formEncType,formData:void 0,json:void 0,text:e}}}if("application/json"===r.formEncType){if(!eo(c))return s();try{let e="string"==typeof r.body?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:c,formAction:u,formEncType:r.formEncType,formData:void 0,json:e,text:void 0}}}catch(e){return s()}}}if(Un("function"==typeof FormData,"FormData is not available in this environment"),r.formData)i=Hr(r.formData),a=r.formData;else if(r.body instanceof FormData)i=Hr(r.body),a=r.body;else if(r.body instanceof URLSearchParams)i=r.body,a=Ur(i);else if(null==r.body)i=new URLSearchParams,a=new FormData;else try{i=new URLSearchParams(r.body),a=Ur(i)}catch(e){return s()}let d={formMethod:c,formAction:u,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:a,json:void 0,text:void 0};if(eo(d.formMethod))return{path:n,submission:d};let h=Yn(n);return t&&h.search&&ro(h.search)&&i.append("index",""),h.search="?"+i,{path:Xn(h),submission:d}}function Br(e,t,n,r,o,i,a,s,l,c,u,d,h,f){let p=f?Object.values(f)[0]:h?Object.values(h)[0]:void 0,v=e.createURL(t.location),m=e.createURL(o),y=f?Object.keys(f)[0]:void 0,g=function(e,t){let n=e;if(t){let r=e.findIndex((e=>e.route.id===t));r>=0&&(n=e.slice(0,r))}return n}(n,y),b=g.filter(((e,n)=>{if(e.route.lazy)return!0;if(null==e.route.loader)return!1;if(function(e,t,n){let r=!t||n.route.id!==t.route.id,o=void 0===e[n.route.id];return r||o}(t.loaderData,t.matches[n],e)||a.some((t=>t===e.route.id)))return!0;let o=t.matches[n],s=e;return Wr(e,Kn({currentUrl:v,currentParams:o.params,nextUrl:m,nextParams:s.params},r,{actionResult:p,defaultShouldRevalidate:i||v.pathname+v.search===m.pathname+m.search||v.search!==m.search||Nr(o,s)}))})),w=[];return l.forEach(((e,o)=>{if(!n.some((t=>t.route.id===e.routeId)))return;let a=Qn(u,e.path,d);if(!a)return void w.push({key:o,routeId:e.routeId,path:e.path,matches:null,match:null,controller:null});let l=t.fetchers.get(o),h=oo(a,e.path),f=!1;f=!c.has(o)&&(!!s.includes(o)||(l&&"idle"!==l.state&&void 0===l.data?i:Wr(h,Kn({currentUrl:v,currentParams:t.matches[t.matches.length-1].params,nextUrl:m,nextParams:n[n.length-1].params},r,{actionResult:p,defaultShouldRevalidate:i})))),f&&w.push({key:o,routeId:e.routeId,path:e.path,matches:a,match:h,controller:new AbortController})})),[b,w]}function Nr(e,t){let n=e.route.path;return e.pathname!==t.pathname||null!=n&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function Wr(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if("boolean"==typeof n)return n}return t.defaultShouldRevalidate}function jr(e,t,n){return c(this,null,(function*(){if(!e.lazy)return;let r=yield e.lazy();if(!e.lazy)return;let o=n[e.id];Un(o,"No route found in manifest");let i={};for(let e in r){let t=void 0!==o[e]&&"hasErrorBoundary"!==e;zn(!t,'Route "'+o.id+'" has a static property "'+e+'" defined but its lazy function is also returning a value for this property. The lazy route property "'+e+'" will be ignored.'),t||Jn.has(e)||(i[e]=r[e])}Object.assign(o,i),Object.assign(o,Kn({},t(o),{lazy:void 0}))}))}function Kr(e,t,n,r,o,i,a,s){return c(this,null,(function*(){let l,c,u;void 0===s&&(s={});let d=e=>{let r,o=new Promise(((e,t)=>r=t));return u=()=>r(),t.signal.addEventListener("abort",u),Promise.race([e({request:t,params:n.params,context:s.requestContext}),o])};try{let r=n.route[e];if(n.route.lazy)if(r){c=(yield Promise.all([d(r),jr(n.route,i,o)]))[0]}else{if(yield jr(n.route,i,o),r=n.route[e],!r){if("action"===e){let e=new URL(t.url),r=e.pathname+e.search;throw Yr(405,{method:t.method,pathname:r,routeId:n.route.id})}return{type:$n.data,data:void 0}}c=yield d(r)}else{if(!r){let e=new URL(t.url);throw Yr(404,{pathname:e.pathname+e.search})}c=yield d(r)}Un(void 0!==c,"You defined "+("action"===e?"an action":"a loader")+' for route "'+n.route.id+"\" but didn't return anything from your `"+e+"` function. Please return a value or `null`.")}catch(e){l=$n.error,c=e}finally{u&&t.signal.removeEventListener("abort",u)}if(null!=(h=c)&&"number"==typeof h.status&&"string"==typeof h.statusText&&"object"==typeof h.headers&&void 0!==h.body){let e,o=c.status;if(Pr.has(o)){let e=c.headers.get("Location");if(Un(e,"Redirects returned/thrown from loaders/actions must have a Location header"),Cr.test(e)){if(!s.isStaticRequest){let n=new URL(t.url),r=e.startsWith("//")?new URL(n.protocol+e):new URL(e),o=null!=fr(r.pathname,a);r.origin===n.origin&&o&&(e=r.pathname+r.search+r.hash)}}else e=Dr(new URL(t.url),r.slice(0,r.indexOf(n)+1),a,!0,e);if(s.isStaticRequest)throw c.headers.set("Location",e),c;return{type:$n.redirect,status:o,location:e,revalidate:null!==c.headers.get("X-Remix-Revalidate"),reloadDocument:null!==c.headers.get("X-Remix-Reload-Document")}}if(s.isRouteRequest){throw{type:l===$n.error?$n.error:$n.data,response:c}}let i=c.headers.get("Content-Type");return e=i&&/\bapplication\/json\b/.test(i)?yield c.json():yield c.text(),l===$n.error?{type:l,error:new Er(o,c.statusText,e),headers:c.headers}:{type:$n.data,data:e,statusCode:c.status,headers:c.headers}}var h,f,p;return l===$n.error?{type:l,error:c}:function(e){let t=e;return t&&"object"==typeof t&&"object"==typeof t.data&&"function"==typeof t.subscribe&&"function"==typeof t.cancel&&"function"==typeof t.resolveData}(c)?{type:$n.deferred,deferredData:c,statusCode:null==(f=c.init)?void 0:f.status,headers:(null==(p=c.init)?void 0:p.headers)&&new Headers(c.init.headers)}:{type:$n.data,data:c}}))}function Vr(e,t,n,r){let o=e.createURL(qr(t)).toString(),i={signal:n};if(r&&eo(r.formMethod)){let{formMethod:e,formEncType:t}=r;i.method=e.toUpperCase(),"application/json"===t?(i.headers=new Headers({"Content-Type":t}),i.body=JSON.stringify(r.json)):"text/plain"===t?i.body=r.text:"application/x-www-form-urlencoded"===t&&r.formData?i.body=Hr(r.formData):i.body=r.formData}return new Request(o,i)}function Hr(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,"string"==typeof r?r:r.name);return t}function Ur(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function zr(e,t,n,r,o,i,a,s){let{loaderData:l,errors:c}=function(e,t,n,r,o){let i,a={},s=null,l=!1,c={};return n.forEach(((n,u)=>{let d=t[u].route.id;if(Un(!Qr(n),"Cannot handle redirect results in processLoaderData"),Zr(n)){let t=Gr(e,d),o=n.error;r&&(o=Object.values(r)[0],r=void 0),s=s||{},null==s[t.route.id]&&(s[t.route.id]=o),a[d]=void 0,l||(l=!0,i=function(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}(n.error)?n.error.status:500),n.headers&&(c[d]=n.headers)}else Jr(n)?(o.set(d,n.deferredData),a[d]=n.deferredData.data):a[d]=n.data,null==n.statusCode||200===n.statusCode||l||(i=n.statusCode),n.headers&&(c[d]=n.headers)})),r&&(s=r,a[Object.keys(r)[0]]=void 0),{loaderData:a,errors:s,statusCode:i||200,loaderHeaders:c}}(t,n,r,o,s);for(let t=0;t<i.length;t++){let{key:n,match:r,controller:o}=i[t];Un(void 0!==a&&void 0!==a[t],"Did not find corresponding fetcher result");let s=a[t];if(!o||!o.signal.aborted)if(Zr(s)){let t=Gr(e.matches,null==r?void 0:r.route.id);c&&c[t.route.id]||(c=Kn({},c,{[t.route.id]:s.error})),e.fetchers.delete(n)}else if(Qr(s))Un(!1,"Unhandled fetcher revalidation redirect");else if(Jr(s))Un(!1,"Unhandled fetcher deferred data");else{let t=lo(s.data);e.fetchers.set(n,t)}}return{loaderData:l,errors:c}}function Fr(e,t,n,r){let o=Kn({},t);for(let i of n){let n=i.route.id;if(t.hasOwnProperty(n)?void 0!==t[n]&&(o[n]=t[n]):void 0!==e[n]&&i.route.loader&&(o[n]=e[n]),r&&r.hasOwnProperty(n))break}return o}function Gr(e,t){return(t?e.slice(0,e.findIndex((e=>e.route.id===t))+1):[...e]).reverse().find((e=>!0===e.route.hasErrorBoundary))||e[0]}function Xr(e){let t=e.find((e=>e.index||!e.path||"/"===e.path))||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Yr(e,t){let{pathname:n,routeId:r,method:o,type:i}=void 0===t?{}:t,a="Unknown Server Error",s="Unknown @remix-run/router error";return 400===e?(a="Bad Request",o&&n&&r?s="You made a "+o+' request to "'+n+'" but did not provide a `loader` for route "'+r+'", so there is no way to handle the request.':"defer-action"===i?s="defer() is not supported in actions":"invalid-body"===i&&(s="Unable to encode submission body")):403===e?(a="Forbidden",s='Route "'+r+'" does not match URL "'+n+'"'):404===e?(a="Not Found",s='No route matches URL "'+n+'"'):405===e&&(a="Method Not Allowed",o&&n&&r?s="You made a "+o.toUpperCase()+' request to "'+n+'" but did not provide an `action` for route "'+r+'", so there is no way to handle the request.':o&&(s='Invalid request method "'+o.toUpperCase()+'"')),new Er(e||500,a,new Error(s),!0)}function $r(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(Qr(n))return{result:n,idx:t}}}function qr(e){return Xn(Kn({},"string"==typeof e?Yn(e):e,{hash:""}))}function Jr(e){return e.type===$n.deferred}function Zr(e){return e.type===$n.error}function Qr(e){return(e&&e.type)===$n.redirect}function eo(e){return Ar.has(e.toLowerCase())}function to(e,t,n,r,o,i){return c(this,null,(function*(){for(let a=0;a<n.length;a++){let s=n[a],l=t[a];if(!l)continue;let c=e.find((e=>e.route.id===l.route.id)),u=null!=c&&!Nr(c,l)&&void 0!==(i&&i[l.route.id]);if(Jr(s)&&(o||u)){let e=r[a];Un(e,"Expected an AbortSignal for revalidating fetcher deferred result"),yield no(s,e,o).then((e=>{e&&(n[a]=e||n[a])}))}}}))}function no(e,t,n){return c(this,null,(function*(){if(void 0===n&&(n=!1),!(yield e.deferredData.resolveData(t))){if(n)try{return{type:$n.data,data:e.deferredData.unwrappedData}}catch(e){return{type:$n.error,error:e}}return{type:$n.data,data:e.deferredData.data}}}))}function ro(e){return new URLSearchParams(e).getAll("index").some((e=>""===e))}function oo(e,t){let n="string"==typeof t?Yn(t).search:t.search;if(e[e.length-1].route.index&&ro(n||""))return e[e.length-1];let r=vr(e);return r[r.length-1]}function io(e){let{formMethod:t,formAction:n,formEncType:r,text:o,formData:i,json:a}=e;if(t&&n&&r)return null!=o?{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:o}:null!=i?{formMethod:t,formAction:n,formEncType:r,formData:i,json:void 0,text:void 0}:void 0!==a?{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:a,text:void 0}:void 0}function ao(e,t){if(t){return{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}return{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function so(e,t){if(e){return{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t," _hasFetcherDoneAnything ":!0}}return{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t," _hasFetcherDoneAnything ":!0}}function lo(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e," _hasFetcherDoneAnything ":!0}}const co=h.createContext(null),uo=h.createContext(null),ho=h.createContext({popout:null}),fo=h.createContext({enabled:!1,firstActionDelay:0,interval:0}),po="showModal",vo="showPopout",mo="blockForward",yo="inflate";function go(e){var t,n;return null!=(n=null==(t=null==e?void 0:e.match(/\/:[^\/]+/g))?void 0:t.map((e=>e.replace("/",""))))?n:[]}function bo(e,t){return go(e).reduce(((n,r)=>{const o=r.replace(":","");if(!t[o])throw new Error(`Missing parameter ${o} while building route ${e}`);return n.replace(r,t[o])}),e)}function wo(e,t=[]){return{state:e,match:e.matches.length?e.matches[e.matches.length-1]:void 0,panelsHistory:t}}function Eo(e){return e.state&&po in e.state}function ko(e){return e.state&&vo in e.state}function Ao(){return Math.random().toString(36).substring(2,9)}function So(e){const t={keepSearchParams:!0};return Object.keys(e).some((e=>e in t))}class Mo{constructor(e){this.actions=e,this.pointer=0,this.resolve=()=>{},this.reject=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}get isMultiAction(){return this.actions.length>1}get donePromise(){return this.promise}get finished(){return this.pointer>=this.actions.length}doNext(){this.finished||(this.actions[this.pointer](),this.pointer+=1),this.finished&&this.resolve()}}class Po{constructor(e,t,n,r){this.viewHistory=t,this.transactionExecutor=n,this.router=e,this.setPopout=r}push(e){return c(this,arguments,(function*(e,t={},n={}){var r;const o=So(t),i=l(s({},o?t:n),{replace:Boolean(null==(r=this.router.state.location.state)?void 0:r[mo])}),a=o?{}:t;yield this.navigate(e,i,a)}))}replace(e){return c(this,arguments,(function*(e,t={},n={}){const r=So(t),o=r?t:n,i=r?{}:t;yield this.navigate(e,l(s({},o),{replace:!0}),i)}))}back(e=1){return c(this,null,(function*(){0!==e&&(yield this.go(-Math.abs(e)))}))}backToFirst(){return c(this,null,(function*(){this.viewHistory.position>0?yield this.go(-this.viewHistory.position):yield this.transactionExecutor.doNext()}))}go(e){return c(this,null,(function*(){0===e?yield this.transactionExecutor.doNext():yield this.router.navigate(e)}))}runSync(e){const t=new Mo(e);return this.transactionExecutor.add(t),this.transactionExecutor.doNext(),t.donePromise}showModal(e){return c(this,null,(function*(){yield this.router.navigate(this.router.state.location,{state:{[po]:e,[mo]:!0},replace:Eo(this.router.state.location)})}))}hideModal(e=!1){return c(this,null,(function*(){if(!e&&!this.viewHistory.isFirstPage||Eo(this.router.state.location))yield this.router.navigate(-1);else{const e=this.router.state.matches.find((e=>"modal"in e.route));if(e){const t=e.route,n=function(e,t){const n=e.route;function r(t){return Object.keys(e.params).map((e=>{var n;return Number(Boolean(null==(n=t.path)?void 0:n.includes(`:${e}`)))})).reduce(((e,t)=>e+t),0)}const o=t.routes.filter((t=>{const r=t,o=go(r.path).map((e=>e.replace(":","")));return!r.modal&&r.tab===n.tab&&r.panel===n.panel&&r.view===n.view&&r.root===n.root&&o.every((t=>Object.keys(e.params).includes(t)))})).sort(((e,t)=>r(e)-r(t))).pop();return o&&bo(o.path,e.params)}(e,this.router);if(!n){const e=t.root?`root: ${t.root} `:"";throw new Error(`There is no route registered for panel with ${e}, view: ${t.view}, panel: ${t.panel}.\nMake sure this route exists or use hideModal with pushPanel set to false.`)}yield this.navigate(n,{keepSearchParams:!0})}else yield this.transactionExecutor.doNext()}}))}showPopout(e){return c(this,null,(function*(){this.setPopout(e);const t={[vo]:Ao(),[mo]:!0};Eo(this.router.state.location)&&(t[po]=this.router.state.location.state[po]);const n=Eo(this.router.state.location)||ko(this.router.state.location);yield this.router.navigate(this.router.state.location,{state:t,replace:n})}))}hidePopout(){return c(this,null,(function*(){ko(this.router.state.location)?(this.setPopout(null),Eo(this.router.state.location)?yield this.router.navigate(this.router.state.location,{state:{[mo]:!0,[po]:this.router.state.location.state[po]},replace:!0}):yield this.router.navigate(-1)):yield this.transactionExecutor.doNext()}))}navigate(e,t){return c(this,arguments,(function*(e,t,n={}){let r="string"==typeof e?e:e.hasParams?bo(e.path,n):e.path;(null==t?void 0:t.keepSearchParams)&&(r+=this.router.state.location.search),yield this.router.navigate(r,t)}))}}const Ro={background:"#3f5d81 url(https://vk.com/images/error404.png) no-repeat 50% 50%",width:"100%",height:"100%",overflow:"hidden",margin:"0",cursor:"pointer",backgroundSize:"contain"};function xo({routeNavigator:e}){return u.jsx("div",{onClick:()=>e.replace("/"),className:"default-not-found",style:Ro})}class Lo{constructor(){this.history=[],this.positionInternal=-1}updateNavigation(e){const t=this.getViewRecordFromState(e);if(t)switch(e.historyAction){case Bn.Push:this.push(t);break;case Bn.Pop:this.hasKey(t.locationKey)?this.pop(t):this.push(t);break;case Bn.Replace:this.replace(t)}}get isFirstPage(){return this.positionInternal<1}get panelsHistory(){if(this.positionInternal<0)return[];const e=this.history[this.positionInternal].view,t=this.history.slice(0,this.positionInternal+1).reverse(),n=t.findIndex((t=>t.view!==e));return t.slice(0,n>-1?n:t.length).filter((e=>!e.modal&&!e.popout)).reverse().map((({panel:e})=>e))}get position(){return this.positionInternal}isPopForward(e,t){const n=this.history.findIndex((({locationKey:e})=>e===t));return e===Bn.Pop&&n>this.position}isPopBackward(e,t){const n=this.history.findIndex((({locationKey:e})=>e===t));return e===Bn.Pop&&n<=this.position}resetHistory(){this.positionInternal=-1,this.history=[]}push(e){this.history=this.history.slice(0,this.positionInternal+1),this.history.push(e),this.positionInternal=this.history.length-1}replace(e){this.history[this.positionInternal]=e}pop(e){this.positionInternal=this.history.findIndex((({locationKey:t})=>t===e.locationKey))}hasKey(e){return Boolean(this.history.find((({locationKey:t})=>t===e)))}getViewRecordFromState(e){var t;const n=wo(e);if(!n.match)return;const{route:r}=n.match;return{view:r.view,panel:r.panel,modal:"modal"in r?r.modal:void 0,popout:null==(t=e.location.state)?void 0:t[vo],locationKey:e.location.key}}}let To=0;const Co=[];class Oo{constructor(e){this.forceUpdate=e,this.transactions=[]}get initialDelay(){return this.transactions.length>1||this.transactions.length>0&&this.transactions[0].isMultiAction?100:0}add(e){this.transactions.push(e),this.forceUpdate()}doNext(){return c(this,null,(function*(){setTimeout((()=>{this.transactions.length&&(this.transactions[0].doNext(),this.transactions[0].finished&&this.transactions.shift())}))}))}}function _o(e=""){const t="string"==typeof e||Array.isArray(e)||e instanceof URLSearchParams;return new URLSearchParams(t?e:function(e){return Object.keys(e).reduce(((t,n)=>{const r=e[n];return t.concat(Array.isArray(r)?r.map((e=>[n,e])):[[n,r]])}),[])}(e))}function Do(e,t){return e.map((e=>{const n=l(s({},e),{parents:t});return e.children?Do(e.children,[...t,n]):n})).flat()}function Io(e,t,n,r){var o,i,a;const s=Do(e,[]),l=n.state.location,c=null!=(i=null==(o=n.match)?void 0:o.params)?i:{},u=null==(a=n.match)?void 0:a.route.path,d=s.find((e=>e.path===u));if(!d)return;const h=d.parents.map((({path:e})=>bo(e,c)));setTimeout((()=>{if(h.length){const e=_o(l.search);e.delete(yo);const n=e.toString().length>0?`?${e.toString()}`:"",o=`${l.pathname}${n}${l.hash}`,i=h.shift(),a=[()=>t.replace(i),...h.map((e=>()=>t.push(e))),()=>t.push(o)],s=new Mo(a);r.add(s),r.doNext()}}))}function Bo({router:e,children:t,useBridge:n=!0,notFound:r,throttled:o=!0,interval:i=400,hierarchy:a}){var c;const d=function(){const[,e]=h.useState(0);return()=>{e(Date.now())}}(),[f,p]=h.useState(null),[v]=h.useState(new Lo),[m,y]=h.useState([]),[g,b]=h.useState(new Oo(d)),w=null==(c=e.state.location.state)?void 0:c[vo],E=h.useMemo((()=>{const t=new Po(e,v,g,p);return{router:e,routeNavigator:t,viewHistory:v}}),[e,v,g,p]),k=h.useMemo((()=>({enabled:o||Boolean(g.initialDelay),firstActionDelay:g.initialDelay,interval:i})),[g.initialDelay,i,o]),A=h.useMemo((()=>wo(e.state,m)),[e.state,m]),S=h.useMemo((()=>({popout:w?f:null})),[w,f]);!function(e,t){const[n]=h.useState((()=>String(++To))),r=h.useCallback((({historyAction:e,nextLocation:n})=>{var r;const o=t.isPopForward(e,n.key)&&"default"!==n.key;return Boolean(o&&(null==(r=n.state)?void 0:r[mo]))}),[t]),o=e.getBlocker(n,r);h.useEffect((()=>(e.subscribe((n=>{var r,o,i,a,l,c,u;const d=n.location.key;if(t.isPopBackward(n.historyAction,d)&&(null==(r=n.location.state)?void 0:r[mo])&&!Co.includes(d)){Co.push(d);const t=s({},window.history.state);(null==(o=t.usr)?void 0:o[po])&&(t.usr=s({},t.usr),null==(i=t.usr)||delete i[po],null==(a=t.usr)||delete a[mo]),(null==(l=t.usr)?void 0:l[vo])&&(t.usr=s({},t.usr),null==(c=t.usr)||delete c[vo],null==(u=t.usr)||delete u[mo]),window.history.replaceState(t,""),e.navigate(-1).then((()=>Co.splice(Co.findIndex((e=>e===d)),1)))}})),()=>e.deleteBlocker(n))),[e,n,t])}(e,v),h.useEffect((()=>{v.resetHistory(),v.updateNavigation(l(s({},e.state),{historyAction:Bn.Push})),y(v.panelsHistory),e.subscribe((e=>{v.updateNavigation(e),y(v.panelsHistory),g.doNext()})),n&&(Ke.subscribe((t=>{"VKWebAppChangeFragment"===t.detail.type&&e.navigate(t.detail.data.location,{replace:!0})})),e.subscribe((t=>{const n=e.createHref(t.location).replace(/^#/,"");Ke.send("VKWebAppSetLocation",{location:n,replace_state:!0})})))}),[e]),h.useEffect((()=>{const t=new Oo(d);b(t);const n=_o(e.state.location.search),r=Boolean(n.get(yo));a&&r&&Io(a,E.routeNavigator,A,t)}),[e]);const M=Boolean(!A.match||A.state.errors&&A.state.errors[A.match.route.id]&&404===A.state.errors[A.match.route.id].status);return u.jsx(co.Provider,{value:E,children:u.jsx(fo.Provider,{value:k,children:u.jsxs(ho.Provider,{value:S,children:[M&&(r||u.jsx(xo,{routeNavigator:E.routeNavigator})),!M&&u.jsx(uo.Provider,{value:A,children:t})]})})})}const No=()=>{};function Wo(e){const{enabled:t,interval:n,firstActionDelay:r}=h.useContext(fo),o=h.useRef(null),i=h.useContext(e),a=h.useRef(0),s=h.useRef(0),l=h.useRef(null),[c,u]=h.useState(i);if(!t){const e=o.current;return o.current=i,[i,e,No]}h.useEffect((()=>{const e=Date.now()-a.current,t=n-e,o=t<=0?r:0,c=Math.max(o,t);return c<=0?(a.current=Date.now(),u(i)):(clearTimeout(s.current),l.current=()=>{l.current=null,a.current=Date.now(),u(i)},s.current=setTimeout(l.current,c)),()=>clearTimeout(s.current)}),[i]);const d=h.useCallback((()=>(a.current=0,l.current&&(clearTimeout(s.current),s.current=setTimeout(l.current,1)),()=>clearTimeout(s.current))),[]),f=o.current;return o.current=c,[c,f,d]}function jo(){const[e]=Wo(co);return Un(e,"You can not use useNavigator hook outside of RouterContext. Make sure calling it inside RouterProvider."),e.routeNavigator}function Ko(){const[e]=Wo(uo);return Un(e,"You can not use useLocation hook outside of RouteContext. Make sure calling it inside RouterProvider."),e.state.location}function Vo(){const[e]=Wo(ho);return e.popout}function Ho(e,{relative:t}={}){const{router:{state:{matches:n}}}=h.useContext(co),{pathname:r}=Ko(),o=JSON.stringify(vr(n).map((e=>e.pathnameBase)));return h.useMemo((()=>mr(e,JSON.parse(o),r,"path"===t)),[e,o,r,t])}function Uo(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return Boolean(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}const zo=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fo="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;h.forwardRef((function(e,t){var n=e,{to:a,relative:c,replace:d,target:f,reloadDocument:p,onClick:v}=n,m=((e,t)=>{var n={};for(var a in e)o.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&r)for(var a of r(e))t.indexOf(a)<0&&i.call(e,a)&&(n[a]=e[a]);return n})(n,["to","relative","replace","target","reloadDocument","onClick"]);let y,g=!1;if("string"==typeof a&&zo.test(a)&&(y=a,Fo)){const e=new URL(window.location.href),t=a.startsWith("//")?new URL(e.protocol+a):new URL(a),n=t.pathname;t.origin===e.origin?a=n+t.search+t.hash:g=!0}const b=function(e,{relative:t}={}){const n=h.useContext(co);Un(n,"You can not use useHref hook outside of RouteContext. Make sure calling it inside RouterProvider.");const{hash:r,pathname:o,search:i}=Ho(e,{relative:t});return n.router.createHref({pathname:o,search:i,hash:r})}(a,{relative:c}),w=function(e,{target:t,replace:n,preventScrollReset:r,relative:o}={}){const i=jo(),a=Ko(),s=Ho(e,{relative:o});return h.useCallback((e=>{if(Uo(e,t)){e.preventDefault();const t=Xn(s);(void 0!==n?n:Xn(a)===t)?i.replace(t):i.push(t)}}),[a,i,s,n,t,e,r,o])}(a,{replace:d,target:f,relative:c});return u.jsx(Sn,l(s({},m),{href:y||b,onClick:g||p?v:function(e){v&&v(e),e.defaultPrevented||w(e)},ref:t,target:f}))}));class Go{constructor(e){this._value=e}static init(e){Go._instance||(Go._instance=new Go(e))}static get value(){var e;return null==(e=Go._instance)?void 0:e._value}}const Xo={display:"flex",margin:"auto",height:"100vh",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center"},Yo={padding:"0px 8px",fontFamily:"Roboto, sans-serif",fontSize:80,color:"rgb(63, 138, 224)",background:"rgba(63, 138, 224, 0.08)",borderRadius:8,marginBottom:40},$o=()=>{const e=jo();return u.jsx(bn,{appearance:"dark",children:u.jsx(Bt,{children:u.jsxs(On,{style:Xo,children:[u.jsx("h1",{style:Yo,children:"404"}),u.jsx(hn,{onClick:()=>e.replace("/"),size:"l",mode:"outline",appearance:"accent-invariable",style:{padding:10},children:u.jsx("span",{style:{fontSize:"1.5em"},children:"На главную"})})]})})})},qo=({size:e,mode:t})=>{switch(t){case"panel":return u.jsx(_n,{size:e});case"screen":return u.jsx(An,{size:e});default:return u.jsx(un,{size:e})}},Jo=({children:e,size:t="regular",id:n,mode:r})=>u.jsx(h.Suspense,{fallback:u.jsx(qo,{size:t,mode:r}),children:e},n),Zo={position:"absolute",top:5,right:50,zIndex:500,padding:10,color:"var(--vkui--color_icon_accent)"},Qo=({toggleAppearance:e,appearance:t})=>u.jsx(ln,{style:Zo,onClick:e,children:"light"===t?u.jsx(oe,{}):u.jsx(ie,{})}),ei="about-fullstack",ti="profile",ni="contacts",ri="projects",oi="stack",ii=function(e){window.addEventListener("popstate",(e=>{e.state||window.history.replaceState({key:Ao()},"")}));const t=Hn();return Go.init(t.location),_r({history:t,routes:e.map((e=>l(s({},e),{index:!0})))}).initialize()}([{path:"/",panel:ti,view:ti},{path:ei,panel:ti,view:ti,modal:ei},{path:`profile/${ei}`,panel:ti,view:ti,modal:ei},{path:"/profile",panel:ti,view:ti},{path:"/contacts",panel:ni,view:ni},{path:"/projects",panel:ri,view:ri},{path:"/stack",panel:oi,view:oi}]),ai=h.lazy((()=>d((()=>import("./App-8dcbdf00.js").then((e=>e.A))),["assets/App-8dcbdf00.js","assets/index-7c56e82f.js","assets/react-37698f52.js","assets/index-152d0029.css"]))),si=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const[e,t]=h.useState("light"),n=h.useCallback((()=>{const n="light"===e?"dark":"light";t(n),localStorage.setItem("theme",n)}),[e]);return h.useEffect((()=>{const e=localStorage.getItem("theme");e&&t(e)}),[]),u.jsx(jn,{appearance:e,children:u.jsx(Rn,{children:u.jsx(Bo,{router:ii,notFound:u.jsx($o,{}),children:u.jsxs(Jo,{id:"app",children:[u.jsx(ai,{}),u.jsx(Qo,{toggleAppearance:n,appearance:e})]})})})})}},Symbol.toStringTag,{value:"Module"}));export{Jo as $,le as A,j as B,fn as C,Wo as D,Vo as E,po as F,jo as G,Bt as H,ti as I,Q as J,k as K,jt as L,ne as M,cn as N,qt as O,Ve as P,oi as Q,uo as R,bt as S,ln as T,ri as U,At as V,Ge as W,ni as X,Lt as Y,R as Z,V as _,vt as a,Ht as a0,ot as a1,at as a2,nt as a3,w as a4,b as a5,qe as a6,W as a7,M as a8,Yt as a9,Pt as aa,Jt as ab,A as ac,_t as ad,ei as ae,On as af,Tt as ag,hn as ah,x as ai,Wt as aj,st as ak,Sn as al,si as am,yt as b,G as c,E as d,v as e,p as f,Vt as g,Kt as h,H as i,N as j,lt as k,Qe as l,Je as m,ze as n,kt as o,m as p,pn as q,vn as r,D as s,I as t,ce as u,Mt as v,Ze as w,Nt as x,bn as y,St as z};

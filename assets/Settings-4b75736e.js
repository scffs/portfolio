var e=Object.defineProperty,r=Object.defineProperties,t=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,l=(r,t,a)=>t in r?e(r,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[t]=a;import{j as s}from"./index-41a51a4c.js";import{r as i}from"./react-37698f52.js";import{N as c,c as d,p,F as m}from"./AppWrapper-fa8f88ad.js";import{S as u}from"./Subhead-d9a283cd.js";import{V as f,P as v}from"./index-58e4bd49.js";import{P as j,G as g}from"./Group-66af4909.js";import{H as y}from"./Header-dc191490.js";import{C as h}from"./Cell-fadf9292.js";import{a as w}from"./App-a8039ade.js";import{S as x}from"./SimpleCell-e401bf2b.js";import"./useWaitTransitionFinish-5642122b.js";import"./PanelHeaderButton-041684c9.js";import"./Footnote-085504aa.js";import"./Headline-13225b6a.js";var b=c("Icon28MoonOutline","moon_outline_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" id="moon_outline_28"><g fill="none" fill-rule="nonzero"><path d="M0 0h28v28H0z" /><path fill="currentColor" d="M24.166 15.685a1 1 0 0 1 1.277 1.275c-.569 1.614-1.445 3.046-2.632 4.229-4.418 4.418-11.58 4.417-15.997 0-4.419-4.417-4.419-11.58 0-15.998C8 4.006 9.431 3.129 11.042 2.559a1 1 0 0 1 1.276 1.277c-1.194 3.372-.394 7.133 2.16 9.69 2.554 2.553 6.317 3.353 9.688 2.16Zm-11.102-.746a11.25 11.25 0 0 1-3.163-9.643c-.61.37-1.17.806-1.673 1.309-3.637 3.637-3.637 9.534 0 13.17a9.311 9.311 0 0 0 13.17-.002 8.75 8.75 0 0 0 1.31-1.671 11.247 11.247 0 0 1-9.644-3.163Z" /></g></symbol>',28,28,!1,void 0),_=c("Icon28SunOutline","sun_outline_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 28 28" id="sun_outline_28"><g fill="currentColor"><path d="M15 2a1 1 0 1 0-2 0v3a1 1 0 1 0 2 0zM15 23a1 1 0 1 0-2 0v3a1 1 0 1 0 2 0zM23.892 20.866a1 1 0 1 0 1-1.732l-2.598-1.5a1 1 0 1 0-1 1.732zM5.706 10.366a1 1 0 1 0 1-1.732l-2.598-1.5a1 1 0 0 0-1 1.732zM2.742 20.5a1 1 0 0 1 .366-1.366l2.598-1.5a1 1 0 1 1 1 1.732l-2.598 1.5a1 1 0 0 1-1.366-.366zM20.928 10a1 1 0 0 1 .366-1.366l2.598-1.5a1 1 0 1 1 1 1.732l-2.598 1.5A1 1 0 0 1 20.928 10z" /><path fill-rule="evenodd" d="M14 8.031a5.969 5.969 0 1 0 0 11.938A5.969 5.969 0 0 0 14 8.03zM9.992 14c0-2.355 1.653-4.008 4.008-4.008s4.016 1.653 4.016 4.008-1.661 4-4.016 4-4.008-1.645-4.008-4z" clip-rule="evenodd" /></g></symbol>',28,28,!1,void 0);const k="_CellButton_1yciy_1",C="_CellButton--centered_1yciy_29",O="_CellButton--mode-danger_1yciy_51",S=e=>{var s,c,p=e,{centered:m=!1,mode:u="primary",className:f}=p,v=((e,r)=>{var t={};for(var l in e)o.call(e,l)&&r.indexOf(l)<0&&(t[l]=e[l]);if(null!=e&&a)for(var l of a(e))r.indexOf(l)<0&&n.call(e,l)&&(t[l]=e[l]);return t})(p,["centered","mode","className"]);return i.createElement(x,(s=((e,r)=>{for(var t in r||(r={}))o.call(r,t)&&l(e,t,r[t]);if(a)for(var t of a(r))n.call(r,t)&&l(e,t,r[t]);return e})({stopPropagation:!0},v),c={className:d(k,"vkuiInternalCellButton","danger"===u&&d(O,"vkuiInternalCellButton--mode-danger"),m&&C,f)},r(s,t(c))))},M=({toggleAppearance:e})=>{const r="light"===p()?s.jsx(b,{}):s.jsx(_,{});return s.jsx(S,{onClick:()=>{e(),window.dispatchEvent(new Event("themeChanged"))},"aria-label":"Сменить тему",before:r,children:"Сменить тему"})},z=e=>{if(e.startsWith("orientation")){return`Ориентация ${e.replace("orientation","").toLowerCase()}`}return"theme"===e?"Тема":e},E=({id:e,toggleAppearance:r})=>{const{panel:t,panelsHistory:a}=w(),o=m(),[n,l]=i.useState([]);return i.useEffect((()=>{const e=Object.keys(localStorage).map((e=>({key:e,value:localStorage.getItem(e)||"false"})));l(e)}),[]),i.useEffect((()=>{const e=e=>{e.key&&l((r=>r.map((r=>({key:r.key,value:r.key===e.key?e.newValue||"false":r.value})))))},r=()=>{const e=Object.keys(localStorage).map((e=>({key:e,value:localStorage.getItem(e)||"false"})));l(e)};return window.addEventListener("storage",e),window.addEventListener("themeChanged",r),()=>{window.removeEventListener("storage",e),window.removeEventListener("themeChanged",r)}}),[]),s.jsx(f,{id:e,history:a,activePanel:t,onSwipeBack:()=>o.back(),children:s.jsxs(j,{nav:e,children:[s.jsx(v,{title:"Настройки"}),s.jsx(g,{header:s.jsx(y,{mode:"secondary",children:"Внешний вид"}),children:s.jsx(M,{toggleAppearance:r})}),s.jsx(g,{header:s.jsx(y,{mode:"secondary",aside:s.jsx(u,{children:"Хранится в LocalStorage"}),children:"Кеш"}),children:n.map((e=>s.jsx(h,{indicator:e.value,children:z(e.key)},e.key)))})]})})};export{E as default};

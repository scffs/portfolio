var e=Object.defineProperty,a=Object.defineProperties,o=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,r=(a,o,l)=>o in a?e(a,o,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[o]=l,c=(e,a)=>{for(var o in a||(a={}))t.call(a,o)&&r(e,o,a[o]);if(l)for(var o of l(a))n.call(a,o)&&r(e,o,a[o]);return e},s=(e,l)=>a(e,o(l)),i=(e,a)=>{var o={};for(var r in e)t.call(e,r)&&a.indexOf(r)<0&&(o[r]=e[r]);if(null!=e&&l)for(var r of l(e))a.indexOf(r)<0&&n.call(e,r)&&(o[r]=e[r]);return o};import{r as m}from"./react-37698f52.js";import{N as _,S as d,d as v,u as f,O as g,c as u,P as h,t as p,ai as b,R as C,aj as x,f as w,g as E,ah as R,a4 as y,e as k}from"./AppWrapper-9701c826.js";import{S as N}from"./SimpleCell-1db508b1.js";import{u as I}from"./App-33f3984a.js";var O=_("Icon20CheckBoxOff","check_box_off_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20" id="check_box_off_20"><path fill="currentColor" fill-rule="evenodd" d="M4.046 2.534C4.788 2.138 5.517 2 7.128 2h5.744c1.61 0 2.34.138 3.082.534.65.348 1.164.862 1.512 1.512.396.742.534 1.471.534 3.082v5.744c0 1.61-.138 2.34-.534 3.082a3.644 3.644 0 0 1-1.512 1.512c-.742.396-1.472.534-3.082.534H7.128c-1.61 0-2.34-.138-3.082-.534a3.644 3.644 0 0 1-1.512-1.512C2.138 15.212 2 14.482 2 12.872V7.128c0-1.61.138-2.34.534-3.082a3.645 3.645 0 0 1 1.512-1.512Zm3.082.966c-1.531 0-1.962.136-2.374.357a2.145 2.145 0 0 0-.897.897c-.22.412-.357.843-.357 2.374v5.744c0 1.531.136 1.962.357 2.374.208.389.508.69.897.897.412.22.843.357 2.374.357h5.744c1.531 0 1.962-.136 2.374-.357.389-.208.69-.508.897-.897.22-.412.357-.843.357-2.374V7.128c0-1.531-.136-1.962-.357-2.374a2.145 2.145 0 0 0-.897-.897c-.412-.22-.843-.357-2.374-.357H7.128Z" clip-rule="evenodd" /></symbol>',20,20,!1,void 0),S=_("Icon20CheckBoxOn","check_box_on_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20" id="check_box_on_20"><path fill="currentColor" fill-rule="evenodd" d="M2.436 4.184C2 5.04 2 6.16 2 8.4v3.2c0 2.24 0 3.36.436 4.216a4 4 0 0 0 1.748 1.748C5.04 18 6.16 18 8.4 18h3.2c2.24 0 3.36 0 4.216-.436a4 4 0 0 0 1.748-1.748C18 14.96 18 13.84 18 11.6V8.4c0-2.24 0-3.36-.436-4.216a4 4 0 0 0-1.748-1.748C14.96 2 13.84 2 11.6 2H8.4c-2.24 0-3.36 0-4.216.436a4 4 0 0 0-1.748 1.748Zm12.2 3.803a.9.9 0 1 0-1.272-1.274l-4.673 4.665-2.055-2.052A.9.9 0 0 0 5.364 10.6l2.691 2.687a.9.9 0 0 0 1.272 0l5.309-5.3Z" clip-rule="evenodd" /></symbol>',20,20,!1,void 0),D=_("Icon24CheckBoxOff","check_box_off_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" id="check_box_off_24"><path fill="currentColor" d="M16.872 2c1.783 0 2.43.186 3.082.534.651.349 1.163.86 1.512 1.512S22 5.345 22 7.128v9.744c0 1.783-.186 2.43-.534 3.082a3.635 3.635 0 0 1-1.512 1.512c-.652.348-1.299.534-3.082.534H7.128c-1.783 0-2.43-.186-3.082-.534s-1.163-.86-1.512-1.512C2.186 19.302 2 18.655 2 16.872V7.128c0-1.783.186-2.43.534-3.082a3.635 3.635 0 0 1 1.512-1.512C4.698 2.186 5.345 2 7.128 2zm.564 2H6.564c-.892 0-1.215.093-1.54.267-.327.174-.583.43-.757.756-.174.326-.267.65-.267 1.54v10.873c0 .892.093 1.215.267 1.54.174.327.43.583.756.757.326.174.65.267 1.54.267h10.873c.892 0 1.215-.093 1.54-.267.327-.174.583-.43.757-.756.174-.326.267-.65.267-1.54V6.563c0-.892-.093-1.215-.267-1.54a1.817 1.817 0 0 0-.756-.757c-.326-.174-.65-.267-1.54-.267z" /></symbol>',24,24,!1,void 0),j=_("Icon24CheckBoxOn","check_box_on_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" id="check_box_on_24"><path fill="currentColor" fill-rule="evenodd" d="M2.436 4.184C2 5.04 2 6.16 2 8.4v7.2c0 2.24 0 3.36.436 4.216a4 4 0 0 0 1.748 1.748C5.04 22 6.16 22 8.4 22h7.2c2.24 0 3.36 0 4.216-.436a4 4 0 0 0 1.748-1.748C22 18.96 22 17.84 22 15.6V8.4c0-2.24 0-3.36-.436-4.216a4 4 0 0 0-1.748-1.748C18.96 2 17.84 2 15.6 2H8.4c-2.24 0-3.36 0-4.216.436a4 4 0 0 0-1.748 1.748zm15.771 5.023a1 1 0 0 0-1.414-1.414L10 14.586l-2.793-2.793a1 1 0 0 0-1.414 1.414l3.5 3.5a1 1 0 0 0 1.414 0z" clip-rule="evenodd" /></symbol>',24,24,!1,void 0),M=_("Icon24CheckCircleOff","check_circle_off_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" id="check_circle_off_24"><path fill="currentColor" d="M12 0c6.629 0 12 5.373 12 12 0 6.629-5.373 12-12 12-6.629 0-12-5.373-12-12C0 5.371 5.373 0 12 0Zm0 1.5C6.2 1.5 1.5 6.2 1.5 12S6.2 22.5 12 22.5 22.5 17.8 22.5 12 17.8 1.5 12 1.5Z" /></symbol>',24,24,!1,void 0),P=_("Icon24CheckCircleOn","check_circle_on_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" id="check_circle_on_24"><path fill="currentColor" fill-rule="evenodd" d="M12 24c6.627 0 12-5.373 12-12S18.627 0 12 0 0 5.373 0 12s5.373 12 12 12Zm6.207-14.793a1 1 0 0 0-1.414-1.414L10 14.586l-2.793-2.793a1 1 0 0 0-1.414 1.414l3.5 3.5a1 1 0 0 0 1.414 0l7.5-7.5Z" clip-rule="evenodd" /></symbol>',24,24,!1,void 0),B=_("Icon24Reorder","reorder_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="reorder_24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z" /><path fill="currentColor" fill-rule="nonzero" d="M21 18a1 1 0 0 1-1 1H4a1 1 0 0 1 0-2h16a1 1 0 0 1 1 1Zm0-4a1 1 0 0 1-1 1H4a1 1 0 0 1 0-2h16a1 1 0 0 1 1 1Zm0-4a1 1 0 0 1-1 1H4a1 1 0 0 1 0-2h16a1 1 0 0 1 1 1ZM3 6a1 1 0 0 1 1-1h16a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1Z" /></g></symbol>',24,24,!1,void 0),H=_("Icon24ReorderIos","reorder_ios_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="reorder_ios_24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z" opacity=".1" /><path fill="currentColor" fill-rule="nonzero" d="M2.75 7h18.5a.75.75 0 1 1 0 1.5H2.75a.75.75 0 0 1 0-1.5Zm0 4h18.5a.75.75 0 1 1 0 1.5H2.75a.75.75 0 1 1 0-1.5Zm0 4h18.5a.75.75 0 1 1 0 1.5H2.75a.75.75 0 1 1 0-1.5Z" /></g></symbol>',24,24,!1,void 0);const Z="_IconButton_aj7ce_1",Y="_IconButton--sizeY-compact_aj7ce_22",z="_IconButton--ios_aj7ce_30",A={none:"_IconButton--sizeY-none_aj7ce_64",[d.COMPACT]:Y},F=e=>{var a=e,{children:o,className:l}=a,t=i(a,["children","className"]);const n=v(),{sizeY:r="none"}=f();return m.createElement(g,s(c({activeEffectDelay:200,activeMode:"background",Component:t.href?"a":"button"},t),{className:u(Z,r!==d.REGULAR&&A[r],n===h.IOS&&z,l)}),o)},V=({IconCompact:e,IconRegular:a})=>{const{sizeY:o}=I();return m.createElement(m.Fragment,null,o.compact&&m.createElement(e,{className:o.compact.className}),o.regular&&m.createElement(a,{className:o.regular.className}))},L=m.createContext({toggleDrag:p}),T="_Removable__content_1gv90_1",W="_Removable__action_1gv90_8",$="_Removable--align-start_1gv90_16",q="_Removable--ios_1gv90_24",G="_Removable__remove_1gv90_28",K="_Removable__remove-in_1gv90_42",U="_Removable__toggle_1gv90_56",X="_Removable__toggle-in_1gv90_64",J="_Removable--indent_1gv90_97",Q="_Removable__offset_1gv90_114",ee=({onRemove:e,removePlaceholder:a,removePlaceholderString:o,children:l})=>{const{window:t}=w(),n=m.useRef(null),r=m.useRef(!0),[c,s]=m.useState(0);E(t,"click",(()=>{c>0&&s(0)}),{capture:!0});return m.createElement("div",{className:u(T,"vkuiInternalRemovable__content"),style:{transform:`translateX(-${null!=c?c:0}px)`},onTransitionEnd:()=>{var e;c>0?null==(e=null==n?void 0:n.current)||e.focus():r.current=!0}},m.createElement(F,{hasActive:!1,hasHover:!1,"aria-label":o,className:u(W,U,"vkuiInternalRemovable__action"),onClick:e=>{if(e.stopPropagation(),!n.current)return;const{offsetWidth:a}=n.current;r.current=!1,s(a)},disabled:c>0},m.createElement("i",{className:X,role:"presentation"})),"function"==typeof l?l({isRemoving:c>0}):l,m.createElement("span",{className:Q,"aria-hidden":!0}),m.createElement(g,{Component:"button",hasActive:!1,hasHover:!1,disabled:r.current,getRootRef:n,className:G,onClick:e},m.createElement("span",{className:K},a)))},ae=e=>{var a=e,{children:o,onRemove:l=p,removePlaceholder:t="Удалить",align:n="center",indent:r=!1}=a,_=i(a,["children","onRemove","removePlaceholder","align","indent"]);const d=v(),f=e=>{e.preventDefault(),l(e)},g=b(t);return m.createElement(C,s(c({},_),{baseClassName:u(d===h.IOS&&q,"start"===n&&$,r&&J)}),d!==h.IOS&&m.createElement("div",{className:u(T,"vkuiInternalRemovable__content")},o,m.createElement(F,{activeMode:"opacity",hoverMode:"opacity",className:u(W,"vkuiInternalRemovable__action"),onClick:f,"aria-label":g},m.createElement(x,{role:"presentation"})),m.createElement("span",{className:Q,"aria-hidden":!0})),d===h.IOS&&m.createElement(ee,{onRemove:f,removePlaceholder:t,removePlaceholderString:g},o))},oe="_CellCheckbox_fjdxx_1",le="_CellCheckbox__icon_fjdxx_7",te="_CellCheckbox__icon--on_fjdxx_12",ne="_CellCheckbox__input_fjdxx_16",re="_CellCheckbox__icon--off_fjdxx_16",ce=()=>m.createElement(V,{IconCompact:S,IconRegular:j}),se=()=>m.createElement(V,{IconCompact:O,IconRegular:D});const ie=e=>{var a=e,{getRootRef:o,getRef:l,className:t,style:n,type:r="auto"}=a,_=i(a,["getRootRef","getRef","className","style","type"]);const d=function(e){const a=v();return"auto"!==e?e:a===h.IOS||a===h.VKCOM?"circle":"square"}(r),f="circle"===d?M:se,g="circle"===d?P:ce;return m.createElement("span",{className:u(oe,t),style:n,ref:o},m.createElement(R,s(c({},_),{Component:"input",type:"checkbox",className:ne,getRootRef:l})),m.createElement("span",{className:u(le,re),"aria-hidden":!0},m.createElement(f,null)),m.createElement("span",{className:u(le,te),"aria-hidden":!0},m.createElement(g,null)))},me="_CellDragger_bme97_1",_e=e=>{var a=e,{onDragStart:o,onDragMove:l,onDragEnd:t,onClick:n,className:r}=a,s=i(a,["onDragStart","onDragMove","onDragEnd","onClick","className"]);const _=v();return m.createElement(y,c({className:u(me,r),onStart:o,onMoveY:l,onEnd:t,onClick:e=>{e.preventDefault(),n&&n(e)}},s),_===h.IOS?m.createElement(H,null):m.createElement(B,null))},de="_Cell_l5x8w_1",ve="_Cell--dragging_l5x8w_10",fe="_Cell--selectable_l5x8w_21",ge="_Cell--disabled_l5x8w_21",ue="_Cell__checkbox_l5x8w_25",he="_Cell__dragger_l5x8w_26",pe="_Cell__content_l5x8w_32",be="_Cell--removable_l5x8w_37",Ce="_Cell--ios_l5x8w_59",xe=e=>{var a=e,{mode:o,onRemove:l=p,removePlaceholder:t="Удалить",onDragFinish:n,before:r,after:_,disabled:d,draggable:f,Component:g,onChange:b,name:C,value:x,checked:w,defaultChecked:E,getRootRef:R,draggerLabel:y="Перенести ячейку",className:I,style:O}=a,S=i(a,["mode","onRemove","removePlaceholder","onDragFinish","before","after","disabled","draggable","Component","onChange","name","value","checked","defaultChecked","getRootRef","draggerLabel","className","style"]);const D="selectable"===o,j="removable"===o,M=D?"label":g,P=v(),B=k(R),H=(({rootElRef:e,onDragFinish:a})=>{const[o,l]=m.useState(!1),[t,n]=m.useState([]),[r,c]=m.useState(0),[s,i]=m.useState(0),[_,d]=m.useState(0),[v,f]=m.useState(void 0);return{onDragStart:a=>{var o;const t=e.current;if(!t)return;a.originalEvent.stopPropagation(),a.originalEvent.preventDefault(),l(!0);let r=[];(null==(o=t.parentElement)?void 0:o.childNodes)&&(r=Array.from(t.parentElement.children));const s=r.indexOf(t);c(s),i(s),n(r),d(0)},onDragMove:a=>{a.originalEvent.stopPropagation(),a.originalEvent.preventDefault();const o=e.current;if(o){o.style.transform=`translateY(${a.shiftY}px)`;const e=o.getBoundingClientRect();f(_-a.shiftY<0?"down":"up"),d(a.shiftY),i(r),t.forEach(((a,o)=>{const l=a.getBoundingClientRect(),t=l.height/2,n=e.bottom>l.top+t,c=e.top<l.bottom-t;r<o?(n&&("down"===v&&(a.style.transform="translateY(-100%)"),i((e=>e+1))),c&&"up"===v&&(a.style.transform="translateY(0)")):r>o&&(c&&("up"===v&&(a.style.transform="translateY(100%)"),i((e=>e-1))),n&&"down"===v&&(a.style.transform="translateY(0)"))}))}},onDragEnd:e=>{e.originalEvent.stopPropagation(),e.originalEvent.preventDefault();const[o,m]=[r,s];t.forEach((e=>{e.style.transform=""})),n([]),i(0),c(0),f(void 0),d(0),l(!1),a&&a({from:o,to:m})},dragging:o}})({rootElRef:B,onDragFinish:n}),{dragging:Z}=H,Y=i(H,["dragging"]),{toggleDrag:z}=m.useContext(L);let A,F;if(m.useEffect((()=>{if(Z)return z(!0),()=>z(!1)}),[Z,z]),f&&(A=m.createElement(_e,c({className:he,"aria-label":y},Y))),D){const e={name:C,value:x,onChange:b,defaultChecked:E,checked:w,disabled:d};F=m.createElement(ie,c({className:ue},e))}const V=f&&!D||j&&!S.onClick||d,T=!V&&!Z,W=u(de,P===h.IOS&&Ce,Z&&ve,j&&be,"label"===M&&fe,d&&ge),$=s(c({hasActive:T,hasHover:T&&!j},S),{className:pe,disabled:V,Component:M,before:m.createElement(m.Fragment,null,f&&P!==h.IOS&&A,D&&F,r),after:m.createElement(m.Fragment,null,f&&P===h.IOS&&A,_)});return j?m.createElement(ae,{className:u(W,I),style:O,getRootRef:B,removePlaceholder:t,onRemove:e=>l(e,B.current)},P===h.IOS?({isRemoving:e})=>m.createElement(N,s(c({},$),{disabled:$.disabled||e})):m.createElement(N,$)):m.createElement("div",{className:u(W,I),style:O,ref:B},m.createElement(N,$))};xe.Checkbox=ie;export{xe as C,L};

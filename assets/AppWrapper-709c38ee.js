var e=Object.defineProperty,t=Object.defineProperties,n=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,i=(t,n,o)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[n]=o,s=(e,t)=>{for(var n in t||(t={}))r.call(t,n)&&i(e,n,t[n]);if(o)for(var n of o(t))a.call(t,n)&&i(e,n,t[n]);return e},l=(e,o)=>t(e,n(o)),c=(e,t)=>{var n={};for(var i in e)r.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&o)for(var i of o(e))t.indexOf(i)<0&&a.call(e,i)&&(n[i]=e[i]);return n},u=(e,t,n)=>new Promise(((o,r)=>{var a=e=>{try{s(n.next(e))}catch(e){r(e)}},i=e=>{try{s(n.throw(e))}catch(e){r(e)}},s=e=>e.done?o(e.value):Promise.resolve(e.value).then(a,i);s((n=n.apply(e,t)).next())}));import{j as d,_ as h}from"./index-8e849d0e.js";import{r as p,R as f}from"./react-37698f52.js";const m={"-sizeX--compact-forced":"_-sizeX--compact-forced_1imb7_15","-sizeX--regular-forced":"_-sizeX--regular-forced_1imb7_16","-sizeX--compact-mq":"_-sizeX--compact-mq_1imb7_21","-sizeX--regular-mq":"_-sizeX--regular-mq_1imb7_28","-sizeY--compact-forced":"_-sizeY--compact-forced_1imb7_36","-sizeY--regular-forced":"_-sizeY--regular-forced_1imb7_37","-sizeY--compact-mq":"_-sizeY--compact-mq_1imb7_42","-sizeY--regular-mq":"_-sizeY--regular-mq_1imb7_49","-viewWidth--tabletPlus-forced":"_-viewWidth--tabletPlus-forced_1imb7_57","-viewWidth--tabletMinus-forced":"_-viewWidth--tabletMinus-forced_1imb7_58","-viewWidth--tabletMinus-mq":"_-viewWidth--tabletMinus-mq_1imb7_63","-viewWidth--tabletPlus-mq":"_-viewWidth--tabletPlus-mq_1imb7_70","-deviceType--mobile-forced":"_-deviceType--mobile-forced_1imb7_78","-deviceType--desktop-forced":"_-deviceType--desktop-forced_1imb7_79","-deviceType--mobile-mq":"_-deviceType--mobile-mq_1imb7_85","-deviceType--desktop-mq":"_-deviceType--desktop-mq_1imb7_92"};function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function b(e,t,n){return t&&g(e.prototype,t),n&&g(e,n),e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=function(){function e(t){var n=t.content;v(this,e),y(this,"isMounted",!1),y(this,"node",void 0),this.node=function(e){var t=!!document.importNode,n=(new DOMParser).parseFromString(e,"image/svg+xml").documentElement;return t?document.importNode(n,!0):n}(n)}return b(e,[{key:"id",get:function(){return this.node.id}},{key:"mount",value:function(e){return this.isMounted||(this.isMounted=!0,e.appendChild(this.node)),this.node}},{key:"unmount",value:function(){this.node&&this.node.parentNode&&(this.node.parentNode.removeChild(this.node),this.isMounted=!1)}}],[{key:"createFromExistingNode",value:function(t){var n=new e({content:""});return n.node=t,n}}]),e}(),_="http://www.w3.org/2000/svg",E=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};v(this,e),y(this,"symbols",new Map),y(this,"config",{attrs:{xmlns:_,"xmlns:xlink":"http://www.w3.org/1999/xlink",style:"position:absolute;width:0;height:0","aria-hidden":"true"}}),y(this,"node",null),Object.assign(this.config.attrs,t.attrs)}return b(e,[{key:"push",value:function(e){var t=this.symbols,n=t.has(e.id);return t.set(e.id,e),!n}},{key:"add",value:function(e){var t=this.push(e);return this.node&&t&&e.mount(this.node),t}},{key:"attach",value:function(e){var t=this;this.node||(this.node=e,this.symbols.forEach((function(t){t.mount(e)})),e.querySelectorAll("symbol").forEach((function(e){var n=w.createFromExistingNode(e);t.add(n)})))}},{key:"mount",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.node||(this.node=this.render(),t&&e.childNodes[0]?e.insertBefore(this.node,e.firstChild):e.appendChild(this.node)),this.node}},{key:"render",value:function(){var e=document.createElementNS(_,"svg");return Object.entries(this.config.attrs).forEach((function(t){return e.setAttribute(t[0],t[1])})),this.symbols.forEach((function(t){return e.appendChild(t.node)})),e}},{key:"unmount",value:function(){this.node&&this.node.parentNode&&this.node.parentNode.removeChild(this.node)}}]),e}();function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){y(e,t,n[t])}))}return e}function S(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function k(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var M,P=!("undefined"==typeof window||!window.document||!window.document.createElement);if(P){var R="__SVG_SPRITE_NODE__";M=new E({attrs:{id:R}});var L=function(){var e=document.getElementById(R);e?M.attach(e):M.mount(document.body),document.removeEventListener("DOMContentLoaded",L)};document.querySelector("body")?L():document.addEventListener("DOMContentLoaded",L)}else M=null;var x=P?p.useLayoutEffect:p.useEffect;var T=function(e){var t=e.width,n=void 0===t?0:t,o=e.height,r=void 0===o?0:o,a=e.viewBox,i=e.id,s=e.className,l=void 0===s?"":s,c=e.fill,u=e.getRootRef,d=e.style,h=void 0===d?{}:d,p=e.title,m=e.children,v=k(e,["width","height","viewBox","id","className","fill","getRootRef","style","title","children"]),g=Math.max(n,r),b=A({width:n,height:r},h);return f.createElement("svg",S(A({"aria-hidden":"true",display:"block"},v),{className:["vkuiIcon","vkuiIcon--".concat(g),"vkuiIcon--w-".concat(n),"vkuiIcon--h-".concat(r),"vkuiIcon--".concat(i),l].join(" ").trim(),viewBox:a,width:n,height:r,style:b,ref:u}),p&&f.createElement("title",null,p),f.createElement("use",{xlinkHref:"#".concat(i),style:{fill:"currentColor",color:c}},m))};function C(e,t,n,o,r,a,i,s){var l,c=function(){var e;u||(e=new w({content:o}),M&&M.add(e),u=!0)},u=!1,d=(l={},function(e){l[e]||(l[e]=!0)}),h=function(e){if(x(c,[]),i){var o=s?". Замените на ".concat(s):"";d("Иконка устарела"+o)}return f.createElement(T,S(A({},e),{viewBox:n,id:t,width:void 0===e.width||isNaN(e.width)?r:+e.width,height:void 0===e.height||isNaN(e.height)?a:+e.height}))};return h.mountIcon=c,h.displayName=e,h}var O=function(e){return e.children},D=C("Icon16Spinner","spinner_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16" id="spinner_16"><path fill="currentColor" fill-rule="evenodd" d="M11.21 2.93a6 6 0 0 0-8.64 7.62 1 1 0 1 1-1.8.86A8 8 0 1 1 8 16a1 1 0 1 1 0-2 6 6 0 0 0 3.21-11.07z" clip-rule="evenodd" /></symbol>',16,16,!1,void 0),I=C("Icon24Cancel","cancel_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="cancel_24"><path d="M7.536 6.264a.9.9 0 0 0-1.272 1.272L10.727 12l-4.463 4.464a.9.9 0 0 0 1.272 1.272L12 13.273l4.464 4.463a.9.9 0 1 0 1.272-1.272L13.273 12l4.463-4.464a.9.9 0 1 0-1.272-1.272L12 10.727 7.536 6.264Z" /></symbol>',24,24,!1,void 0),B=C("Icon24Spinner","spinner_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" id="spinner_24"><path fill="currentColor" fill-rule="evenodd" d="M16.394 5.077A8.2 8.2 0 0 0 4.58 15.49a.9.9 0 0 1-1.628.767A10 10 0 1 1 12 22a.9.9 0 0 1 0-1.8 8.2 8.2 0 0 0 4.394-15.123z" clip-rule="evenodd" /></symbol>',24,24,!1,void 0),N=C("Icon28MoonOutline","moon_outline_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" id="moon_outline_28"><g fill="none" fill-rule="nonzero"><path d="M0 0h28v28H0z" /><path fill="currentColor" d="M24.166 15.685a1 1 0 0 1 1.277 1.275c-.569 1.614-1.445 3.046-2.632 4.229-4.418 4.418-11.58 4.417-15.997 0-4.419-4.417-4.419-11.58 0-15.998C8 4.006 9.431 3.129 11.042 2.559a1 1 0 0 1 1.276 1.277c-1.194 3.372-.394 7.133 2.16 9.69 2.554 2.553 6.317 3.353 9.688 2.16Zm-11.102-.746a11.25 11.25 0 0 1-3.163-9.643c-.61.37-1.17.806-1.673 1.309-3.637 3.637-3.637 9.534 0 13.17a9.311 9.311 0 0 0 13.17-.002 8.75 8.75 0 0 0 1.31-1.671 11.247 11.247 0 0 1-9.644-3.163Z" /></g></symbol>',28,28,!1,void 0),W=C("Icon28SunOutline","sun_outline_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 28 28" id="sun_outline_28"><g fill="currentColor"><path d="M15 2a1 1 0 1 0-2 0v3a1 1 0 1 0 2 0zM15 23a1 1 0 1 0-2 0v3a1 1 0 1 0 2 0zM23.892 20.866a1 1 0 1 0 1-1.732l-2.598-1.5a1 1 0 1 0-1 1.732zM5.706 10.366a1 1 0 1 0 1-1.732l-2.598-1.5a1 1 0 0 0-1 1.732zM2.742 20.5a1 1 0 0 1 .366-1.366l2.598-1.5a1 1 0 1 1 1 1.732l-2.598 1.5a1 1 0 0 1-1.366-.366zM20.928 10a1 1 0 0 1 .366-1.366l2.598-1.5a1 1 0 1 1 1 1.732l-2.598 1.5A1 1 0 0 1 20.928 10z" /><path fill-rule="evenodd" d="M14 8.031a5.969 5.969 0 1 0 0 11.938A5.969 5.969 0 0 0 14 8.03zM9.992 14c0-2.355 1.653-4.008 4.008-4.008s4.016 1.653 4.016 4.008-1.661 4-4.016 4-4.008-1.645-4.008-4z" clip-rule="evenodd" /></g></symbol>',28,28,!1,void 0),j=C("Icon32Spinner","spinner_32","0 0 32 32",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="spinner_32"><path fill="currentColor" d="M16 32a1.5 1.5 0 0 1 0-3c7.18 0 13-5.82 13-13S23.18 3 16 3 3 8.82 3 16c0 1.557.273 3.074.8 4.502A1.5 1.5 0 1 1 .986 21.54 15.97 15.97 0 0 1 0 16C0 7.163 7.163 0 16 0s16 7.163 16 16-7.163 16-16 16Z" /></symbol>',32,32,!1,void 0),K=C("Icon44Spinner","spinner_44","0 0 44 44",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 44 44" id="spinner_44"><path fill="currentColor" d="M22 44a1.5 1.5 0 0 1 0-3c10.493 0 19-8.507 19-19S32.493 3 22 3 3 11.507 3 22c0 2.208.376 4.363 1.103 6.397a1.5 1.5 0 1 1-2.825 1.01A21.964 21.964 0 0 1 0 22C0 9.85 9.85 0 22 0s22 9.85 22 22-9.85 22-22 22Z" /></symbol>',44,44,!1,void 0),V=function(){return!("undefined"==typeof window||!window.document||!window.document.createElement)}();function z(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=[];return t.forEach((function(e){var t;if(e)switch(void 0===e?"undefined":(t=e)&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t){case"string":o.push(e);break;case"object":Object.keys(e).forEach((function(t){e[t]&&o.push(t)}));break;default:o.push("".concat(e))}})),o.join(" ")}var H=function(){};var U={parse:function(e){if("string"!=typeof e)return{};if(!(e=e.trim().replace(/^[?#&]/,"")))return{};var t=/\?(.+)$/gi.exec(e);return(t?t[1]:e).split("&").reduce((function(e,t){var n=t.split("=");return n[1]&&(e[n[0]]=decodeURIComponent(n[1])),e}),{})},stringify:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!=typeof e||null===e)return"";t=A({encode:!0},t);var n=function(e){return t.encode?encodeURIComponent(e):String(e)};return Object.keys(e).reduce((function(o,r){var a=e[r];return void 0===a?o:null===a?(t.skipNull||o.push([n(r),""].join("=")),o):Array.isArray(a)?(a.map((function(e){o.push("".concat(n(r),"[]=").concat(n(e)))})).join(),o):(o.push([n(r),n(a)].join("=")),o)}),[]).join("&")}};function F(e){return void 0!==e&&!1!==e&&null!==e&&""!==e}function Y(e){return"string"==typeof e||"number"==typeof e}function X(e){e||(e=V?navigator.userAgent:"");var t=function(e){if(!V)return!1;var t=!/ipad|iphone|ipod/.test(e),n=e.includes("mac os");if(n&&t&&"boolean"==typeof navigator.standalone)return!0;return!1}(e=e.toLowerCase()),n=t||e.includes("ipad"),o=!n&&-1!==e.search(/iphone|ipod/),r=o||n,a=r&&e.match(/os ([\d_]+) like mac os x/i),i=0,s=0;t?(i=13,s=0):a&&(i=+(a=a[1].split("_"))[0],s=+a[1]),a=null;var l=i<13&&!(11===i&&s<3),c=r&&function(e){if(!V)return!1;var t=window.webkit;if(t&&t.messageHandlers)return!0;var n=/constructor/i.test(String(window.HTMLElement)),o=!!window.indexedDB;if(e.includes("safari")&&e.includes("version")&&!navigator.standalone);else if(!o&&n||!window.statusbar||!window.statusbar.visible);else if(!n||o)return!0;return!1}(e),u=!1;return V&&(u=r&&375===screen.width&&812===screen.height&&3===window.devicePixelRatio),{isIPad:n,isIPhone:o,isIOS:r,isIPadOS:t,iosMajor:i,iosMinor:s,isWKWebView:c,isScrollBasedViewport:l,isIPhoneX:u,isIOSChrome:-1!==e.search(/crios/i)}}var G=X(),$=function(){return G.isIOS}(),q=function(){return G.isIPadOS}();var J=function(){var e={hasMouse:!1,hasTouchEvents:!1,hasHover:!1,hasTouch:!1};if(!V)return e;if($&&!q)e.hasMouse=!1,e.hasHover=!1,e.hasTouchEvents=!0,e.hasTouch=!0;else if(e.hasTouchEvents="ontouchstart"in document,e.hasTouch=e.hasTouchEvents||"maxTouchPoints"in navigator&&navigator.maxTouchPoints>0,e.hasTouch){var t=!/android|mobile|tablet/i.test(navigator.userAgent);e.hasMouse="function"==typeof window.matchMedia&&window.matchMedia("(pointer)").matches?matchMedia("(pointer: fine)").matches:t,e.hasHover=e.hasMouse&&("function"==typeof window.matchMedia&&window.matchMedia("(hover)").matches?matchMedia("(hover: hover)").matches:t)}else e.hasMouse=!0,e.hasHover=!0;return e}(),Z=function(){return J.hasMouse}(),Q=function(){return J.hasHover}();const ee=p.createContext({}),te=()=>p.useContext(ee);var ne=function(){return ne=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},ne.apply(this,arguments)};function oe(e,t,n){if(n||2===arguments.length)for(var o,r=0,a=t.length;r<a;r++)!o&&r in t||(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}function re(e,t){var n,o,r=(n={current:0,next:function(){return++this.current}},o={},{add:function(e,t){var r=null!=t?t:n.next();return o[r]=e,r},resolve:function(e,t,n){var r=o[e];r&&(n(t)?r.resolve(t):r.reject(t),o[e]=null)}});return t((function(e){if(e.detail&&e.detail.data&&"object"==typeof e.detail.data&&"request_id"in e.detail.data){var t=e.detail.data,n=t.request_id,o=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n}(t,["request_id"]);n&&r.resolve(n,o,(function(e){return!("error_type"in e)}))}})),function(t,n){return void 0===n&&(n={}),new Promise((function(o,a){var i=r.add({resolve:o,reject:a},n.request_id);e(t,ne(ne({},n),{request_id:i}))}))}}var ae="undefined"!=typeof window,ie=Boolean(ae&&window.AndroidBridge),se=Boolean(ae&&window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.VKWebAppClose),le=Boolean(ae&&window.ReactNativeWebView&&"function"==typeof window.ReactNativeWebView.postMessage),ce=ae&&!ie&&!se,ue=ce&&/(^\?|&)vk_platform=mobile_web(&|$)/.test(location.search),de=ce?"message":"VKWebAppEvent",he=oe(["VKWebAppInit","VKWebAppGetCommunityAuthToken","VKWebAppAddToCommunity","VKWebAppAddToHomeScreenInfo","VKWebAppClose","VKWebAppCopyText","VKWebAppCreateHash","VKWebAppGetUserInfo","VKWebAppSetLocation","VKWebAppSendToClient","VKWebAppGetClientVersion","VKWebAppGetPhoneNumber","VKWebAppGetEmail","VKWebAppGetGroupInfo","VKWebAppGetGeodata","VKWebAppGetCommunityToken","VKWebAppGetConfig","VKWebAppGetLaunchParams","VKWebAppSetTitle","VKWebAppGetAuthToken","VKWebAppCallAPIMethod","VKWebAppJoinGroup","VKWebAppLeaveGroup","VKWebAppAllowMessagesFromGroup","VKWebAppDenyNotifications","VKWebAppAllowNotifications","VKWebAppOpenPayForm","VKWebAppOpenApp","VKWebAppShare","VKWebAppShowWallPostBox","VKWebAppScroll","VKWebAppShowOrderBox","VKWebAppShowLeaderBoardBox","VKWebAppShowInviteBox","VKWebAppShowRequestBox","VKWebAppAddToFavorites","VKWebAppShowStoryBox","VKWebAppStorageGet","VKWebAppStorageGetKeys","VKWebAppStorageSet","VKWebAppFlashGetInfo","VKWebAppSubscribeStoryApp","VKWebAppOpenWallPost","VKWebAppCheckAllowedScopes","VKWebAppCheckBannerAd","VKWebAppHideBannerAd","VKWebAppShowBannerAd","VKWebAppCheckNativeAds","VKWebAppShowNativeAds","VKWebAppRetargetingPixel","VKWebAppConversionHit","VKWebAppShowSubscriptionBox","VKWebAppCheckSurvey","VKWebAppShowSurvey","VKWebAppScrollTop","VKWebAppScrollTopStart","VKWebAppScrollTopStop","VKWebAppShowSlidesSheet","VKWebAppTranslate"],ce&&!ue?["VKWebAppResizeWindow","VKWebAppAddToMenu","VKWebAppShowInstallPushBox","VKWebAppGetFriends","VKWebAppShowCommunityWidgetPreviewBox","VKWebAppCallStart","VKWebAppCallJoin","VKWebAppCallGetStatus"]:["VKWebAppShowImages"],!0),pe=ae?window.AndroidBridge:void 0,fe=se?window.webkit.messageHandlers:void 0,me=ce?parent:void 0;var ve,ge,be,ye,we,_e,Ee,Ae,Se,ke,Me,Pe,Re,Le;(ge=ve||(ve={})).REWARD="reward",ge.INTERSTITIAL="interstitial",(ye=be||(be={})).RESIZE="resize",ye.OVERLAY="overlay",(_e=we||(we={})).TOP="top",_e.BOTTOM="bottom",(Ae=Ee||(Ee={})).CAMERA="camera",Ae.LOCATION="location",Ae.PHOTO="photo",(ke=Se||(Se={})).RU="ru",ke.UK="uk",ke.UA="ua",ke.EN="en",ke.BE="be",ke.KZ="kz",ke.PT="pt",ke.ES="es",(Pe=Me||(Me={})).ADMIN="admin",Pe.EDITOR="editor",Pe.MEMBER="member",Pe.MODER="moder",Pe.NONE="none",(Le=Re||(Re={})).DESKTOP_WEB="desktop_web",Le.DESKTOP_WEB_MESSENGER="desktop_web_messenger",Le.DESKTOP_APP_MESSENGER="desktop_app_messenger",Le.MOBILE_WEB="mobile_web",Le.MOBILE_ANDROID="mobile_android",Le.MOBILE_ANDROID_MESSENGER="mobile_android_messenger",Le.MOBILE_IPHONE="mobile_iphone",Le.MOBILE_IPHONE_MESSENGER="mobile_iphone_messenger",Le.MOBILE_IPAD="mobile_ipad";var xe,Te,Ce=function(e){var t=void 0,n=[];function o(e){n.push(e)}function r(){return se||ie}function a(){return ce&&window.parent!==window}function i(){return r()||a()}function s(e){if(se||ie)return oe([],n,!0).map((function(t){return t.call(null,e)}));var o=null==e?void 0:e.data;if(ce&&o){if(le&&"string"==typeof o)try{o=JSON.parse(o)}catch(e){}var r=o.type,a=o.data,i=o.frameId;r&&("VKWebAppSettings"!==r?oe([],n,!0).map((function(e){return e({detail:{type:r,data:a}})})):t=i)}}le&&/(android)/i.test(navigator.userAgent)?document.addEventListener(de,s):"undefined"!=typeof window&&"addEventListener"in window&&window.addEventListener(de,s);var l=re((function(n,o){pe&&pe[n]?pe[n](JSON.stringify(o)):fe&&fe[n]&&"function"==typeof fe[n].postMessage?fe[n].postMessage(o):le?window.ReactNativeWebView.postMessage(JSON.stringify({handler:n,params:o})):me&&"function"==typeof me.postMessage&&me.postMessage({handler:n,params:o,type:"vk-connect",webFrameId:t,connectVersion:e},"*")}),o);return{send:l,sendPromise:l,subscribe:o,unsubscribe:function(e){var t=n.indexOf(e);t>-1&&n.splice(t,1)},supports:function(e){return ie?!(!pe||"function"!=typeof pe[e]):se?!(!fe||!fe[e]||"function"!=typeof fe[e].postMessage):!!ce&&he.includes(e)},isWebView:r,isIframe:a,isEmbedded:i,isStandalone:function(){return!i()}}}("2.10.0");(Te=xe||(xe={})).IOS="ios",Te.UNKNOWN="";const Oe={};function De(e){return{matches:!1,media:e,onchange:H,addListener:H,removeListener:H,addEventListener:H,removeEventListener:H,dispatchEvent:()=>!1}}const Ie=p.createContext({window:V?window:void 0,document:V?document:void 0}),Be=()=>p.useContext(Ie);function Ne(e){return t=>{const n=Be();return p.createElement(e,s(s({},t),n))}}function We(e){e&&e.activeElement&&e.activeElement.blur()}var je,Ke;(Ke=je||(je={})).ANDROID="android",Ke.IOS="ios",Ke.VKCOM="vkcom";const Ve={desktop_web:je.VKCOM};const ze=V?function(e){try{const t=U.parse(e).vk_platform;return"string"==typeof t&&t in Ve?Ve[t]:void 0}catch(e){return}}(location.search):void 0;var He,Ue;(Ue=He||(He={})).VKAPPS="vkapps",Ue.INTERNAL="internal";const Fe=p.createContext({webviewType:He.VKAPPS,isWebView:Ce.isWebView(),transitionMotionEnabled:!0,platform:ze||(Ye||(Ye=function(e=""){if(Oe[e])return Oe[e];let t=null,n=xe.UNKNOWN;const{isIOS:o,iosMajor:r,iosMinor:a}=X(e);o&&(n=xe.IOS,t={major:r,minor:a});const i={userAgent:e,system:n,systemVersion:t};return Oe[e]=i,i}()),"ios"===Ye.system?je.IOS:je.ANDROID),appearance:void 0,locale:"ru"});var Ye;const Xe=()=>p.useContext(Fe);function Ge(){const{appearance:e}=Xe();return null!=e?e:"light"}const $e=V?p.useLayoutEffect:p.useEffect;let qe={bottom:null,top:null,left:null,right:null};function Je(e){const{type:t,data:n}=e.detail;switch(t){case"VKWebAppUpdateConfig":case"VKWebAppUpdateInsets":const{insets:e}=n;if(e)return l(s({},e),{bottom:e.bottom>150?0:e.bottom})}return null}Ce.subscribe((e=>{const t=Je(e);t&&(qe=t)}));const Ze=["a[href]","area[href]",'input:not([disabled]):not([hidden]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([hidden]):not([aria-hidden])","textarea:not([disabled])","button:not([disabled])","iframe","audio","video","[contenteditable]",'[tabindex]:not([tabindex="-1"])'];var Qe,et;(et=Qe||(Qe={})).ENTER="Enter",et.SPACE="Space",et.TAB="Tab",et.ESCAPE="Escape",et.HOME="Home",et.END="End",et.ARROW_LEFT="ArrowLeft",et.ARROW_RIGHT="ArrowRight",et.ARROW_UP="ArrowUp",et.ARROW_DOWN="ArrowDown",et.PAGE_UP="PageUp",et.PAGE_DOWN="PageDown";const tt=[{code:Qe.ENTER,key:["Enter"],keyCode:13},{code:Qe.SPACE,key:["Space","Spacebar"," "],keyCode:32},{code:Qe.TAB,key:["Tab"],keyCode:9},{code:Qe.ESCAPE,key:["Escape"],keyCode:27},{code:Qe.HOME,key:["Home"],keyCode:36},{code:Qe.END,key:["End"],keyCode:35},{code:Qe.ARROW_LEFT,key:["ArrowLeft"],keyCode:37},{code:Qe.ARROW_RIGHT,key:["ArrowRight"],keyCode:39},{code:Qe.ARROW_UP,key:["ArrowUp"],keyCode:40},{code:Qe.ARROW_DOWN,key:["ArrowDown"],keyCode:40},{code:Qe.PAGE_UP,key:["PageUp"],keyCode:40},{code:Qe.PAGE_DOWN,key:["PageDown"],keyCode:40}];function nt(e){var t;return(null==(t=tt.find((({key:t,keyCode:n})=>t.includes(e.key)||n===e.keyCode)))?void 0:t.code)||null}function ot(e,t,n){const o=p.useRef(t);$e((()=>{o.current=t}),[t]);const r=p.useCallback((e=>o.current&&o.current(e)),[]),a=p.useRef(H),i=p.useCallback((()=>{a.current(),a.current=H}),[]),l=p.useCallback((t=>{if(!V)return;if(i(),!t)return;const o=s({},n);t.addEventListener(e,r,o),a.current=()=>t.removeEventListener(e,r,o)}),[n,r,e,i]);return p.useEffect((()=>i),[i]),p.useMemo((()=>({add:l,remove:i})),[l,i])}function rt(e,t,n,o){const r=ot(t,n,o);$e((()=>{n&&e?r.add(e):r.remove()}),[Boolean(n),Boolean(e)])}const at={DESKTOP:1280,TABLET:1024,SMALL_TABLET:768,MOBILE:320,MOBILE_LANDSCAPE_HEIGHT:415,MEDIUM_HEIGHT:720};function it(e){return`(min-width: ${e}px)`}function st(e){return`(max-width: ${e-.1}px)`}function lt(e,t){return`${it(e)} and ${st(t)}`}function ct(e){return`(min-height: ${e}px)`}function ut(e){return`(max-height: ${e-.1}px)`}var dt,ht,pt,ft,mt,vt,gt={BREAKPOINTS:at,MEDIA_QUERIES:{DESKTOP_PLUS:it(at.DESKTOP),TABLET:lt(at.TABLET,at.DESKTOP),SMALL_TABLET_PLUS:it(at.SMALL_TABLET),SMALL_TABLET:lt(at.SMALL_TABLET,at.TABLET),MOBILE:lt(at.MOBILE,at.SMALL_TABLET),MEDIUM_HEIGHT:ct(at.MEDIUM_HEIGHT),MOBILE_LANDSCAPE_HEIGHT:ct(at.MOBILE_LANDSCAPE_HEIGHT)},widthHalfInterval:lt,widthPlus:it,widthMinus:st,heightHalfInterval:function(e,t){return`${ct(e)} and ${ut(t)}`},heightPlus:ct,heightMinus:ut};(ht=dt||(dt={}))[ht.SMALL_MOBILE=1]="SMALL_MOBILE",ht[ht.MOBILE=2]="MOBILE",ht[ht.SMALL_TABLET=3]="SMALL_TABLET",ht[ht.TABLET=4]="TABLET",ht[ht.DESKTOP=5]="DESKTOP",(ft=pt||(pt={}))[ft.EXTRA_SMALL=1]="EXTRA_SMALL",ft[ft.SMALL=2]="SMALL",ft[ft.MEDIUM=3]="MEDIUM",(vt=mt||(mt={})).COMPACT="compact",vt.REGULAR="regular";const bt={[dt.SMALL_MOBILE]:"smallMobileMinus",[dt.MOBILE]:"mobile",[dt.SMALL_TABLET]:"smallTablet",[dt.TABLET]:"tablet",[dt.DESKTOP]:"desktopPlus"},yt=e=>"object"==typeof e&&null!==e&&e.hasOwnProperty("current"),wt=p.createContext({portalRoot:null}),_t=(e,t,n)=>Math.max(t,Math.min(e,n)),Et=e=>{Object.assign(e.style,{position:"",top:"",left:"",right:"",overflowY:"",overflowX:""})},At=e=>{const t=e.document.documentElement.clientHeight-e.innerHeight;return e.pageYOffset-t},St=p.createContext({getScroll:()=>({x:0,y:0}),scrollTo:H,isScrollLock:!1,enableScrollLock:H,disableScrollLock:H}),kt=()=>p.useContext(St),Mt=({children:e})=>{const{window:t,document:n}=Be(),[o,r]=p.useState(!1),a=p.useRef(new Set),i=p.useCallback((()=>({x:t.pageXOffset,y:At(t)})),[t]),s=p.useCallback(((e=0,o=0)=>{t.scrollTo(e?_t(e,0,n.body.scrollWidth-t.innerWidth):0,o?_t(o,0,n.body.scrollHeight-t.innerHeight):0)}),[n,t]),l=p.useCallback((()=>{a.current.forEach((e=>{e()}));const e=t.pageYOffset,o=t.pageXOffset,i=t.innerWidth>n.documentElement.clientWidth?"scroll":"",s=t.innerHeight>n.documentElement.clientHeight?"scroll":"";Object.assign(n.body.style,{position:"fixed",top:`-${e}px`,left:`-${o}px`,right:"0",overflowY:i,overflowX:s}),r(!0)}),[n,t]),c=p.useCallback((()=>{const e=n.body.style.top,o=n.body.style.left;Et(n.body),t.scrollTo(-parseInt(o||"0"),-parseInt(e||"0")),r(!1)}),[n,t]),u=p.useMemo((()=>({getScroll:i,scrollTo:s,isScrollLock:o,disableScrollLock:c,enableScrollLock:l,beforeScrollLockFnSetRef:a})),[i,s,o,c,l]);return p.createElement(St.Provider,{value:u},e)},Pt=({elRef:e,children:t})=>{const[n,o]=p.useState(!1),r=p.useRef(new Set),a=p.useCallback((()=>{var t,n,o,r;return{x:null!=(n=null==(t=e.current)?void 0:t.scrollLeft)?n:0,y:null!=(r=null==(o=e.current)?void 0:o.scrollTop)?r:0}}),[e]),i=p.useCallback(((t=0,n=0)=>{const o=e.current;null==o||o.scrollTo(t?_t(t,0,o.scrollWidth-o.clientWidth):0,n?_t(n,0,o.scrollHeight-o.clientHeight):0)}),[e]),s=p.useCallback((()=>{const t=e.current;if(!t)return;r.current.forEach((e=>{e()}));const n=t.scrollTop,a=t.scrollLeft,i=t.scrollWidth>t.clientWidth?"scroll":"",s=t.scrollHeight>t.clientHeight?"scroll":"";Object.assign(t.style,{position:"absolute",top:`-${n}px`,left:`-${a}px`,right:"0",overflowY:i,overflowX:s}),o(!0)}),[e]),l=p.useCallback((()=>{const t=e.current;if(!t)return;const n=t.style.top,r=t.style.left;Et(t),t.scrollTo(-parseInt(r||"0"),-parseInt(n||"0")),o(!1)}),[e]),c=p.useMemo((()=>({getScroll:a,scrollTo:i,isScrollLock:n,disableScrollLock:l,enableScrollLock:s,beforeScrollLockFnSetRef:r})),[a,i,n,l,s]);return p.createElement(St.Provider,{value:c},t)},Rt=(e=!0)=>{const{enableScrollLock:t,disableScrollLock:n}=kt();$e((()=>e?(t(),n):H),[t,n,e])},Lt="_AppRoot_anbkk_1",xt="_AppRoot--pointer-has-not_anbkk_5",Tt="_AppRoot--pointer-none_anbkk_25",Ct={none:"vkui--sizeX-none",[mt.REGULAR]:"vkui--sizeX-regular"},Ot="--vkui_internal--safe_area_inset_",Dt=e=>{var t=e,{children:n,mode:o="full",scroll:r="global",portalRoot:a=null,disablePortal:i,className:l}=t,u=c(t,["children","mode","scroll","portalRoot","disablePortal","className"]);const d=function(){const{document:e}=Be(),[t,n]=p.useState(!1),o=p.useCallback((()=>{n(!0)}),[]),r=p.useCallback((e=>{nt(e)===Qe.TAB&&o()}),[o]),a=p.useCallback((()=>{n(!1)}),[]),i={passive:!0,capture:!0};return rt(e,"keydown",r,i),rt(e,"mousedown",a,i),rt(e,"touchstart",a,i),rt(e,"enableKeyboardInput",o,i),rt(e,"disableKeyboardInput",a,i),t}(),h=p.useRef(null),[f,m]=p.useState(null),{document:v}=Be(),g=function(){const[e,t]=p.useState(qe);return $e((()=>{function e(e){const n=Je(e);n&&t(n)}return Ce.subscribe(e),()=>{Ce.unsubscribe(e)}}),[]),e}(),b=Ge(),{hasPointer:y,sizeX:w="none"}=te();$e((()=>{let e=null;return a&&(e=yt(a)?a.current:a),e||(e=v.createElement("div"),v.body.appendChild(e)),m(e),()=>{var t;a||null==(t=null==e?void 0:e.parentElement)||t.removeChild(e)}}),[a]),$e((()=>{var e;if("partial"===o)return H;const t=null==(e=h.current)?void 0:e.parentElement,n=["vkui__root"].concat("embedded"===o?"vkui__root--embedded":[]);return null==t||t.classList.add(...n),()=>{null==t||t.classList.remove(...n)}}),[]),$e((()=>{if("full"===o)return v.documentElement.classList.add("vkui"),()=>{v.documentElement.classList.remove("vkui")}}),[v,o]),$e((()=>{var e;if("partial"===o||!(null==(e=h.current)?void 0:e.parentElement))return H;const t=h.current.parentElement;let n;for(n in g)if(g.hasOwnProperty(n)&&"number"==typeof g[n]){const e=g[n];t.style.setProperty(Ot+n,`${e}px`),f&&f.style.setProperty(Ot+n,`${e}px`)}return()=>{let e;for(e in g)g.hasOwnProperty(e)&&(t.style.removeProperty(Ot+e),f&&f.style.removeProperty(Ot+e))}}),[g,f]),$e((()=>{var e;if("partial"===o)return H;const t=w!==mt.COMPACT?Ct[w]:null,n="embedded"===o?null==(e=h.current)?void 0:e.parentElement:v.body;return null!==t&&n?(n.classList.add(t),()=>{n.classList.remove(t)}):H}),[w]),$e((()=>"full"!==o||void 0===b?H:(v.documentElement.style.setProperty("color-scheme",b),()=>v.documentElement.style.removeProperty("color-scheme"))),[b]);const _=p.useMemo((()=>"contain"===r?Pt:Mt),[r]),E=p.createElement(wt.Provider,{value:{appRoot:h,portalRoot:f,embedded:"embedded"===o,keyboardInput:d,mode:o,disablePortal:i}},p.createElement(_,{elRef:h},p.createElement(O,{classPrefix:"vkui"},n)));return"partial"===o?E:p.createElement("div",s({ref:h,className:z(Lt,void 0===y?Tt:!y&&xt,l)},u),E)};function It(e=!1){const[t,n]=p.useState(e);return p.useEffect((()=>{n(!0)}),[]),t}function Bt(e=!0){const{hasPointer:t}=p.useContext(ee),n=void 0===t?Z:t;if(It(!e))return n}function Nt(e){let t="";return p.Children.map(e,(e=>{"string"==typeof e&&(t+=" "+e)})),t.trim()}function Wt(...e){const t=p.useRef(null);return p.useMemo((()=>({get current(){return t.current},set current(n){t.current=n,e.forEach((e=>{e&&function(e,t){t&&("function"==typeof t?t(e):t.current=e)}(n,e)}))}})),e)}function jt(){const{platform:e}=Xe();return e}function Kt(e,t){const n=p.useRef({cb:e,duration:t});$e((()=>{n.current.cb=e,n.current.duration=t}),[e,t]);const o=p.useRef(),r=p.useCallback((()=>{V&&(null==o?void 0:o.current)&&clearTimeout(o.current)}),[]),a=p.useCallback(((e=n.current.duration)=>{r(),V&&(o.current=setTimeout((()=>{const{cb:e}=n.current;"function"==typeof e&&e()}),e))}),[r]);return $e((()=>r),[]),{set:a,clear:r}}const Vt=(...e)=>(...t)=>e.filter((e=>"function"==typeof e)).forEach((e=>e(...t)));const zt=e=>null!=e.clientX?e.clientX:e.changedTouches&&e.changedTouches[0].clientX,Ht=e=>null!=e.clientY?e.clientY:e.changedTouches&&e.changedTouches[0].clientY,Ut=()=>V&&"ontouchstart"in window;function Ft(){return Ut()?["touchstart","touchmove","touchend","touchcancel"]:["mousedown","mousemove","mouseup","mouseleave"]}function Yt(e,t,n,o){if(o||e<0)return e;const r=e*n;return r*t/(r+t)}const Xt="_FocusVisible_1jomw_1",Gt="_FocusVisible--visible_1jomw_17",$t="_FocusVisible--thin_1jomw_31",qt="_FocusVisible--mode-inside_1jomw_35",Jt="_FocusVisible--mode-outline_1jomw_36",Zt="_FocusVisible--mode-outside_1jomw_51",Qt=e=>{var t=e,{visible:n,mode:o,thin:r}=t,a=c(t,["visible","mode","thin"]);return p.createElement("span",l(s({},a),{"aria-hidden":!0,className:z(Xt,n&&Gt,r&&$t,{inside:qt,outside:Zt,outline:Jt}[o])}))},en=e=>{var t=e,{onStart:n,onStartX:o,onStartY:r,onMove:a,onMoveX:i,onMoveY:u,onLeave:d,onEnter:h,onEnd:f,onEndX:m,onEndY:v,onClickCapture:g,usePointerHover:b,slideThreshold:y=5,useCapture:w=!1,Component:_="div",getRootRef:E,noSlideClick:A=!1,stopPropagation:S=!1}=t,k=c(t,["onStart","onStartX","onStartY","onMove","onMoveX","onMoveY","onLeave","onEnter","onEnd","onEndX","onEndY","onClickCapture","usePointerHover","slideThreshold","useCapture","Component","getRootRef","noSlideClick","stopPropagation"]);const{document:M}=Be(),P=p.useMemo(Ft,[]),R=p.useRef(!1),L=p.useRef(null),x=(e,t)=>{S&&e.stopPropagation(),t.forEach((t=>{var n,o,r;const a=Date.now()-(null!=(r=null==(o=null==(n=L.current)?void 0:n.startT)?void 0:o.getTime())?r:0);t&&t(l(s({},L.current),{duration:a,originalEvent:e}))}))},T=ot(b?"pointerenter":"mouseenter",h),C=ot(b?"pointerleave":"mouseleave",d),O=ot(P[0],(e=>{var t,a,i;L.current=(t=zt(e),a=Ht(e),{startX:t,startY:a,startT:new Date,duration:0,isPressed:!0,isY:!1,isX:!1,isSlideX:!1,isSlideY:!1,isSlide:!1,shiftX:0,shiftY:0,shiftXAbs:0,shiftYAbs:0}),x(e,[n,o,r]),(i=Ut()?e.target:M)&&N.forEach((e=>e.add(i)))}),{capture:w,passive:!1}),D=Wt(E);function I(e){var t;const{isPressed:n,isSlide:o,isSlideX:r,isSlideY:a}=null!=(t=L.current)?t:{};n&&x(e,[f,a&&v,r&&m]);const i=Ut();R.current=(!i||!o)&&Boolean(o),L.current={},i&&d&&d(e),N.forEach((e=>e.remove()))}$e((()=>{const e=D.current;e&&(T.add(e),C.add(e),O.add(e))}),[_]);const B={capture:w,passive:!1},N=[ot(P[1],(function(e){var t,n;const{isPressed:o,isX:r,isY:s,startX:l=0,startY:c=0}=null!=(t=L.current)?t:{};if(o){const t=zt(e)-l,o=Ht(e)-c,d=Math.abs(t),h=Math.abs(o);if(e.touches&&e.touches.length>1)return I(e);if(!r&&!s){const e=d>=y&&d>h,t=h>=y&&h>d,n=e&&(!!i||!!a),o=t&&(!!u||!!a);L.current&&Object.assign(L.current,{isY:t,isX:e,isSlideX:n,isSlideY:o,isSlide:n||o})}(null==(n=L.current)?void 0:n.isSlide)&&(Object.assign(L.current,{shiftX:t,shiftY:o,shiftXAbs:d,shiftYAbs:h}),x(e,[a,L.current.isSlideX&&i,L.current.isSlideY&&u]))}}),B),ot(P[2],I,B),ot(P[3],I,B)];return p.createElement(_,l(s({},k),{onDragStart:e=>{const t=e.target;"A"!==t.tagName&&"IMG"!==t.tagName||e.preventDefault()},onClickCapture:e=>{if(!R.current)return g&&g(e);A?(e.stopPropagation(),e.preventDefault()):g&&g(e),R.current=!1},ref:D}))};const tn=p.createContext(!1),nn="_Tappable_z5efg_1",on="_Tappable--hasHover_z5efg_27",rn="_Tappable--hasActive_z5efg_28",an="_Tappable--focus-visible_z5efg_39",sn="_Tappable__stateLayer_z5efg_47",ln="_Tappable--hover-background_z5efg_60",cn="_Tappable--hover-opacity_z5efg_64",un="_Tappable--active-background_z5efg_68",dn="_Tappable--active-opacity_z5efg_72",hn="_Tappable--ios_z5efg_80",pn="_Tappable__waves_z5efg_84",fn="_Tappable__wave_z5efg_84",mn={none:"_Tappable--sizeX-none_z5efg_121",compact:"_Tappable--sizeX-compact_z5efg_116"},vn=600,gn={all:bn=bn||new Map,on:function(e,t){var n=bn.get(e);n?n.push(t):bn.set(e,[t])},off:function(e,t){var n=bn.get(e);n&&(t?n.splice(n.indexOf(t)>>>0,1):bn.set(e,[]))},emit:function(e,t){var n=bn.get(e);n&&n.slice().map((function(e){e(t)})),(n=bn.get("*"))&&n.slice().map((function(n){n(e,t)}))}};var bn;const yn=0,wn=1,_n=2,En=3,An=p.createContext({onHoverChange:H});function Sn(e){switch(e){case"opacity":case"background":return!0;default:return!1}}const kn=e=>{var t=e,{children:n,Component:o,onClick:r,onKeyDown:a,activeEffectDelay:i=vn,stopPropagation:u=!1,getRootRef:d,hasHover:h=!0,hoverMode:f="background",hasActive:m=!0,activeMode:v="background",focusVisibleMode:g="inside",onEnter:b,onLeave:y,className:w,hovered:_}=t,E=c(t,["children","Component","onClick","onKeyDown","activeEffectDelay","stopPropagation","getRootRef","hasHover","hoverMode","hasActive","activeMode","focusVisibleMode","onEnter","onLeave","className","hovered"]);o=o||(E.href?"a":"div");const{onHoverChange:A}=p.useContext(An),S=p.useContext(tn),k=jt(),{focusVisible:M,onBlur:P,onFocus:R}=function(e=!0){const[t,n]=p.useState(!1),{keyboardInput:o}=p.useContext(wt);return{focusVisible:e?o&&t:t,onFocus:p.useCallback((e=>{e.stopPropagation(),n(!0)}),[n]),onBlur:p.useCallback((e=>{e.stopPropagation(),n(!1)}),[n])}}(),{sizeX:L="none"}=te(),x=Bt(),T=function(e=!0){const{hasHover:t}=p.useContext(ee),n=void 0===t?Q:t;if(It(!e))return n}(),[C,O]=p.useState([]),[D,I]=p.useState(!1),{value:B,setTrue:N,setFalse:W}=((e=!1)=>{const[t,n]=p.useState(e),o=p.useCallback((()=>{n(!0)}),[]),r=p.useCallback((()=>{n(!1)}),[]),a=p.useCallback((()=>{n(!t)}),[t]);return{value:t,setTrue:o,setFalse:r,toggle:a}})(!1),j=(B||_)&&!E.disabled,K=m&&!D&&!E.disabled,V=T&&h&&!D,U="a"!==o&&"button"!==o&&"label"!==o&&!E.contentEditable,F=Sn(f),Y=Sn(v),X=["inside","outside"].includes(g),[G,{start:$,stop:q,delayStart:J}]=function(e,t){const n=p.useMemo((()=>Math.round(1e8*Math.random()).toString(16)),[]),[o,r]=p.useState(yn),a=()=>r(yn),i=()=>e&&r(_n),s=Kt(i,70),l=Kt(a,t);return $e((()=>o===wn?(s.set(),s.clear):o===En?l.clear:(o===_n&&gn.emit("active",n),H)),[o]),$e((()=>{if(o===yn)return H;const e=e=>{e!==n&&a()};return gn.on("active",e),()=>gn.off("active",e)}),[o===yn]),$e((()=>{!e&&a()}),[e]),[o,{delayStart:()=>{e&&r(wn)},start:i,stop:e=>{if(e)return r(En),l.set(e);a()}}]}(K,i),Z=G===_n||G===En,ne=Wt(d),oe=p.useRef({onHoverChange:I}).current;$e((()=>j?(A(!0),()=>A(!1)):H),[j]);const re=k===je.ANDROID&&!x&&K&&"background"===v,ae=Kt((()=>O([])),225);const ie=z(w,nn,"vkuiInternalTappable",k===je.IOS&&hn,L!==mt.REGULAR&&mn[L],V&&on,K&&rn,V&&j&&!F&&f,K&&Z&&!Y&&v,M&&!X&&g,V&&j&&F&&{background:ln,opacity:cn}[f],K&&Z&&Y&&{background:un,opacity:dn}[v],M&&an),se={onStart:Vt((function({originalEvent:e}){if(K){if(e.touches&&e.touches.length>1)return q();if(re){const{top:t,left:n}=function(e){const t=null==e?void 0:e.getBoundingClientRect();return{top:null==t?void 0:t.top,left:null==t?void 0:t.left,width:null==e?void 0:e.offsetWidth,height:null==e?void 0:e.offsetHeight}}(ne.current);!function(e,t){const n=Date.now(),o=C.filter((e=>e.id+225>n));O([...o,{x:e,y:t,id:n}]),ae.set()}(zt(e)-(null!=n?n:0),Ht(e)-(null!=t?t:0))}J()}}),E.onStart),onMove:Vt((function({isSlide:e}){e&&q()}),E.onMove),onEnd:Vt((function({duration:e}){if(G===yn)return;G===wn&&$();const t=e-70;q(t>=100?0:i-t)}),E.onEnd),onClick:r,onKeyDown:Vt((function(e){var t;U&&function(e){const t=e.target,{tagName:n}=t,o=t.getAttribute("role"),r=!0!==t.isContentEditable&&"INPUT"!==n&&"TEXTAREA"!==n&&("button"===o||"link"===o),a="A"===n&&t.hasAttribute("href"),i=nt(e);return r&&(i===Qe.SPACE&&"button"===o||i===Qe.ENTER&&!a)}(e)&&(e.preventDefault(),null==(t=ne.current)||t.click())}),a)},le=E.href?"link":"button";return p.createElement(en,s(l(s({onEnter:Vt(N,b),onLeave:Vt(W,y),type:"button"===o?"button":void 0,tabIndex:U&&!E.disabled?0:void 0,role:U?le:void 0,"aria-disabled":U?E.disabled:void 0,stopPropagation:u&&!S&&!E.disabled},E),{slideThreshold:20,usePointerHover:!0,className:ie,Component:o,getRootRef:ne,onBlur:Vt(P,E.onBlur),onFocus:Vt(R,E.onFocus)}),E.disabled?{}:se),p.createElement(An.Provider,{value:oe},n),re&&p.createElement("span",{"aria-hidden":!0,className:pn},C.map((e=>p.createElement("span",{key:e.id,className:fn,style:{top:e.y,left:e.x}})))),(V&&"background"===f||K&&"background"===v)&&p.createElement("span",{"aria-hidden":!0,className:sn}),!E.disabled&&X&&p.createElement(Qt,{visible:M,mode:g}))},Mn="_VisuallyHidden_ev6tg_2",Pn=e=>{var t=e,{Component:n="span",getRootRef:o,className:r}=t,a=c(t,["Component","getRootRef","className"]);return p.createElement(n,l(s({},a),{className:z(Mn,r),ref:o}))},Rn="_Spinner_1gw8b_1",Ln=p.memo((e=>{var t=e,{size:n="regular",children:o="Загружается...","aria-label":r="Загружается...",disableAnimation:a,className:i}=t,u=c(t,["size","children","aria-label","disableAnimation","className"]);const d={small:D,regular:B,medium:j,large:K}[n],h={small:8,regular:12,medium:16,large:22}[n];return p.createElement("span",l(s({role:"status"},u),{className:z(Rn,i)}),p.createElement(d,null,!a&&p.createElement("animateTransform",{attributeName:"transform",attributeType:"XML",type:"rotate",from:`0 ${h} ${h}`,to:`360 ${h} ${h}`,dur:"0.7s",repeatCount:"indefinite"})),p.createElement(Pn,null,null!=o?o:r))}));Ln.displayName="Spinner";const xn="_Button_11ng5_1",Tn="_Button--loading_11ng5_20",Cn="_Button--singleIcon_11ng5_24",On="_Button--sizeY-regular_11ng5_29",Dn="_Button--stretched_11ng5_39",In="_Button__in_11ng5_46",Bn="_Button--align-left_11ng5_57",Nn="_Button--align-center_11ng5_62",Wn="_Button--align-right_11ng5_65",jn="_Button--mode-primary_11ng5_74",Kn="_Button--appearance-overlay_11ng5_74",Vn="_Button--appearance-negative_11ng5_75",zn="_Button--appearance-positive_11ng5_76",Hn="_Button--mode-secondary_11ng5_77",Un="_Button--mode-tertiary_11ng5_78",Fn="_Button--mode-outline_11ng5_79",Yn="_Button--with-icon_11ng5_83",Xn="_Button__content_11ng5_86",Gn="_Button--size-s_11ng5_93",$n="_Button__after_11ng5_98",qn="_Button--size-m_11ng5_102",Jn="_Button--size-l_11ng5_111",Zn="_Button__before_11ng5_120",Qn="_Button--mode-link_11ng5_181",eo="_Button__spinner_11ng5_194",to="_Button--appearance-accent_11ng5_211",no="_Button--hover_11ng5_215",oo="_Button--active_11ng5_219",ro="_Button--appearance-neutral_11ng5_247",ao="_Button--appearance-accent-invariable_11ng5_259",io="_Button--ios_11ng5_533",so={none:"_Button--sizeY-none_11ng5_34",[mt.REGULAR]:On},lo=e=>{var t=e,{size:n="s",mode:o="primary",appearance:r="accent",stretched:a=!1,align:i="center",children:u,before:d,after:h,getRootRef:f,loading:m,onClick:v,stopPropagation:g=!0,className:b,disableSpinnerAnimation:y}=t,w=c(t,["size","mode","appearance","stretched","align","children","before","after","getRootRef","loading","onClick","stopPropagation","className","disableSpinnerAnimation"]);const _=Boolean(d||h),E=!u&&Boolean(h)!==Boolean(d),{sizeY:A="none"}=te(),S=jt();return p.createElement(kn,l(s({hoverMode:no,activeMode:oo,Component:w.href?"a":"button",focusVisibleMode:"outside"},w),{onClick:m?void 0:v,stopPropagation:g,className:z(b,xn,{s:Gn,m:qn,l:Jn}[n],{primary:jn,secondary:Hn,tertiary:Un,outline:Fn,link:Qn}[o],{accent:to,positive:zn,negative:Vn,neutral:ro,overlay:Kn,"accent-invariable":ao}[r],{left:Bn,center:Nn,right:Wn}[i],A!==mt.COMPACT&&so[A],S===je.IOS&&io,a&&Dn,_&&Yn,E&&!a&&Cn,m&&Tn),getRootRef:f}),m&&p.createElement(Ln,{size:"small",className:eo,disableAnimation:y}),p.createElement("span",{className:In},F(d)&&p.createElement("span",{className:Zn,role:"presentation","data-testid":void 0},d),F(u)&&p.createElement("span",{className:Xn,"data-testid":void 0},u),F(h)&&p.createElement("span",{className:$n,role:"presentation","data-testid":void 0},h)))};function co(e){const t=p.useRef(e);var n,o;return n=t.current,o=e,Object.keys(n).length===Object.keys(o).length&&Object.keys(n).every((e=>n[e]===o[e]))||(t.current=e),t.current}function uo(e,t){e.addEventListener?e.addEventListener("change",t):e.addListener(t)}function ho(e,t){e.removeEventListener?e.removeEventListener("change",t):e.removeListener(t)}const po=(e,t)=>{let n;switch(e){case je.ANDROID:n="vkBase";break;case je.IOS:n="vkIOS";break;case je.VKCOM:n="vkCom";break;default:n=e}return`vkui--${n}--${t}`},fo=({children:e,platform:t,appearance:n})=>p.createElement(p.Fragment,null,p.Children.map(e,(e=>p.isValidElement(e)?p.cloneElement(e,{className:z(e.props.className,po(t,n))}):e)));function mo(e){var t=e,{children:n}=t,o=c(t,["children"]);const r=Xe(),a=co(s(s({},r),o));return f.createElement(Fe.Provider,{value:a},n)}const vo=({appearance:e,children:t})=>{const n=jt();return p.createElement(mo,{appearance:e},p.createElement(fo,{platform:n,appearance:e},t))},go="_PopoutWrapper_1fokw_1",bo="_PopoutWrapper--opened_1fokw_10",yo="_PopoutWrapper--closing_1fokw_14",wo="_PopoutWrapper--fixed_1fokw_18",_o="_PopoutWrapper__overlay_1fokw_22",Eo="_vkui-animation-full-fade-in_1fokw_1",Ao="_PopoutWrapper--masked_1fokw_37",So="_PopoutWrapper__container_1fokw_45",ko="_PopoutWrapper__content_1fokw_53",Mo="_PopoutWrapper--alignY-center_1fokw_65",Po="_PopoutWrapper--alignY-bottom_1fokw_69",Ro="_PopoutWrapper--alignY-top_1fokw_73",Lo="_PopoutWrapper--alignX-center_1fokw_77",xo="_PopoutWrapper--alignX-left_1fokw_81",To="_PopoutWrapper--alignX-right_1fokw_85",Co=e=>{var t=e,{alignY:n="center",alignX:o="center",closing:r=!1,hasMask:a=!0,fixed:i=!0,children:u,onClick:d,className:h}=t,f=c(t,["alignY","alignX","closing","hasMask","fixed","children","onClick","className"]);const m=jt(),[v,g]=p.useState(!a),b=p.useRef(null),y=e=>{e&&e.animationName!==Eo||g(!0)},w=Kt(y,m===je.IOS?300:200);p.useEffect((()=>{!v&&w.set()}),[w,v]);const{window:_}=Be();return rt(_,"touchmove",(e=>e.preventDefault()),{passive:!1}),p.createElement("div",l(s({},f),{className:z(go,{center:Mo,top:Ro,bottom:Po}[n],{center:Lo,left:xo,right:To}[o],r&&yo,v&&bo,i&&wo,a&&Ao,h),onAnimationEnd:v?void 0:y,ref:b}),p.createElement("div",{className:So},p.createElement("div",{className:_o,onClick:d}),p.createElement("div",{className:ko},u)))},Oo=e=>p.createElement("svg",s({className:"vkuiIcon",width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M40 24c0 8.837-7.163 16-16 16S8 32.837 8 24 15.163 8 24 8s16 7.163 16 16Zm-10.08-4.33a1.125 1.125 0 0 0-1.59-1.59L24 22.409l-4.33-4.33a1.125 1.125 0 0 0-1.59 0l-.101.116a1.125 1.125 0 0 0 .1 1.476L22.41 24l-4.33 4.33a1.125 1.125 0 0 0 1.591 1.59L24 25.591l4.33 4.33c.439.439 1.151.439 1.59 0l.101-.116a1.125 1.125 0 0 0-.1-1.476L25.59 24l4.33-4.33Z",fill:"currentColor"})),Do=e=>p.createElement("svg",s({className:"vkuiIcon",width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),p.createElement("path",{d:"M9 24L19 34L39 14",stroke:"currentColor",strokeWidth:"3.5",strokeLinecap:"round",strokeLinejoin:"round"})),Io="_ScreenSpinner_ng52u_1",Bo="_ScreenSpinner--clickable_ng52u_5",No="_ScreenSpinner__spinner_ng52u_9",Wo="_ScreenSpinner__spinner--hidden_ng52u_14",jo="_ScreenSpinner__container_ng52u_18",Ko="_ScreenSpinner__icon_ng52u_28",Vo="_ScreenSpinner__icon--state-done_ng52u_42",zo=e=>{var t=e,{style:n,className:o,state:r="loading",size:a="large","aria-label":i="Пожалуйста, подождите...",onClick:l}=t,u=c(t,["style","className","state","size","aria-label","onClick"]);const d="done"===r||"error"===r,h={loading:()=>null,cancelable:I,done:Do,error:Oo}[r];return Rt(),p.createElement(Co,{hasMask:!1,className:z(Io,"cancelable"===r&&Bo,o),style:n},p.createElement("div",{className:jo,onClick:l},p.createElement(Ln,s({className:z(No,d&&Wo),size:a,"aria-label":i},u)),p.createElement("div",{className:z(Ko,"done"===r&&Vo)},p.createElement(h,null))))},Ho="_IconButton_123f3_1",Uo="_IconButton--sizeY-compact_123f3_22",Fo="_IconButton--ios_123f3_30",Yo={none:"_IconButton--sizeY-none_123f3_64",[mt.COMPACT]:Uo},Xo=e=>{var t=e,{children:n,className:o}=t,r=c(t,["children","className"]);const a=jt(),{sizeY:i="none"}=te();return p.createElement(kn,l(s({activeEffectDelay:200,activeMode:"background",Component:r.href?"a":"button"},r),{className:z(Ho,i!==mt.REGULAR&&Yo[i],a===je.IOS&&Fo,o)}),n)},Go="_Link_m9wqe_1",$o="_Link--focus-visible_m9wqe_24",qo="_Link--has-visited_m9wqe_35",Jo=e=>{var t=e,{hasVisited:n,children:o,className:r}=t,a=c(t,["hasVisited","children","className"]);return p.createElement(kn,l(s({Component:a.href?"a":"button"},a),{className:z(Go,n&&qo,r),hasHover:!1,activeMode:"opacity",focusVisibleMode:$o}),o)};let Zo={type:"",viewportWidth:0,viewportHeight:0};function Qo(e){const{type:t,data:n}=e.detail;if("VKWebAppUpdateConfig"!==t||!n)return null;const{adaptivity:o,viewport_width:r,viewport_height:a}=n,i={type:"",viewportWidth:isFinite(r)?+r:0,viewportHeight:isFinite(a)?+a:0};switch(o){case"force_mobile":case"force_mobile_compact":case"adaptive":i.type=o}return i}Ce.subscribe((e=>{const t=Qo(e);t&&(Zo=t)}));const er=({viewWidth:e,viewHeight:t,sizeX:n,sizeY:o,hasPointer:r,hasHover:a,children:i})=>{const s=function(){const[e,t]=p.useState(Zo);return $e((()=>{function e(e){const n=Qo(e);n&&t(n)}return Ce.subscribe(e),()=>{Ce.unsubscribe(e)}}),[]),e}(),l=p.useMemo((()=>function({viewWidth:e,viewHeight:t,sizeX:n,sizeY:o,hasPointer:r,hasHover:a},i){if("adaptive"===i.type){const{viewportWidth:r,viewportHeight:a}=i;e=r>=gt.BREAKPOINTS.DESKTOP?dt.DESKTOP:r>=gt.BREAKPOINTS.TABLET?dt.TABLET:r>=gt.BREAKPOINTS.SMALL_TABLET?dt.SMALL_TABLET:r>=gt.BREAKPOINTS.MOBILE?dt.MOBILE:dt.SMALL_MOBILE,t=a>=gt.BREAKPOINTS.MEDIUM_HEIGHT?pt.MEDIUM:a>=gt.BREAKPOINTS.MOBILE_LANDSCAPE_HEIGHT?pt.SMALL:pt.EXTRA_SMALL,n=e<=dt.MOBILE?mt.COMPACT:mt.REGULAR,o=e>=dt.SMALL_TABLET&&Z||t<=pt.EXTRA_SMALL?mt.COMPACT:mt.REGULAR}else"force_mobile"===i.type||"force_mobile_compact"===i.type?(e=dt.MOBILE,n=mt.COMPACT,o="force_mobile_compact"===i.type?mt.COMPACT:mt.REGULAR):(void 0===n&&void 0!==e&&(n=e<=dt.MOBILE?mt.COMPACT:mt.REGULAR),void 0===o&&void 0!==e&&void 0!==t&&(o=e>=dt.SMALL_TABLET&&Z||t<=pt.EXTRA_SMALL?mt.COMPACT:mt.REGULAR));return{viewWidth:e,viewHeight:t,sizeX:n,sizeY:o,hasPointer:r,hasHover:a}}({viewWidth:e,viewHeight:t,sizeX:n,sizeY:o,hasPointer:r,hasHover:a},s)),[e,t,n,o,r,a,s]);return p.createElement(ee.Provider,{value:l},i)};const tr="_Div_1vqs2_1",nr=e=>{var t=e,{children:n,getRootRef:o,className:r}=t,a=c(t,["children","getRootRef","className"]);return p.createElement("div",l(s({},a),{ref:o,className:z(tr,r)}),n)},or=p.memo((e=>{var t=e,{height:n=96,style:o}=t,r=c(t,["height","style"]);return p.createElement(Ln,l(s({size:"regular"},r),{style:s({height:n},o)}))}));var rr,ar,ir,sr;or.displayName="PanelSpinner",(ar=rr||(rr={})).BRIGHT_LIGHT="bright_light",ar.SPACE_GRAY="space_gray",ar.VKCOM_LIGHT="vkcom_light",ar.VKCOM_DARK="vkcom_dark",(sr=ir||(ir={})).DARK="dark",sr.LIGHT="light";const lr=e=>e===rr.SPACE_GRAY||e===rr.VKCOM_DARK?"dark":"light";function cr(e,t){function n(n){const o=function(e){const{scheme:t,appearance:n}=e;return n||lr(t)}(n);o&&(t(),e(o))}function o(e){const{type:t,data:o}=e.detail;"VKWebAppUpdateConfig"===t&&n(o)}return Ce.subscribe(o),Ce.send("VKWebAppGetConfig").then(n).catch(console.error),()=>Ce.unsubscribe(o)}const ur=(e,t)=>{const{window:n}=Be(),o=p.useRef((()=>{t&&t(),o.current=H})),[r,a]=p.useState((()=>{if(e)return e;const t=n&&n.matchMedia&&n.matchMedia("(prefers-color-scheme: dark)");return(null==t?void 0:t.matches)?"dark":"light"}));return p.useEffect((()=>e?(a(e),H):Ce.isEmbedded()?cr(a,o.current):function(e,t){const n=e&&e.matchMedia&&e.matchMedia("(prefers-color-scheme: dark)");if(void 0===n)return H;const o=e=>{t(e.matches?"dark":"light")};return o(n),uo(n,o),()=>ho(n,o)}(n,a)),[n,e]),r},dr=e=>{const t=Xe(),{children:n,webviewType:o,isWebView:r,transitionMotionEnabled:a,platform:i,locale:l,appearance:c,onDetectAppearanceByBridge:u=H}=s(s({},t),e),d=ur(c,u),{document:h}=Be();$e((()=>{const e=po(i,d);return h.body.classList.add(e),()=>{h.body.classList.remove(e)}}),[i,d]);const f=co({webviewType:o,isWebView:r,transitionMotionEnabled:a,platform:i,locale:l,appearance:d});return p.createElement(Fe.Provider,{value:f},p.createElement(fo,{platform:i,appearance:d},n))};
/**
 * @remix-run/router v1.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
function hr(){return hr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},hr.apply(this,arguments)}var pr,fr;(fr=pr||(pr={})).Pop="POP",fr.Push="PUSH",fr.Replace="REPLACE";const mr="popstate";function vr(e){return void 0===e&&(e={}),function(e,t,n,o){void 0===o&&(o={});let{window:r=document.defaultView,v5Compat:a=!1}=o,i=r.history,s=pr.Pop,l=null,c=u();null==c&&(c=0,i.replaceState(hr({},i.state,{idx:c}),""));function u(){return(i.state||{idx:null}).idx}function d(){s=pr.Pop;let e=u(),t=null==e?null:e-c;c=e,l&&l({action:s,location:m.location,delta:t})}function h(e,t){s=pr.Push;let o=wr(m.location,e,t);n&&n(o,e),c=u()+1;let d=yr(o,c),h=m.createHref(o);try{i.pushState(d,"",h)}catch(e){if(e instanceof DOMException&&"DataCloneError"===e.name)throw e;r.location.assign(h)}a&&l&&l({action:s,location:m.location,delta:1})}function p(e,t){s=pr.Replace;let o=wr(m.location,e,t);n&&n(o,e),c=u();let r=yr(o,c),d=m.createHref(o);i.replaceState(r,"",d),a&&l&&l({action:s,location:m.location,delta:0})}function f(e){let t="null"!==r.location.origin?r.location.origin:r.location.href,n="string"==typeof e?e:_r(e);return gr(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}let m={get action(){return s},get location(){return e(r,i)},listen(e){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(mr,d),l=e,()=>{r.removeEventListener(mr,d),l=null}},createHref:e=>t(r,e),createURL:f,encodeLocation(e){let t=f(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:h,replace:p,go:e=>i.go(e)};return m}((function(e,t){let{pathname:n="/",search:o="",hash:r=""}=Er(e.location.hash.substr(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),wr("",{pathname:n,search:o,hash:r},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){let n=e.document.querySelector("base"),o="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");o=-1===n?t:t.slice(0,n)}return o+"#"+("string"==typeof t?t:_r(t))}),(function(e,t){br("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),e)}function gr(e,t){if(!1===e||null==e)throw new Error(t)}function br(e,t){if(!e)try{throw new Error(t)}catch(e){}}function yr(e,t){return{usr:e.state,key:e.key,idx:t}}function wr(e,t,n,o){return void 0===n&&(n=null),hr({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof t?Er(t):t,{state:n,key:t&&t.key||o||Math.random().toString(36).substr(2,8)})}function _r(e){let{pathname:t="/",search:n="",hash:o=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),o&&"#"!==o&&(t+="#"===o.charAt(0)?o:"#"+o),t}function Er(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let o=e.indexOf("?");o>=0&&(t.search=e.substr(o),e=e.substr(0,o)),e&&(t.pathname=e)}return t}var Ar,Sr;(Sr=Ar||(Ar={})).data="data",Sr.deferred="deferred",Sr.redirect="redirect",Sr.error="error";const kr=new Set(["lazy","caseSensitive","path","id","index","children"]);function Mr(e,t,n,o){return void 0===n&&(n=[]),void 0===o&&(o={}),e.map(((e,r)=>{let a=[...n,r],i="string"==typeof e.id?e.id:a.join("-");if(gr(!0!==e.index||!e.children,"Cannot specify children on an index route"),gr(!o[i],'Found a route id collision on id "'+i+"\".  Route id's must be globally unique within Data Router usages"),function(e){return!0===e.index}(e)){let n=hr({},e,t(e),{id:i});return o[i]=n,n}{let n=hr({},e,t(e),{id:i,children:void 0});return o[i]=n,e.children&&(n.children=Mr(e.children,t,a,o)),n}}))}function Pr(e,t,n){void 0===n&&(n="/");let o=Vr(("string"==typeof t?Er(t):t).pathname||"/",n);if(null==o)return null;let r=Rr(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(r);let a=null;for(let e=0;null==a&&e<r.length;++e)a=Wr(r[e],Kr(o));return a}function Rr(e,t,n,o){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===o&&(o="");let r=(e,r,a)=>{let i={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:r,route:e};i.relativePath.startsWith("/")&&(gr(i.relativePath.startsWith(o),'Absolute route path "'+i.relativePath+'" nested under path "'+o+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),i.relativePath=i.relativePath.slice(o.length));let s=Fr([o,i.relativePath]),l=n.concat(i);e.children&&e.children.length>0&&(gr(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),Rr(e.children,t,l,s)),(null!=e.path||e.index)&&t.push({path:s,score:Nr(s,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let n of Lr(e.path))r(e,t,n);else r(e,t)})),t}function Lr(e){let t=e.split("/");if(0===t.length)return[];let[n,...o]=t,r=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===o.length)return r?[a,""]:[a];let i=Lr(o.join("/")),s=[];return s.push(...i.map((e=>""===e?a:[a,e].join("/")))),r&&s.push(...i),s.map((t=>e.startsWith("/")&&""===t?"/":t))}const xr=/^:\w+$/,Tr=3,Cr=2,Or=1,Dr=10,Ir=-2,Br=e=>"*"===e;function Nr(e,t){let n=e.split("/"),o=n.length;return n.some(Br)&&(o+=Ir),t&&(o+=Cr),n.filter((e=>!Br(e))).reduce(((e,t)=>e+(xr.test(t)?Tr:""===t?Or:Dr)),o)}function Wr(e,t){let{routesMeta:n}=e,o={},r="/",a=[];for(let e=0;e<n.length;++e){let i=n[e],s=e===n.length-1,l="/"===r?t:t.slice(r.length)||"/",c=jr({path:i.relativePath,caseSensitive:i.caseSensitive,end:s},l);if(!c)return null;Object.assign(o,c.params);let u=i.route;a.push({params:o,pathname:Fr([r,c.pathname]),pathnameBase:Yr(Fr([r,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(r=Fr([r,c.pathnameBase]))}return a}function jr(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,o]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);br("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let o=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,((e,t)=>(o.push(t),"/([^\\/]+)")));e.endsWith("*")?(o.push("*"),r+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":""!==e&&"/"!==e&&(r+="(?:(?=\\/|$))");let a=new RegExp(r,t?void 0:"i");return[a,o]}(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let a=r[0],i=a.replace(/(.)\/+$/,"$1"),s=r.slice(1);return{params:o.reduce(((e,t,n)=>{if("*"===t){let e=s[n]||"";i=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return br(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(s[n]||"",t),e}),{}),pathname:a,pathnameBase:i,pattern:e}}function Kr(e){try{return decodeURI(e)}catch(t){return br(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function Vr(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,o=e.charAt(n);return o&&"/"!==o?null:e.slice(n)||"/"}function zr(e,t,n,o){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(o)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function Hr(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function Ur(e,t,n,o){let r;void 0===o&&(o=!1),"string"==typeof e?r=Er(e):(r=hr({},e),gr(!r.pathname||!r.pathname.includes("?"),zr("?","pathname","search",r)),gr(!r.pathname||!r.pathname.includes("#"),zr("#","pathname","hash",r)),gr(!r.search||!r.search.includes("#"),zr("#","search","hash",r)));let a,i=""===e||""===r.pathname,s=i?"/":r.pathname;if(o||null==s)a=n;else{let e=t.length-1;if(s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}a=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:o="",hash:r=""}="string"==typeof e?Er(e):e,a=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:a,search:Xr(o),hash:Gr(r)}}(r,a),c=s&&"/"!==s&&s.endsWith("/"),u=(i||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}const Fr=e=>e.join("/").replace(/\/\/+/g,"/"),Yr=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Xr=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Gr=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";class $r{constructor(e,t,n,o){void 0===o&&(o=!1),this.status=e,this.statusText=t||"",this.internal=o,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}const qr=["post","put","patch","delete"],Jr=new Set(qr),Zr=["get",...qr],Qr=new Set(Zr),ea=new Set([301,302,303,307,308]),ta=new Set([307,308]),na={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},oa={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ra={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},aa=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ia=e=>({hasErrorBoundary:Boolean(e.hasErrorBoundary)});function sa(e){const t=e.window?e.window:"undefined"!=typeof window?window:void 0,n=void 0!==t&&void 0!==t.document&&void 0!==t.document.createElement,o=!n;let r;if(gr(e.routes.length>0,"You must provide a non-empty routes array to createRouter"),e.mapRouteProperties)r=e.mapRouteProperties;else if(e.detectErrorBoundary){let t=e.detectErrorBoundary;r=e=>({hasErrorBoundary:t(e)})}else r=ia;let a,i={},s=Mr(e.routes,r,void 0,i),l=e.basename||"/",c=hr({v7_normalizeFormMethod:!1,v7_prependBasename:!1},e.future),d=null,h=new Set,p=null,f=null,m=null,v=null!=e.hydrationData,g=Pr(s,e.history.location,l),b=null;if(null==g){let t=Ea(404,{pathname:e.history.location.pathname}),{matches:n,route:o}=_a(s);g=n,b={[o.id]:t}}let y,w,_=!(g.some((e=>e.route.lazy))||g.some((e=>e.route.loader))&&null==e.hydrationData),E={historyAction:e.history.action,location:e.history.location,matches:g,initialized:_,navigation:na,restoreScrollPosition:null==e.hydrationData&&null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||b,fetchers:new Map,blockers:new Map},A=pr.Pop,S=!1,k=!1,M=!1,P=[],R=[],L=new Map,x=0,T=-1,C=new Map,O=new Set,D=new Map,I=new Map,B=new Map,N=!1;function W(e){E=hr({},E,e),h.forEach((e=>e(E)))}function j(t,n){var o,r;let i,l=null!=E.actionData&&null!=E.navigation.formMethod&&Ra(E.navigation.formMethod)&&"loading"===E.navigation.state&&!0!==(null==(o=t.state)?void 0:o._isRedirect);i=n.actionData?Object.keys(n.actionData).length>0?n.actionData:null:l?E.actionData:null;let c=n.loaderData?ya(E.loaderData,n.loaderData,n.matches||[],n.errors):E.loaderData,u=E.blockers;u.size>0&&(u=new Map(u),u.forEach(((e,t)=>u.set(t,ra))));let d=!0===S||null!=E.navigation.formMethod&&Ra(E.navigation.formMethod)&&!0!==(null==(r=t.state)?void 0:r._isRedirect);a&&(s=a,a=void 0),k||A===pr.Pop||(A===pr.Push?e.history.push(t,t.state):A===pr.Replace&&e.history.replace(t,t.state)),W(hr({},n,{actionData:i,loaderData:c,historyAction:A,location:t,initialized:!0,navigation:na,revalidation:"idle",restoreScrollPosition:ne(t,n.matches||E.matches),preventScrollReset:d,blockers:u})),A=pr.Pop,S=!1,k=!1,M=!1,P=[],R=[]}function K(t,n,o){return u(this,null,(function*(){w&&w.abort(),w=null,A=t,k=!0===(o&&o.startUninterruptedRevalidation),function(e,t){if(p&&m){let n=te(e,t);p[n]=m()}}(E.location,E.matches),S=!0===(o&&o.preventScrollReset);let c=a||s,d=o&&o.overrideNavigation,h=Pr(c,n,l);if(!h){let e=Ea(404,{pathname:n.pathname}),{matches:t,route:o}=_a(c);return ee(),void j(n,{matches:t,loaderData:{},errors:{[o.id]:e}})}if(E.initialized&&!M&&function(e,t){if(e.pathname!==t.pathname||e.search!==t.search)return!1;if(""===e.hash)return""!==t.hash;if(e.hash===t.hash)return!0;if(""!==t.hash)return!0;return!1}(E.location,n)&&!(o&&o.submission&&Ra(o.submission.formMethod)))return void j(n,{matches:h});w=new AbortController;let f,v,g=ma(e.history,n,w.signal,o&&o.submission);if(o&&o.pendingError)v={[wa(h).route.id]:o.pendingError};else if(o&&o.submission&&Ra(o.submission.formMethod)){let e=yield function(e,t,n,o,a){return u(this,null,(function*(){void 0===a&&(a={}),U();let s,c=function(e,t){let n={state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text};return n}(t,n);W({navigation:c});let u=Ca(o,t);if(u.route.action||u.route.lazy){if(s=yield fa("action",e,u,o,i,r,l),e.signal.aborted)return{shortCircuited:!0}}else s={type:Ar.error,error:Ea(405,{method:e.method,pathname:t.pathname,routeId:u.route.id})};if(Pa(s)){let e;return e=a&&null!=a.replace?a.replace:s.location===E.location.pathname+E.location.search,yield z(E,s,{submission:n,replace:e}),{shortCircuited:!0}}if(Ma(s)){let e=wa(o,u.route.id);return!0!==(a&&a.replace)&&(A=pr.Push),{pendingActionData:{},pendingActionError:{[e.route.id]:s.error}}}if(ka(s))throw Ea(400,{type:"defer-action"});return{pendingActionData:{[u.route.id]:s.data}}}))}(g,n,o.submission,h,{replace:o.replace});if(e.shortCircuited)return;f=e.pendingActionData,v=e.pendingActionError,d=Da(n,o.submission),g=new Request(g.url,{signal:g.signal})}let{shortCircuited:b,loaderData:y,errors:_}=yield function(t,n,o,r,i,c,d,h,p){return u(this,null,(function*(){let u=r||Da(n,i),f=i||c||Oa(u),m=a||s,[v,g]=ua(e.history,E,o,f,n,M,P,R,D,O,m,l,h,p);if(ee((e=>!(o&&o.some((t=>t.route.id===e)))||v&&v.some((t=>t.route.id===e)))),T=++x,0===v.length&&0===g.length){let e=$();return j(n,hr({matches:o,loaderData:{},errors:p||null},h?{actionData:h}:{},e?{fetchers:new Map(E.fetchers)}:{})),{shortCircuited:!0}}if(!k){g.forEach((e=>{let t=E.fetchers.get(e.key),n=Ia(void 0,t?t.data:void 0);E.fetchers.set(e.key,n)}));let e=h||E.actionData;W(hr({navigation:u},e?0===Object.keys(e).length?{actionData:null}:{actionData:e}:{},g.length>0?{fetchers:new Map(E.fetchers)}:{}))}g.forEach((e=>{L.has(e.key)&&X(e.key),e.controller&&L.set(e.key,e.controller)}));let b=()=>g.forEach((e=>X(e.key)));w&&w.signal.addEventListener("abort",b);let{results:y,loaderResults:_,fetcherResults:A}=yield H(E.matches,o,v,g,t);if(t.signal.aborted)return{shortCircuited:!0};w&&w.signal.removeEventListener("abort",b),g.forEach((e=>L.delete(e.key)));let S=Aa(y);if(S){if(S.idx>=v.length){let e=g[S.idx-v.length].key;O.add(e)}return yield z(E,S.result,{replace:d}),{shortCircuited:!0}}let{loaderData:C,errors:B}=ba(E,o,v,_,p,g,A,I);I.forEach(((e,t)=>{e.subscribe((n=>{(n||e.done)&&I.delete(t)}))}));let N=$(),K=q(T);return hr({loaderData:C,errors:B},N||K||g.length>0?{fetchers:new Map(E.fetchers)}:{})}))}(g,n,h,d,o&&o.submission,o&&o.fetcherSubmission,o&&o.replace,f,v);b||(w=null,j(n,hr({matches:h},f?{actionData:f}:{},{loaderData:y,errors:_})))}))}function V(e){return E.fetchers.get(e)||oa}function z(o,r,a){return u(this,null,(function*(){let{submission:i,replace:s,isFetchActionRedirect:c}=void 0===a?{}:a;r.revalidate&&(M=!0);let u=wr(o.location,r.location,hr({_isRedirect:!0},c?{_isFetchActionRedirect:!0}:{}));if(gr(u,"Expected a location on the redirect navigation"),n){let n=!1;if(r.reloadDocument)n=!0;else if(aa.test(r.location)){const o=e.history.createURL(r.location);n=o.origin!==t.location.origin||null==Vr(o.pathname,l)}if(n)return void(s?t.location.replace(r.location):t.location.assign(r.location))}w=null;let d=!0===s?pr.Replace:pr.Push,h=i||Oa(o.navigation);if(ta.has(r.status)&&h&&Ra(h.formMethod))yield K(d,u,{submission:hr({},h,{formAction:r.location}),preventScrollReset:S});else if(c)yield K(d,u,{overrideNavigation:Da(u),fetcherSubmission:h,preventScrollReset:S});else{let e=Da(u,h);yield K(d,u,{overrideNavigation:e,preventScrollReset:S})}}))}function H(t,n,o,a,s){return u(this,null,(function*(){let c=yield Promise.all([...o.map((e=>fa("loader",s,e,n,i,r,l))),...a.map((t=>{if(t.matches&&t.match&&t.controller)return fa("loader",ma(e.history,t.path,t.controller.signal),t.match,t.matches,i,r,l);return{type:Ar.error,error:Ea(404,{pathname:t.path})}}))]),u=c.slice(0,o.length),d=c.slice(o.length);return yield Promise.all([La(t,o,u,u.map((()=>s.signal)),!1,E.loaderData),La(t,a.map((e=>e.match)),d,a.map((e=>e.controller?e.controller.signal:null)),!0)]),{results:c,loaderResults:u,fetcherResults:d}}))}function U(){M=!0,P.push(...ee()),D.forEach(((e,t)=>{L.has(t)&&(R.push(t),X(t))}))}function F(e,t,n){let o=wa(E.matches,t);Y(e),W({errors:{[o.route.id]:n},fetchers:new Map(E.fetchers)})}function Y(e){let t=E.fetchers.get(e);!L.has(e)||t&&"loading"===t.state&&C.has(e)||X(e),D.delete(e),C.delete(e),O.delete(e),E.fetchers.delete(e)}function X(e){let t=L.get(e);gr(t,"Expected fetch controller: "+e),t.abort(),L.delete(e)}function G(e){for(let t of e){let e=Ba(V(t).data);E.fetchers.set(t,e)}}function $(){let e=[],t=!1;for(let n of O){let o=E.fetchers.get(n);gr(o,"Expected fetcher: "+n),"loading"===o.state&&(O.delete(n),e.push(n),t=!0)}return G(e),t}function q(e){let t=[];for(let[n,o]of C)if(o<e){let e=E.fetchers.get(n);gr(e,"Expected fetcher: "+n),"loading"===e.state&&(X(n),C.delete(n),t.push(n))}return G(t),t.length>0}function J(e){E.blockers.delete(e),B.delete(e)}function Z(e,t){let n=E.blockers.get(e)||ra;gr("unblocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"proceeding"===t.state||"blocked"===n.state&&"unblocked"===t.state||"proceeding"===n.state&&"unblocked"===t.state,"Invalid blocker state transition: "+n.state+" -> "+t.state);let o=new Map(E.blockers);o.set(e,t),W({blockers:o})}function Q(e){let{currentLocation:t,nextLocation:n,historyAction:o}=e;if(0===B.size)return;B.size>1&&br(!1,"A router only supports one blocker at a time");let r=Array.from(B.entries()),[a,i]=r[r.length-1],s=E.blockers.get(a);return s&&"proceeding"===s.state?void 0:i({currentLocation:t,nextLocation:n,historyAction:o})?a:void 0}function ee(e){let t=[];return I.forEach(((n,o)=>{e&&!e(o)||(n.cancel(),t.push(o),I.delete(o))})),t}function te(e,t){if(f){return f(e,t.map((e=>function(e,t){let{route:n,pathname:o,params:r}=e;return{id:n.id,pathname:o,params:r,data:t[n.id],handle:n.handle}}(e,E.loaderData))))||e.key}return e.key}function ne(e,t){if(p){let n=te(e,t),o=p[n];if("number"==typeof o)return o}return null}return y={get basename(){return l},get state(){return E},get routes(){return s},initialize:function(){return d=e.history.listen((t=>{let{action:n,location:o,delta:r}=t;if(N)return void(N=!1);br(0===B.size||null!=r,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let a=Q({currentLocation:E.location,nextLocation:o,historyAction:n});return a&&null!=r?(N=!0,e.history.go(-1*r),void Z(a,{state:"blocked",location:o,proceed(){Z(a,{state:"proceeding",proceed:void 0,reset:void 0,location:o}),e.history.go(r)},reset(){let e=new Map(E.blockers);e.set(a,ra),W({blockers:e})}})):K(n,o)})),E.initialized||K(pr.Pop,E.location),y},subscribe:function(e){return h.add(e),()=>h.delete(e)},enableScrollRestoration:function(e,t,n){if(p=e,m=t,f=n||null,!v&&E.navigation===na){v=!0;let e=ne(E.location,E.matches);null!=e&&W({restoreScrollPosition:e})}return()=>{p=null,m=null,f=null}},navigate:function t(n,o){return u(this,null,(function*(){if("number"==typeof n)return void e.history.go(n);let r=la(E.location,E.matches,l,c.v7_prependBasename,n,null==o?void 0:o.fromRouteId,null==o?void 0:o.relative),{path:a,submission:i,error:s}=ca(c.v7_normalizeFormMethod,!1,r,o),u=E.location,d=wr(E.location,a,o&&o.state);d=hr({},d,e.history.encodeLocation(d));let h=o&&null!=o.replace?o.replace:void 0,p=pr.Push;!0===h?p=pr.Replace:!1===h||null!=i&&Ra(i.formMethod)&&i.formAction===E.location.pathname+E.location.search&&(p=pr.Replace);let f=o&&"preventScrollReset"in o?!0===o.preventScrollReset:void 0,m=Q({currentLocation:u,nextLocation:d,historyAction:p});if(!m)return yield K(p,d,{submission:i,pendingError:s,preventScrollReset:f,replace:o&&o.replace});Z(m,{state:"blocked",location:d,proceed(){Z(m,{state:"proceeding",proceed:void 0,reset:void 0,location:d}),t(n,o)},reset(){let e=new Map(E.blockers);e.set(m,ra),W({blockers:e})}})}))},fetch:function(t,n,d,h){if(o)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");L.has(t)&&X(t);let p=a||s,f=la(E.location,E.matches,l,c.v7_prependBasename,d,n,null==h?void 0:h.relative),m=Pr(p,f,l);if(!m)return void F(t,n,Ea(404,{pathname:f}));let{path:v,submission:g,error:b}=ca(c.v7_normalizeFormMethod,!0,f,h);if(b)return void F(t,n,b);let y=Ca(m,v);S=!0===(h&&h.preventScrollReset),g&&Ra(g.formMethod)?function(t,n,o,c,d,h){u(this,null,(function*(){if(U(),D.delete(t),!c.route.action&&!c.route.lazy){let e=Ea(405,{method:h.formMethod,pathname:o,routeId:n});return void F(t,n,e)}let u=E.fetchers.get(t),p=function(e,t){let n={state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0," _hasFetcherDoneAnything ":!0};return n}(h,u);E.fetchers.set(t,p),W({fetchers:new Map(E.fetchers)});let f=new AbortController,m=ma(e.history,o,f.signal,h);L.set(t,f);let v=x,g=yield fa("action",m,c,d,i,r,l);if(m.signal.aborted)return void(L.get(t)===f&&L.delete(t));if(Pa(g)){if(L.delete(t),T>v){let e=Ba(void 0);return E.fetchers.set(t,e),void W({fetchers:new Map(E.fetchers)})}{O.add(t);let e=Ia(h);return E.fetchers.set(t,e),W({fetchers:new Map(E.fetchers)}),z(E,g,{submission:h,isFetchActionRedirect:!0})}}if(Ma(g))return void F(t,n,g.error);if(ka(g))throw Ea(400,{type:"defer-action"});let b=E.navigation.location||E.location,y=ma(e.history,b,f.signal),_=a||s,S="idle"!==E.navigation.state?Pr(_,E.navigation.location,l):E.matches;gr(S,"Didn't find any matches after fetcher action");let k=++x;C.set(t,k);let B=Ia(h,g.data);E.fetchers.set(t,B);let[N,K]=ua(e.history,E,S,h,b,M,P,R,D,O,_,l,{[c.route.id]:g.data},void 0);K.filter((e=>e.key!==t)).forEach((e=>{let t=e.key,n=E.fetchers.get(t),o=Ia(void 0,n?n.data:void 0);E.fetchers.set(t,o),L.has(t)&&X(t),e.controller&&L.set(t,e.controller)})),W({fetchers:new Map(E.fetchers)});let V=()=>K.forEach((e=>X(e.key)));f.signal.addEventListener("abort",V);let{results:Y,loaderResults:G,fetcherResults:$}=yield H(E.matches,S,N,K,y);if(f.signal.aborted)return;f.signal.removeEventListener("abort",V),C.delete(t),L.delete(t),K.forEach((e=>L.delete(e.key)));let J=Aa(Y);if(J){if(J.idx>=N.length){let e=K[J.idx-N.length].key;O.add(e)}return z(E,J.result)}let{loaderData:Z,errors:Q}=ba(E,E.matches,N,G,void 0,K,$,I);if(E.fetchers.has(t)){let e=Ba(g.data);E.fetchers.set(t,e)}let ee=q(k);"loading"===E.navigation.state&&k>T?(gr(A,"Expected pending action"),w&&w.abort(),j(E.navigation.location,{matches:S,loaderData:Z,errors:Q,fetchers:new Map(E.fetchers)})):(W(hr({errors:Q,loaderData:ya(E.loaderData,Z,S,Q)},ee||K.length>0?{fetchers:new Map(E.fetchers)}:{})),M=!1)}))}(t,n,v,y,m,g):(D.set(t,{routeId:n,path:v}),function(t,n,o,a,s,c){u(this,null,(function*(){let u=E.fetchers.get(t),d=Ia(c,u?u.data:void 0);E.fetchers.set(t,d),W({fetchers:new Map(E.fetchers)});let h=new AbortController,p=ma(e.history,o,h.signal);L.set(t,h);let f=x,m=yield fa("loader",p,a,s,i,r,l);if(ka(m)&&(m=(yield xa(m,p.signal,!0))||m),L.get(t)===h&&L.delete(t),p.signal.aborted)return;if(Pa(m)){if(T>f){let e=Ba(void 0);return E.fetchers.set(t,e),void W({fetchers:new Map(E.fetchers)})}return O.add(t),void(yield z(E,m))}if(Ma(m)){let e=wa(E.matches,n);return E.fetchers.delete(t),void W({fetchers:new Map(E.fetchers),errors:{[e.route.id]:m.error}})}gr(!ka(m),"Unhandled fetcher deferred data");let v=Ba(m.data);E.fetchers.set(t,v),W({fetchers:new Map(E.fetchers)})}))}(t,n,v,y,m,g))},revalidate:function(){U(),W({revalidation:"loading"}),"submitting"!==E.navigation.state&&("idle"!==E.navigation.state?K(A||E.historyAction,E.navigation.location,{overrideNavigation:E.navigation}):K(E.historyAction,E.location,{startUninterruptedRevalidation:!0}))},createHref:t=>e.history.createHref(t),encodeLocation:t=>e.history.encodeLocation(t),getFetcher:V,deleteFetcher:Y,dispose:function(){d&&d(),h.clear(),w&&w.abort(),E.fetchers.forEach(((e,t)=>Y(t))),E.blockers.forEach(((e,t)=>J(t)))},getBlocker:function(e,t){let n=E.blockers.get(e)||ra;return B.get(e)!==t&&B.set(e,t),n},deleteBlocker:J,_internalFetchControllers:L,_internalActiveDeferreds:I,_internalSetRoutes:function(e){i={},a=Mr(e,r,void 0,i)}},y}function la(e,t,n,o,r,a,i){let s,l;if(null!=a&&"path"!==i){s=[];for(let e of t)if(s.push(e),e.route.id===a){l=e;break}}else s=t,l=t[t.length-1];let c=Ur(r||".",Hr(s).map((e=>e.pathnameBase)),Vr(e.pathname,n)||e.pathname,"path"===i);return null==r&&(c.search=e.search,c.hash=e.hash),null!=r&&""!==r&&"."!==r||!l||!l.route.index||Ta(c.search)||(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),o&&"/"!==n&&(c.pathname="/"===c.pathname?n:Fr([n,c.pathname])),_r(c)}function ca(e,t,n,o){if(!o||!function(e){return null!=e&&("formData"in e&&null!=e.formData||"body"in e&&void 0!==e.body)}(o))return{path:n};if(o.formMethod&&(r=o.formMethod,!Qr.has(r.toLowerCase())))return{path:n,error:Ea(405,{method:o.formMethod})};var r;let a,i,s=()=>({path:n,error:Ea(400,{type:"invalid-body"})}),l=o.formMethod||"get",c=e?l.toUpperCase():l.toLowerCase(),u=Sa(n);if(void 0!==o.body){if("text/plain"===o.formEncType){if(!Ra(c))return s();let e="string"==typeof o.body?o.body:o.body instanceof FormData||o.body instanceof URLSearchParams?Array.from(o.body.entries()).reduce(((e,t)=>{let[n,o]=t;return""+e+n+"="+o+"\n"}),""):String(o.body);return{path:n,submission:{formMethod:c,formAction:u,formEncType:o.formEncType,formData:void 0,json:void 0,text:e}}}if("application/json"===o.formEncType){if(!Ra(c))return s();try{let e="string"==typeof o.body?JSON.parse(o.body):o.body;return{path:n,submission:{formMethod:c,formAction:u,formEncType:o.formEncType,formData:void 0,json:e,text:void 0}}}catch(e){return s()}}}if(gr("function"==typeof FormData,"FormData is not available in this environment"),o.formData)a=va(o.formData),i=o.formData;else if(o.body instanceof FormData)a=va(o.body),i=o.body;else if(o.body instanceof URLSearchParams)a=o.body,i=ga(a);else if(null==o.body)a=new URLSearchParams,i=new FormData;else try{a=new URLSearchParams(o.body),i=ga(a)}catch(e){return s()}let d={formMethod:c,formAction:u,formEncType:o&&o.formEncType||"application/x-www-form-urlencoded",formData:i,json:void 0,text:void 0};if(Ra(d.formMethod))return{path:n,submission:d};let h=Er(n);return t&&h.search&&Ta(h.search)&&a.append("index",""),h.search="?"+a,{path:_r(h),submission:d}}function ua(e,t,n,o,r,a,i,s,l,c,u,d,h,p){let f=p?Object.values(p)[0]:h?Object.values(h)[0]:void 0,m=e.createURL(t.location),v=e.createURL(r),g=p?Object.keys(p)[0]:void 0,b=function(e,t){let n=e;if(t){let o=e.findIndex((e=>e.route.id===t));o>=0&&(n=e.slice(0,o))}return n}(n,g),y=b.filter(((e,n)=>{if(e.route.lazy)return!0;if(null==e.route.loader)return!1;if(function(e,t,n){let o=!t||n.route.id!==t.route.id,r=void 0===e[n.route.id];return o||r}(t.loaderData,t.matches[n],e)||i.some((t=>t===e.route.id)))return!0;let r=t.matches[n],s=e;return ha(e,hr({currentUrl:m,currentParams:r.params,nextUrl:v,nextParams:s.params},o,{actionResult:f,defaultShouldRevalidate:a||m.pathname+m.search===v.pathname+v.search||m.search!==v.search||da(r,s)}))})),w=[];return l.forEach(((e,r)=>{if(!n.some((t=>t.route.id===e.routeId)))return;let i=Pr(u,e.path,d);if(!i)return void w.push({key:r,routeId:e.routeId,path:e.path,matches:null,match:null,controller:null});let l=t.fetchers.get(r),h=Ca(i,e.path),p=!1;p=!c.has(r)&&(!!s.includes(r)||(l&&"idle"!==l.state&&void 0===l.data?a:ha(h,hr({currentUrl:m,currentParams:t.matches[t.matches.length-1].params,nextUrl:v,nextParams:n[n.length-1].params},o,{actionResult:f,defaultShouldRevalidate:a})))),p&&w.push({key:r,routeId:e.routeId,path:e.path,matches:i,match:h,controller:new AbortController})})),[y,w]}function da(e,t){let n=e.route.path;return e.pathname!==t.pathname||null!=n&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function ha(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if("boolean"==typeof n)return n}return t.defaultShouldRevalidate}function pa(e,t,n){return u(this,null,(function*(){if(!e.lazy)return;let o=yield e.lazy();if(!e.lazy)return;let r=n[e.id];gr(r,"No route found in manifest");let a={};for(let e in o){let t=void 0!==r[e]&&"hasErrorBoundary"!==e;br(!t,'Route "'+r.id+'" has a static property "'+e+'" defined but its lazy function is also returning a value for this property. The lazy route property "'+e+'" will be ignored.'),t||kr.has(e)||(a[e]=o[e])}Object.assign(r,a),Object.assign(r,hr({},t(r),{lazy:void 0}))}))}function fa(e,t,n,o,r,a,i,s){return u(this,null,(function*(){let l,c,u;void 0===s&&(s={});let d=e=>{let o,r=new Promise(((e,t)=>o=t));return u=()=>o(),t.signal.addEventListener("abort",u),Promise.race([e({request:t,params:n.params,context:s.requestContext}),r])};try{let o=n.route[e];if(n.route.lazy)if(o){c=(yield Promise.all([d(o),pa(n.route,a,r)]))[0]}else{if(yield pa(n.route,a,r),o=n.route[e],!o){if("action"===e){let e=new URL(t.url),o=e.pathname+e.search;throw Ea(405,{method:t.method,pathname:o,routeId:n.route.id})}return{type:Ar.data,data:void 0}}c=yield d(o)}else{if(!o){let e=new URL(t.url);throw Ea(404,{pathname:e.pathname+e.search})}c=yield d(o)}gr(void 0!==c,"You defined "+("action"===e?"an action":"a loader")+' for route "'+n.route.id+"\" but didn't return anything from your `"+e+"` function. Please return a value or `null`.")}catch(e){l=Ar.error,c=e}finally{u&&t.signal.removeEventListener("abort",u)}if(null!=(h=c)&&"number"==typeof h.status&&"string"==typeof h.statusText&&"object"==typeof h.headers&&void 0!==h.body){let e,r=c.status;if(ea.has(r)){let e=c.headers.get("Location");if(gr(e,"Redirects returned/thrown from loaders/actions must have a Location header"),aa.test(e)){if(!s.isStaticRequest){let n=new URL(t.url),o=e.startsWith("//")?new URL(n.protocol+e):new URL(e),r=null!=Vr(o.pathname,i);o.origin===n.origin&&r&&(e=o.pathname+o.search+o.hash)}}else e=la(new URL(t.url),o.slice(0,o.indexOf(n)+1),i,!0,e);if(s.isStaticRequest)throw c.headers.set("Location",e),c;return{type:Ar.redirect,status:r,location:e,revalidate:null!==c.headers.get("X-Remix-Revalidate"),reloadDocument:null!==c.headers.get("X-Remix-Reload-Document")}}if(s.isRouteRequest){throw{type:l===Ar.error?Ar.error:Ar.data,response:c}}let a=c.headers.get("Content-Type");return e=a&&/\bapplication\/json\b/.test(a)?yield c.json():yield c.text(),l===Ar.error?{type:l,error:new $r(r,c.statusText,e),headers:c.headers}:{type:Ar.data,data:e,statusCode:c.status,headers:c.headers}}var h,p,f;return l===Ar.error?{type:l,error:c}:function(e){let t=e;return t&&"object"==typeof t&&"object"==typeof t.data&&"function"==typeof t.subscribe&&"function"==typeof t.cancel&&"function"==typeof t.resolveData}(c)?{type:Ar.deferred,deferredData:c,statusCode:null==(p=c.init)?void 0:p.status,headers:(null==(f=c.init)?void 0:f.headers)&&new Headers(c.init.headers)}:{type:Ar.data,data:c}}))}function ma(e,t,n,o){let r=e.createURL(Sa(t)).toString(),a={signal:n};if(o&&Ra(o.formMethod)){let{formMethod:e,formEncType:t}=o;a.method=e.toUpperCase(),"application/json"===t?(a.headers=new Headers({"Content-Type":t}),a.body=JSON.stringify(o.json)):"text/plain"===t?a.body=o.text:"application/x-www-form-urlencoded"===t&&o.formData?a.body=va(o.formData):a.body=o.formData}return new Request(r,a)}function va(e){let t=new URLSearchParams;for(let[n,o]of e.entries())t.append(n,"string"==typeof o?o:o.name);return t}function ga(e){let t=new FormData;for(let[n,o]of e.entries())t.append(n,o);return t}function ba(e,t,n,o,r,a,i,s){let{loaderData:l,errors:c}=function(e,t,n,o,r){let a,i={},s=null,l=!1,c={};return n.forEach(((n,u)=>{let d=t[u].route.id;if(gr(!Pa(n),"Cannot handle redirect results in processLoaderData"),Ma(n)){let t=wa(e,d),r=n.error;o&&(r=Object.values(o)[0],o=void 0),s=s||{},null==s[t.route.id]&&(s[t.route.id]=r),i[d]=void 0,l||(l=!0,a=function(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}(n.error)?n.error.status:500),n.headers&&(c[d]=n.headers)}else ka(n)?(r.set(d,n.deferredData),i[d]=n.deferredData.data):i[d]=n.data,null==n.statusCode||200===n.statusCode||l||(a=n.statusCode),n.headers&&(c[d]=n.headers)})),o&&(s=o,i[Object.keys(o)[0]]=void 0),{loaderData:i,errors:s,statusCode:a||200,loaderHeaders:c}}(t,n,o,r,s);for(let t=0;t<a.length;t++){let{key:n,match:o,controller:r}=a[t];gr(void 0!==i&&void 0!==i[t],"Did not find corresponding fetcher result");let s=i[t];if(!r||!r.signal.aborted)if(Ma(s)){let t=wa(e.matches,null==o?void 0:o.route.id);c&&c[t.route.id]||(c=hr({},c,{[t.route.id]:s.error})),e.fetchers.delete(n)}else if(Pa(s))gr(!1,"Unhandled fetcher revalidation redirect");else if(ka(s))gr(!1,"Unhandled fetcher deferred data");else{let t=Ba(s.data);e.fetchers.set(n,t)}}return{loaderData:l,errors:c}}function ya(e,t,n,o){let r=hr({},t);for(let a of n){let n=a.route.id;if(t.hasOwnProperty(n)?void 0!==t[n]&&(r[n]=t[n]):void 0!==e[n]&&a.route.loader&&(r[n]=e[n]),o&&o.hasOwnProperty(n))break}return r}function wa(e,t){return(t?e.slice(0,e.findIndex((e=>e.route.id===t))+1):[...e]).reverse().find((e=>!0===e.route.hasErrorBoundary))||e[0]}function _a(e){let t=e.find((e=>e.index||!e.path||"/"===e.path))||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Ea(e,t){let{pathname:n,routeId:o,method:r,type:a}=void 0===t?{}:t,i="Unknown Server Error",s="Unknown @remix-run/router error";return 400===e?(i="Bad Request",r&&n&&o?s="You made a "+r+' request to "'+n+'" but did not provide a `loader` for route "'+o+'", so there is no way to handle the request.':"defer-action"===a?s="defer() is not supported in actions":"invalid-body"===a&&(s="Unable to encode submission body")):403===e?(i="Forbidden",s='Route "'+o+'" does not match URL "'+n+'"'):404===e?(i="Not Found",s='No route matches URL "'+n+'"'):405===e&&(i="Method Not Allowed",r&&n&&o?s="You made a "+r.toUpperCase()+' request to "'+n+'" but did not provide an `action` for route "'+o+'", so there is no way to handle the request.':r&&(s='Invalid request method "'+r.toUpperCase()+'"')),new $r(e||500,i,new Error(s),!0)}function Aa(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(Pa(n))return{result:n,idx:t}}}function Sa(e){return _r(hr({},"string"==typeof e?Er(e):e,{hash:""}))}function ka(e){return e.type===Ar.deferred}function Ma(e){return e.type===Ar.error}function Pa(e){return(e&&e.type)===Ar.redirect}function Ra(e){return Jr.has(e.toLowerCase())}function La(e,t,n,o,r,a){return u(this,null,(function*(){for(let i=0;i<n.length;i++){let s=n[i],l=t[i];if(!l)continue;let c=e.find((e=>e.route.id===l.route.id)),u=null!=c&&!da(c,l)&&void 0!==(a&&a[l.route.id]);if(ka(s)&&(r||u)){let e=o[i];gr(e,"Expected an AbortSignal for revalidating fetcher deferred result"),yield xa(s,e,r).then((e=>{e&&(n[i]=e||n[i])}))}}}))}function xa(e,t,n){return u(this,null,(function*(){if(void 0===n&&(n=!1),!(yield e.deferredData.resolveData(t))){if(n)try{return{type:Ar.data,data:e.deferredData.unwrappedData}}catch(e){return{type:Ar.error,error:e}}return{type:Ar.data,data:e.deferredData.data}}}))}function Ta(e){return new URLSearchParams(e).getAll("index").some((e=>""===e))}function Ca(e,t){let n="string"==typeof t?Er(t).search:t.search;if(e[e.length-1].route.index&&Ta(n||""))return e[e.length-1];let o=Hr(e);return o[o.length-1]}function Oa(e){let{formMethod:t,formAction:n,formEncType:o,text:r,formData:a,json:i}=e;if(t&&n&&o)return null!=r?{formMethod:t,formAction:n,formEncType:o,formData:void 0,json:void 0,text:r}:null!=a?{formMethod:t,formAction:n,formEncType:o,formData:a,json:void 0,text:void 0}:void 0!==i?{formMethod:t,formAction:n,formEncType:o,formData:void 0,json:i,text:void 0}:void 0}function Da(e,t){if(t){return{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}return{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Ia(e,t){if(e){return{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t," _hasFetcherDoneAnything ":!0}}return{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t," _hasFetcherDoneAnything ":!0}}function Ba(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e," _hasFetcherDoneAnything ":!0}}const Na=p.createContext(null),Wa=p.createContext(null),ja=p.createContext({popout:null}),Ka=p.createContext({enabled:!1,firstActionDelay:0,interval:0}),Va="showModal",za="showPopout",Ha="blockForward",Ua="inflate";function Fa(e){var t,n;return null!=(n=null==(t=null==e?void 0:e.match(/\/:[^\/]+/g))?void 0:t.map((e=>e.replace("/",""))))?n:[]}function Ya(e,t){return Fa(e).reduce(((n,o)=>{const r=o.replace(":","");if(!t[r])throw new Error(`Missing parameter ${r} while building route ${e}`);return n.replace(o,t[r])}),e)}function Xa(e,t=[]){return{state:e,match:e.matches.length?e.matches[e.matches.length-1]:void 0,panelsHistory:t}}function Ga(e){return e.state&&Va in e.state}function $a(e){return e.state&&za in e.state}function qa(){return Math.random().toString(36).substring(2,9)}function Ja(e){const t={keepSearchParams:!0};return Object.keys(e).some((e=>e in t))}class Za{constructor(e){this.actions=e,this.pointer=0,this.resolve=()=>{},this.reject=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}get isMultiAction(){return this.actions.length>1}get donePromise(){return this.promise}get finished(){return this.pointer>=this.actions.length}doNext(){this.finished||(this.actions[this.pointer](),this.pointer+=1),this.finished&&this.resolve()}}class Qa{constructor(e,t,n,o){this.viewHistory=t,this.transactionExecutor=n,this.router=e,this.setPopout=o}push(e){return u(this,arguments,(function*(e,t={},n={}){var o;const r=Ja(t),a=l(s({},r?t:n),{replace:Boolean(null==(o=this.router.state.location.state)?void 0:o[Ha])}),i=r?{}:t;yield this.navigate(e,a,i)}))}replace(e){return u(this,arguments,(function*(e,t={},n={}){const o=Ja(t),r=o?t:n,a=o?{}:t;yield this.navigate(e,l(s({},r),{replace:!0}),a)}))}back(e=1){return u(this,null,(function*(){0!==e&&(yield this.go(-Math.abs(e)))}))}backToFirst(){return u(this,null,(function*(){this.viewHistory.position>0?yield this.go(-this.viewHistory.position):yield this.transactionExecutor.doNext()}))}go(e){return u(this,null,(function*(){0===e?yield this.transactionExecutor.doNext():yield this.router.navigate(e)}))}runSync(e){const t=new Za(e);return this.transactionExecutor.add(t),this.transactionExecutor.doNext(),t.donePromise}showModal(e){return u(this,null,(function*(){yield this.router.navigate(this.router.state.location,{state:{[Va]:e,[Ha]:!0},replace:Ga(this.router.state.location)})}))}hideModal(e=!1){return u(this,null,(function*(){if(!e&&!this.viewHistory.isFirstPage||Ga(this.router.state.location))yield this.router.navigate(-1);else{const e=this.router.state.matches.find((e=>"modal"in e.route));if(e){const t=e.route,n=function(e,t){const n=e.route;function o(t){return Object.keys(e.params).map((e=>{var n;return Number(Boolean(null==(n=t.path)?void 0:n.includes(`:${e}`)))})).reduce(((e,t)=>e+t),0)}const r=t.routes.filter((t=>{const o=t,r=Fa(o.path).map((e=>e.replace(":","")));return!o.modal&&o.tab===n.tab&&o.panel===n.panel&&o.view===n.view&&o.root===n.root&&r.every((t=>Object.keys(e.params).includes(t)))})).sort(((e,t)=>o(e)-o(t))).pop();return r&&Ya(r.path,e.params)}(e,this.router);if(!n){const e=t.root?`root: ${t.root} `:"";throw new Error(`There is no route registered for panel with ${e}, view: ${t.view}, panel: ${t.panel}.\nMake sure this route exists or use hideModal with pushPanel set to false.`)}yield this.navigate(n,{keepSearchParams:!0})}else yield this.transactionExecutor.doNext()}}))}showPopout(e){return u(this,null,(function*(){this.setPopout(e);const t={[za]:qa(),[Ha]:!0};Ga(this.router.state.location)&&(t[Va]=this.router.state.location.state[Va]);const n=Ga(this.router.state.location)||$a(this.router.state.location);yield this.router.navigate(this.router.state.location,{state:t,replace:n})}))}hidePopout(){return u(this,null,(function*(){$a(this.router.state.location)?(this.setPopout(null),Ga(this.router.state.location)?yield this.router.navigate(this.router.state.location,{state:{[Ha]:!0,[Va]:this.router.state.location.state[Va]},replace:!0}):yield this.router.navigate(-1)):yield this.transactionExecutor.doNext()}))}navigate(e,t){return u(this,arguments,(function*(e,t,n={}){let o="string"==typeof e?e:e.hasParams?Ya(e.path,n):e.path;(null==t?void 0:t.keepSearchParams)&&(o+=this.router.state.location.search),yield this.router.navigate(o,t)}))}}const ei={background:"#3f5d81 url(https://vk.com/images/error404.png) no-repeat 50% 50%",width:"100%",height:"100%",overflow:"hidden",margin:"0",cursor:"pointer",backgroundSize:"contain"};function ti({routeNavigator:e}){return d.jsx("div",{onClick:()=>e.replace("/"),className:"default-not-found",style:ei})}class ni{constructor(){this.history=[],this.positionInternal=-1}updateNavigation(e){const t=this.getViewRecordFromState(e);if(t)switch(e.historyAction){case pr.Push:this.push(t);break;case pr.Pop:this.hasKey(t.locationKey)?this.pop(t):this.push(t);break;case pr.Replace:this.replace(t)}}get isFirstPage(){return this.positionInternal<1}get panelsHistory(){if(this.positionInternal<0)return[];const e=this.history[this.positionInternal].view,t=this.history.slice(0,this.positionInternal+1).reverse(),n=t.findIndex((t=>t.view!==e));return t.slice(0,n>-1?n:t.length).filter((e=>!e.modal&&!e.popout)).reverse().map((({panel:e})=>e))}get position(){return this.positionInternal}isPopForward(e,t){const n=this.history.findIndex((({locationKey:e})=>e===t));return e===pr.Pop&&n>this.position}isPopBackward(e,t){const n=this.history.findIndex((({locationKey:e})=>e===t));return e===pr.Pop&&n<=this.position}resetHistory(){this.positionInternal=-1,this.history=[]}push(e){this.history=this.history.slice(0,this.positionInternal+1),this.history.push(e),this.positionInternal=this.history.length-1}replace(e){this.history[this.positionInternal]=e}pop(e){this.positionInternal=this.history.findIndex((({locationKey:t})=>t===e.locationKey))}hasKey(e){return Boolean(this.history.find((({locationKey:t})=>t===e)))}getViewRecordFromState(e){var t;const n=Xa(e);if(!n.match)return;const{route:o}=n.match;return{view:o.view,panel:o.panel,modal:"modal"in o?o.modal:void 0,popout:null==(t=e.location.state)?void 0:t[za],locationKey:e.location.key}}}let oi=0;const ri=[];class ai{constructor(e){this.forceUpdate=e,this.transactions=[]}get initialDelay(){return this.transactions.length>1||this.transactions.length>0&&this.transactions[0].isMultiAction?100:0}add(e){this.transactions.push(e),this.forceUpdate()}doNext(){return u(this,null,(function*(){setTimeout((()=>{this.transactions.length&&(this.transactions[0].doNext(),this.transactions[0].finished&&this.transactions.shift())}))}))}}function ii(e=""){const t="string"==typeof e||Array.isArray(e)||e instanceof URLSearchParams;return new URLSearchParams(t?e:function(e){return Object.keys(e).reduce(((t,n)=>{const o=e[n];return t.concat(Array.isArray(o)?o.map((e=>[n,e])):[[n,o]])}),[])}(e))}function si(e,t){return e.map((e=>{const n=l(s({},e),{parents:t});return e.children?si(e.children,[...t,n]):n})).flat()}function li(e,t,n,o){var r,a,i;const s=si(e,[]),l=n.state.location,c=null!=(a=null==(r=n.match)?void 0:r.params)?a:{},u=null==(i=n.match)?void 0:i.route.path,d=s.find((e=>e.path===u));if(!d)return;const h=d.parents.map((({path:e})=>Ya(e,c)));setTimeout((()=>{if(h.length){const e=ii(l.search);e.delete(Ua);const n=e.toString().length>0?`?${e.toString()}`:"",r=`${l.pathname}${n}${l.hash}`,a=h.shift(),i=[()=>t.replace(a),...h.map((e=>()=>t.push(e))),()=>t.push(r)],s=new Za(i);o.add(s),o.doNext()}}))}function ci({router:e,children:t,useBridge:n=!0,notFound:o,throttled:r=!0,interval:a=400,hierarchy:i}){var c;const u=function(){const[,e]=p.useState(0);return()=>{e(Date.now())}}(),[h,f]=p.useState(null),[m]=p.useState(new ni),[v,g]=p.useState([]),[b,y]=p.useState(new ai(u)),w=null==(c=e.state.location.state)?void 0:c[za],_=p.useMemo((()=>{const t=new Qa(e,m,b,f);return{router:e,routeNavigator:t,viewHistory:m}}),[e,m,b,f]),E=p.useMemo((()=>({enabled:r||Boolean(b.initialDelay),firstActionDelay:b.initialDelay,interval:a})),[b.initialDelay,a,r]),A=p.useMemo((()=>Xa(e.state,v)),[e.state,v]),S=p.useMemo((()=>({popout:w?h:null})),[w,h]);!function(e,t){const[n]=p.useState((()=>String(++oi))),o=p.useCallback((({historyAction:e,nextLocation:n})=>{var o;const r=t.isPopForward(e,n.key)&&"default"!==n.key;return Boolean(r&&(null==(o=n.state)?void 0:o[Ha]))}),[t]),r=e.getBlocker(n,o);p.useEffect((()=>(e.subscribe((n=>{var o,r,a,i,l,c,u;const d=n.location.key;if(t.isPopBackward(n.historyAction,d)&&(null==(o=n.location.state)?void 0:o[Ha])&&!ri.includes(d)){ri.push(d);const t=s({},window.history.state);(null==(r=t.usr)?void 0:r[Va])&&(t.usr=s({},t.usr),null==(a=t.usr)||delete a[Va],null==(i=t.usr)||delete i[Ha]),(null==(l=t.usr)?void 0:l[za])&&(t.usr=s({},t.usr),null==(c=t.usr)||delete c[za],null==(u=t.usr)||delete u[Ha]),window.history.replaceState(t,""),e.navigate(-1).then((()=>ri.splice(ri.findIndex((e=>e===d)),1)))}})),()=>e.deleteBlocker(n))),[e,n,t])}(e,m),p.useEffect((()=>{m.resetHistory(),m.updateNavigation(l(s({},e.state),{historyAction:pr.Push})),g(m.panelsHistory),e.subscribe((e=>{m.updateNavigation(e),g(m.panelsHistory),b.doNext()})),n&&(Ce.subscribe((t=>{"VKWebAppChangeFragment"===t.detail.type&&e.navigate(t.detail.data.location,{replace:!0})})),e.subscribe((t=>{const n=e.createHref(t.location).replace(/^#/,"");Ce.send("VKWebAppSetLocation",{location:n,replace_state:!0})})))}),[e]),p.useEffect((()=>{const t=new ai(u);y(t);const n=ii(e.state.location.search),o=Boolean(n.get(Ua));i&&o&&li(i,_.routeNavigator,A,t)}),[e]);const k=Boolean(!A.match||A.state.errors&&A.state.errors[A.match.route.id]&&404===A.state.errors[A.match.route.id].status);return d.jsx(Na.Provider,{value:_,children:d.jsx(Ka.Provider,{value:E,children:d.jsxs(ja.Provider,{value:S,children:[k&&(o||d.jsx(ti,{routeNavigator:_.routeNavigator})),!k&&d.jsx(Wa.Provider,{value:A,children:t})]})})})}const ui=()=>{};function di(e){const{enabled:t,interval:n,firstActionDelay:o}=p.useContext(Ka),r=p.useRef(null),a=p.useContext(e),i=p.useRef(0),s=p.useRef(0),l=p.useRef(null),[c,u]=p.useState(a);if(!t){const e=r.current;return r.current=a,[a,e,ui]}p.useEffect((()=>{const e=Date.now()-i.current,t=n-e,r=t<=0?o:0,c=Math.max(r,t);return c<=0?(i.current=Date.now(),u(a)):(clearTimeout(s.current),l.current=()=>{l.current=null,i.current=Date.now(),u(a)},s.current=setTimeout(l.current,c)),()=>clearTimeout(s.current)}),[a]);const d=p.useCallback((()=>(i.current=0,l.current&&(clearTimeout(s.current),s.current=setTimeout(l.current,1)),()=>clearTimeout(s.current))),[]),h=r.current;return r.current=c,[c,h,d]}function hi(){const[e]=di(Na);return gr(e,"You can not use useNavigator hook outside of RouterContext. Make sure calling it inside RouterProvider."),e.routeNavigator}function pi(){const[e]=di(Wa);return gr(e,"You can not use useLocation hook outside of RouteContext. Make sure calling it inside RouterProvider."),e.state.location}function fi(){const[e]=di(ja);return e.popout}function mi(e,{relative:t}={}){const{router:{state:{matches:n}}}=p.useContext(Na),{pathname:o}=pi(),r=JSON.stringify(Hr(n).map((e=>e.pathnameBase)));return p.useMemo((()=>Ur(e,JSON.parse(r),o,"path"===t)),[e,r,o,t])}function vi(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return Boolean(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}const gi=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bi="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;p.forwardRef((function(e,t){var n=e,{to:o,relative:r,replace:a,target:i,reloadDocument:u,onClick:h}=n,f=c(n,["to","relative","replace","target","reloadDocument","onClick"]);let m,v=!1;if("string"==typeof o&&gi.test(o)&&(m=o,bi)){const e=new URL(window.location.href),t=o.startsWith("//")?new URL(e.protocol+o):new URL(o),n=t.pathname;t.origin===e.origin?o=n+t.search+t.hash:v=!0}const g=function(e,{relative:t}={}){const n=p.useContext(Na);gr(n,"You can not use useHref hook outside of RouteContext. Make sure calling it inside RouterProvider.");const{hash:o,pathname:r,search:a}=mi(e,{relative:t});return n.router.createHref({pathname:r,search:a,hash:o})}(o,{relative:r}),b=function(e,{target:t,replace:n,preventScrollReset:o,relative:r}={}){const a=hi(),i=pi(),s=mi(e,{relative:r});return p.useCallback((e=>{if(vi(e,t)){e.preventDefault();const t=_r(s);(void 0!==n?n:_r(i)===t)?a.replace(t):a.push(t)}}),[i,a,s,n,t,e,o,r])}(o,{replace:a,target:i,relative:r});return d.jsx(Jo,l(s({},f),{href:m||g,onClick:v||u?h:function(e){h&&h(e),e.defaultPrevented||b(e)},ref:t,target:i}))}));class yi{constructor(e){this._value=e}static init(e){yi._instance||(yi._instance=new yi(e))}static get value(){var e;return null==(e=yi._instance)?void 0:e._value}}const wi={display:"flex",margin:"auto",height:"100vh",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center"},_i={padding:"0px 8px",fontFamily:"Roboto, sans-serif",fontSize:80,color:"rgb(63, 138, 224)",background:"rgba(63, 138, 224, 0.08)",borderRadius:8,marginBottom:40},Ei=()=>{const e=hi();return d.jsx(vo,{appearance:"dark",children:d.jsx(Dt,{children:d.jsxs(nr,{style:wi,children:[d.jsx("h1",{style:_i,children:"404"}),d.jsx(lo,{onClick:()=>e.replace("/"),size:"l",mode:"outline",appearance:"accent-invariable",style:{padding:10},children:d.jsx("span",{style:{fontSize:"1.5em"},children:"На главную"})})]})})})},Ai=({size:e,mode:t})=>{switch(t){case"panel":return d.jsx(or,{size:e});case"screen":return d.jsx(zo,{size:e});default:return d.jsx(Ln,{size:e})}},Si=({children:e,size:t="regular",id:n,mode:o})=>d.jsx(p.Suspense,{fallback:d.jsx(Ai,{size:t,mode:o}),children:e},n),ki={position:"absolute",top:5,right:50,zIndex:500,color:"var(--vkui--color_icon_accent)"},Mi=({toggleAppearance:e,appearance:t})=>d.jsx(Xo,{style:ki,onClick:e,"aria-label":"Сменить тему",children:"light"===t?d.jsx(N,{}):d.jsx(W,{})}),Pi="about-fullstack",Ri="profile",Li="contacts",xi="projects",Ti="stack",Ci=function(e){window.addEventListener("popstate",(e=>{e.state||window.history.replaceState({key:qa()},"")}));const t=vr();return yi.init(t.location),sa({history:t,routes:e.map((e=>l(s({},e),{index:!0})))}).initialize()}([{path:"/",panel:Ri,view:Ri},{path:Pi,panel:Ri,view:Ri,modal:Pi},{path:`profile/${Pi}`,panel:Ri,view:Ri,modal:Pi},{path:"/profile",panel:Ri,view:Ri},{path:"/contacts",panel:Li,view:Li},{path:"/projects",panel:xi,view:xi},{path:"/stack",panel:Ti,view:Ti}]),Oi=p.lazy((()=>h((()=>import("./App-7db3437f.js").then((e=>e.A))),["assets/App-7db3437f.js","assets/index-8e849d0e.js","assets/react-37698f52.js","assets/index-3a72483a.css","assets/App-cafd1bcd.css"]))),Di=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const[e,t]=p.useState("light"),n=p.useCallback((()=>{const n="light"===e?"dark":"light";t(n),localStorage.setItem("theme",n)}),[e]);return p.useEffect((()=>{const e=localStorage.getItem("theme");e&&t(e)}),[]),d.jsx(dr,{appearance:e,children:d.jsx(er,{children:d.jsx(ci,{router:Ci,notFound:d.jsx(Ei,{}),children:d.jsxs(Si,{id:"app",children:[d.jsx(Oi,{}),d.jsx(Mi,{toggleAppearance:n,appearance:e})]})})})})}},Symbol.toStringTag,{value:"Module"}));export{Kt as $,ee as A,fi as B,Va as C,hi as D,Dt as E,Ri as F,C as G,H,Nt as I,Xo as J,I as K,Pn as L,en as M,Ti as N,xi as O,je as P,Li as Q,Wa as R,mt as S,kn as T,F as U,dt as V,He as W,S as X,A as Y,Si as Z,k as _,pt as a,Ze as a0,nt as a1,Qe as a2,Fe as a3,Ne as a4,Yt as a5,_t as a6,tn as a7,Rt as a8,Pi as a9,nr as aa,kt as ab,lo as ac,Y as ad,Bt as ae,ot as af,Jo as ag,Di as ah,bt as b,z as c,jt as d,Wt as e,Be as f,rt as g,$e as h,Xe as i,gt as j,V as k,uo as l,De as m,ho as n,Z as o,Q as p,wt as q,Ge as r,m as s,It as t,te as u,vo as v,yt as w,We as x,co as y,di as z};

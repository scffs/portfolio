var e=Object.defineProperty,t=Object.defineProperties,n=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,a=(t,n,r)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r,s=(e,t)=>{for(var n in t||(t={}))o.call(t,n)&&a(e,n,t[n]);if(r)for(var n of r(t))i.call(t,n)&&a(e,n,t[n]);return e},l=(e,r)=>t(e,n(r)),c=(e,t,n)=>new Promise(((r,o)=>{var i=e=>{try{s(n.next(e))}catch(e){o(e)}},a=e=>{try{s(n.throw(e))}catch(e){o(e)}},s=e=>e.done?r(e.value):Promise.resolve(e.value).then(i,a);s((n=n.apply(e,t)).next())}));import{r as u,a as d,R as h}from"./react-37698f52.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const f={},p=function(e,t,n){if(!t||0===t.length)return e();const r=document.getElementsByTagName("link");return Promise.all(t.map((e=>{if((e=function(e){return"/portfolio/"+e}(e))in f)return;f[e]=!0;const t=e.endsWith(".css"),o=t?'[rel="stylesheet"]':"";if(!!n)for(let n=r.length-1;n>=0;n--){const o=r[n];if(o.href===e&&(!t||"stylesheet"===o.rel))return}else if(document.querySelector(`link[href="${e}"]${o}`))return;const i=document.createElement("link");return i.rel=t?"stylesheet":"modulepreload",t||(i.as="script",i.crossOrigin=""),i.href=e,document.head.appendChild(i),t?new Promise(((t,n)=>{i.addEventListener("load",t),i.addEventListener("error",(()=>n(new Error(`Unable to preload CSS for ${e}`))))})):void 0}))).then((()=>e())).catch((e=>{const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}))};var v={exports:{}},m={},y=u,b=Symbol.for("react.element"),g=Symbol.for("react.fragment"),w=Object.prototype.hasOwnProperty,E=y.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,k={key:!0,ref:!0,__self:!0,__source:!0};function A(e,t,n){var r,o={},i=null,a=null;for(r in void 0!==n&&(i=""+n),void 0!==t.key&&(i=""+t.key),void 0!==t.ref&&(a=t.ref),t)w.call(t,r)&&!k.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:b,type:e,key:i,ref:a,props:o,_owner:E.current}}m.Fragment=g,m.jsx=A,m.jsxs=A,v.exports=m;var S,M=v.exports,P=d;function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){L(e,t,n[t])}))}return e}S=P.createRoot,P.hydrateRoot;var x=function(){return!("undefined"==typeof window||!window.document||!window.document.createElement)}();function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T(e,t){if(e){if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}function C(e){return function(e){if(Array.isArray(e))return O(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||T(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function D(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=[];return t.forEach((function(e){if(e)switch(void 0===e?"undefined":_(e)){case"string":r.push(e);break;case"object":Object.keys(e).forEach((function(t){e[t]&&r.push(t)}));break;default:r.push("".concat(e))}})),r.join(" ")}var I=function(){};function B(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function W(e,t,n){return t&&N(e.prototype,t),n&&N(e,n),e}var j={parse:function(e){if("string"!=typeof e)return{};if(!(e=e.trim().replace(/^[?#&]/,"")))return{};var t=/\?(.+)$/gi.exec(e);return(t?t[1]:e).split("&").reduce((function(e,t){var n=t.split("=");return n[1]&&(e[n[0]]=decodeURIComponent(n[1])),e}),{})},stringify:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!=typeof e||null===e)return"";t=R({encode:!0},t);var n=function(e){return t.encode?encodeURIComponent(e):String(e)};return Object.keys(e).reduce((function(r,o){var i=e[o];return void 0===i?r:null===i?(t.skipNull||r.push([n(o),""].join("=")),r):Array.isArray(i)?(i.map((function(e){r.push("".concat(n(o),"[]=").concat(n(e)))})).join(),r):(r.push([n(o),n(i)].join("=")),r)}),[]).join("&")}};function K(e){return void 0!==e&&!1!==e&&null!==e&&""!==e}function V(e){return"string"==typeof e||"number"==typeof e}function H(e){e||(e=x?navigator.userAgent:"");var t=function(e){if(!x)return!1;var t=!/ipad|iphone|ipod/.test(e),n=e.includes("mac os");if(n&&t&&"boolean"==typeof navigator.standalone)return!0;return!1}(e=e.toLowerCase()),n=t||e.includes("ipad"),r=!n&&-1!==e.search(/iphone|ipod/),o=r||n,i=o&&e.match(/os ([\d_]+) like mac os x/i),a=0,s=0;t?(a=13,s=0):i&&(a=+(i=i[1].split("_"))[0],s=+i[1]),i=null;var l=a<13&&!(11===a&&s<3),c=o&&function(e){if(!x)return!1;var t=window.webkit;if(t&&t.messageHandlers)return!0;var n=/constructor/i.test(String(window.HTMLElement)),r=!!window.indexedDB;if(e.includes("safari")&&e.includes("version")&&!navigator.standalone);else if(!r&&n||!window.statusbar||!window.statusbar.visible);else if(!n||r)return!0;return!1}(e),u=!1;return x&&(u=o&&375===screen.width&&812===screen.height&&3===window.devicePixelRatio),{isIPad:n,isIPhone:r,isIOS:o,isIPadOS:t,iosMajor:a,iosMinor:s,isWKWebView:c,isScrollBasedViewport:l,isIPhoneX:u,isIOSChrome:-1!==e.search(/crios/i)}}var U=H(),z=function(){return U.isIOS}(),F=function(){return U.isIPadOS}();var G=function(){var e={hasMouse:!1,hasTouchEvents:!1,hasHover:!1,hasTouch:!1};if(!x)return e;if(z&&!F)e.hasMouse=!1,e.hasHover=!1,e.hasTouchEvents=!0,e.hasTouch=!0;else if(e.hasTouchEvents="ontouchstart"in document,e.hasTouch=e.hasTouchEvents||"maxTouchPoints"in navigator&&navigator.maxTouchPoints>0,e.hasTouch){var t=!/android|mobile|tablet/i.test(navigator.userAgent);e.hasMouse="function"==typeof window.matchMedia&&window.matchMedia("(pointer)").matches?matchMedia("(pointer: fine)").matches:t,e.hasHover=e.hasMouse&&("function"==typeof window.matchMedia&&window.matchMedia("(hover)").matches?matchMedia("(hover: hover)").matches:t)}else e.hasMouse=!0,e.hasHover=!0;return e}(),X=function(){return G.hasMouse}(),Y=function(){return G.hasHover}(),$=u.createContext({window:x?window:void 0,document:x?document:void 0}),q=function(){return u.useContext($)};function J(e){return function(t){var n=q();return u.createElement(e,R({},t,n))}}function Z(e){e&&e.activeElement&&e.activeElement.blur()}if(x){var Q=Element.prototype;Q.matches||(Q.matches=Q.matchesSelector||Q.webkitMatchesSelector||Q.mozMatchesSelector||Q.msMatchesSelector),Q.closest||(Q.closest=function(e){for(var t=this;t;){if(t.matches(e))return t;t=t.parentElement}return null})}function ee(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||T(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),r=n.length>>>0;if(0===r)return!1;for(var o,i,a=0|t,s=Math.max(a>=0?a:r-Math.abs(a),0);s<r;){if((o=n[s])===(i=e)||"number"==typeof o&&"number"==typeof i&&isNaN(o)&&isNaN(i))return!0;s++}return!1}}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("callback must be a function");for(var t=Object(this),n=t.length>>>0,r=arguments[1],o=0;o<n;o++){var i=t[o];if(e.call(r,i,o,t))return i}}}),String.prototype.padStart||(String.prototype.padStart=function(e,t){return e>>=0,t=String(t||" "),this.length>e?String(this):((e-=this.length)>t.length&&(t+=t.repeat(e/t.length)),t.slice(0,e)+String(this))});var ne=function(){function e(t){var n=t.content;B(this,e),L(this,"isMounted",!1),L(this,"node",void 0),this.node=function(e){var t=!!document.importNode,n=(new DOMParser).parseFromString(e,"image/svg+xml").documentElement;return t?document.importNode(n,!0):n}(n)}return W(e,[{key:"id",get:function(){return this.node.id}},{key:"mount",value:function(e){return this.isMounted||(this.isMounted=!0,e.appendChild(this.node)),this.node}},{key:"unmount",value:function(){this.node&&this.node.parentNode&&(this.node.parentNode.removeChild(this.node),this.isMounted=!1)}}],[{key:"createFromExistingNode",value:function(t){var n=new e({content:""});return n.node=t,n}}]),e}(),re="http://www.w3.org/2000/svg",oe=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};B(this,e),L(this,"symbols",new Map),L(this,"config",{attrs:{xmlns:re,"xmlns:xlink":"http://www.w3.org/1999/xlink",style:"position:absolute;width:0;height:0","aria-hidden":"true"}}),L(this,"node",null),Object.assign(this.config.attrs,t.attrs)}return W(e,[{key:"push",value:function(e){var t=this.symbols,n=t.has(e.id);return t.set(e.id,e),!n}},{key:"add",value:function(e){var t=this.push(e);return this.node&&t&&e.mount(this.node),t}},{key:"attach",value:function(e){var t=this;this.node||(this.node=e,this.symbols.forEach((function(t){t.mount(e)})),e.querySelectorAll("symbol").forEach((function(e){var n=ne.createFromExistingNode(e);t.add(n)})))}},{key:"mount",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.node||(this.node=this.render(),t&&e.childNodes[0]?e.insertBefore(this.node,e.firstChild):e.appendChild(this.node)),this.node}},{key:"render",value:function(){var e=document.createElementNS(re,"svg");return Object.entries(this.config.attrs).forEach((function(t){return e.setAttribute(t[0],t[1])})),this.symbols.forEach((function(t){return e.appendChild(t.node)})),e}},{key:"unmount",value:function(){this.node&&this.node.parentNode&&this.node.parentNode.removeChild(this.node)}}]),e}();function ie(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}var ae,se=!("undefined"==typeof window||!window.document||!window.document.createElement);if(se){var le="__SVG_SPRITE_NODE__";ae=new oe({attrs:{id:le}});var ce=function(){var e=document.getElementById(le);e?ae.attach(e):ae.mount(document.body),document.removeEventListener("DOMContentLoaded",ce)};document.querySelector("body")?ce():document.addEventListener("DOMContentLoaded",ce)}else ae=null;var ue=se?u.useLayoutEffect:u.useEffect;var de=function(e){var t=e.width,n=void 0===t?0:t,r=e.height,o=void 0===r?0:r,i=e.viewBox,a=e.id,s=e.className,l=void 0===s?"":s,c=e.fill,u=e.getRootRef,d=e.style,f=void 0===d?{}:d,p=e.title,v=e.children,m=ee(e,["width","height","viewBox","id","className","fill","getRootRef","style","title","children"]),y=Math.max(n,o),b=R({width:n,height:o},f);return h.createElement("svg",ie(R({"aria-hidden":"true",display:"block"},m),{className:["vkuiIcon","vkuiIcon--".concat(y),"vkuiIcon--w-".concat(n),"vkuiIcon--h-".concat(o),"vkuiIcon--".concat(a),l].join(" ").trim(),viewBox:i,width:n,height:o,style:b,ref:u}),p&&h.createElement("title",null,p),h.createElement("use",{xlinkHref:"#".concat(a),style:{fill:"currentColor",color:c}},v))};function he(e,t,n,r,o,i,a,s){var l,c=function(){var e;u||(e=new ne({content:r}),ae&&ae.add(e),u=!0)},u=!1,d=(l={},function(e){l[e]||(l[e]=!0)}),f=function(e){if(ue(c,[]),a){var r=s?". Замените на ".concat(s):"";d("Иконка устарела"+r)}return h.createElement(de,ie(R({},e),{viewBox:n,id:t,width:void 0===e.width||isNaN(e.width)?o:+e.width,height:void 0===e.height||isNaN(e.height)?i:+e.height}))};return f.mountIcon=c,f.displayName=e,f}var fe=function(e){return e.children},pe=he("Icon16Spinner","spinner_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16" id="spinner_16"><path fill="currentColor" fill-rule="evenodd" d="M11.21 2.93a6 6 0 0 0-8.64 7.62 1 1 0 1 1-1.8.86A8 8 0 1 1 8 16a1 1 0 1 1 0-2 6 6 0 0 0 3.21-11.07z" clip-rule="evenodd" /></symbol>',16,16,!1,void 0),ve=he("Icon24Cancel","cancel_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="cancel_24"><path d="M7.536 6.264a.9.9 0 0 0-1.272 1.272L10.727 12l-4.463 4.464a.9.9 0 0 0 1.272 1.272L12 13.273l4.464 4.463a.9.9 0 1 0 1.272-1.272L13.273 12l4.463-4.464a.9.9 0 1 0-1.272-1.272L12 10.727 7.536 6.264Z" /></symbol>',24,24,!1,void 0),me=he("Icon24Spinner","spinner_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" id="spinner_24"><path fill="currentColor" fill-rule="evenodd" d="M16.394 5.077A8.2 8.2 0 0 0 4.58 15.49a.9.9 0 0 1-1.628.767A10 10 0 1 1 12 22a.9.9 0 0 1 0-1.8 8.2 8.2 0 0 0 4.394-15.123z" clip-rule="evenodd" /></symbol>',24,24,!1,void 0),ye=he("Icon32Spinner","spinner_32","0 0 32 32",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="spinner_32"><path fill="currentColor" d="M16 32a1.5 1.5 0 0 1 0-3c7.18 0 13-5.82 13-13S23.18 3 16 3 3 8.82 3 16c0 1.557.273 3.074.8 4.502A1.5 1.5 0 1 1 .986 21.54 15.97 15.97 0 0 1 0 16C0 7.163 7.163 0 16 0s16 7.163 16 16-7.163 16-16 16Z" /></symbol>',32,32,!1,void 0),be=he("Icon44Spinner","spinner_44","0 0 44 44",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 44 44" id="spinner_44"><path fill="currentColor" d="M22 44a1.5 1.5 0 0 1 0-3c10.493 0 19-8.507 19-19S32.493 3 22 3 3 11.507 3 22c0 2.208.376 4.363 1.103 6.397a1.5 1.5 0 1 1-2.825 1.01A21.964 21.964 0 0 1 0 22C0 9.85 9.85 0 22 0s22 9.85 22 22-9.85 22-22 22Z" /></symbol>',44,44,!1,void 0),ge=u.createContext({}),we=function(){return u.useContext(ge)},Ee=function(){return Ee=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ee.apply(this,arguments)};function ke(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}function Ae(e,t){var n,r,o=(n={current:0,next:function(){return++this.current}},r={},{add:function(e,t){var o=null!=t?t:n.next();return r[o]=e,o},resolve:function(e,t,n){var o=r[e];o&&(n(t)?o.resolve(t):o.reject(t),r[e]=null)}});return t((function(e){if(e.detail&&e.detail.data&&"object"==typeof e.detail.data&&"request_id"in e.detail.data){var t=e.detail.data,n=t.request_id,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(t,["request_id"]);n&&o.resolve(n,r,(function(e){return!("error_type"in e)}))}})),function(t,n){return void 0===n&&(n={}),new Promise((function(r,i){var a=o.add({resolve:r,reject:i},n.request_id);e(t,Ee(Ee({},n),{request_id:a}))}))}}var Se="undefined"!=typeof window,Me=Boolean(Se&&window.AndroidBridge),Pe=Boolean(Se&&window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.VKWebAppClose),Le=Boolean(Se&&window.ReactNativeWebView&&"function"==typeof window.ReactNativeWebView.postMessage),Re=Se&&!Me&&!Pe,xe=Re&&/(^\?|&)vk_platform=mobile_web(&|$)/.test(location.search),Oe=Re?"message":"VKWebAppEvent",Te=ke(["VKWebAppInit","VKWebAppGetCommunityAuthToken","VKWebAppAddToCommunity","VKWebAppAddToHomeScreenInfo","VKWebAppClose","VKWebAppCopyText","VKWebAppCreateHash","VKWebAppGetUserInfo","VKWebAppSetLocation","VKWebAppSendToClient","VKWebAppGetClientVersion","VKWebAppGetPhoneNumber","VKWebAppGetEmail","VKWebAppGetGroupInfo","VKWebAppGetGeodata","VKWebAppGetCommunityToken","VKWebAppGetConfig","VKWebAppGetLaunchParams","VKWebAppSetTitle","VKWebAppGetAuthToken","VKWebAppCallAPIMethod","VKWebAppJoinGroup","VKWebAppLeaveGroup","VKWebAppAllowMessagesFromGroup","VKWebAppDenyNotifications","VKWebAppAllowNotifications","VKWebAppOpenPayForm","VKWebAppOpenApp","VKWebAppShare","VKWebAppShowWallPostBox","VKWebAppScroll","VKWebAppShowOrderBox","VKWebAppShowLeaderBoardBox","VKWebAppShowInviteBox","VKWebAppShowRequestBox","VKWebAppAddToFavorites","VKWebAppShowStoryBox","VKWebAppStorageGet","VKWebAppStorageGetKeys","VKWebAppStorageSet","VKWebAppFlashGetInfo","VKWebAppSubscribeStoryApp","VKWebAppOpenWallPost","VKWebAppCheckAllowedScopes","VKWebAppCheckBannerAd","VKWebAppHideBannerAd","VKWebAppShowBannerAd","VKWebAppCheckNativeAds","VKWebAppShowNativeAds","VKWebAppRetargetingPixel","VKWebAppConversionHit","VKWebAppShowSubscriptionBox","VKWebAppCheckSurvey","VKWebAppShowSurvey","VKWebAppScrollTop","VKWebAppScrollTopStart","VKWebAppScrollTopStop","VKWebAppShowSlidesSheet","VKWebAppTranslate"],Re&&!xe?["VKWebAppResizeWindow","VKWebAppAddToMenu","VKWebAppShowInstallPushBox","VKWebAppGetFriends","VKWebAppShowCommunityWidgetPreviewBox","VKWebAppCallStart","VKWebAppCallJoin","VKWebAppCallGetStatus"]:["VKWebAppShowImages"],!0),Ce=Se?window.AndroidBridge:void 0,_e=Pe?window.webkit.messageHandlers:void 0,De=Re?parent:void 0;var Ie,Be,Ne,We,je,Ke,Ve,He,Ue,ze,Fe,Ge,Xe,Ye;(Be=Ie||(Ie={})).REWARD="reward",Be.INTERSTITIAL="interstitial",(We=Ne||(Ne={})).RESIZE="resize",We.OVERLAY="overlay",(Ke=je||(je={})).TOP="top",Ke.BOTTOM="bottom",(He=Ve||(Ve={})).CAMERA="camera",He.LOCATION="location",He.PHOTO="photo",(ze=Ue||(Ue={})).RU="ru",ze.UK="uk",ze.UA="ua",ze.EN="en",ze.BE="be",ze.KZ="kz",ze.PT="pt",ze.ES="es",(Ge=Fe||(Fe={})).ADMIN="admin",Ge.EDITOR="editor",Ge.MEMBER="member",Ge.MODER="moder",Ge.NONE="none",(Ye=Xe||(Xe={})).DESKTOP_WEB="desktop_web",Ye.DESKTOP_WEB_MESSENGER="desktop_web_messenger",Ye.DESKTOP_APP_MESSENGER="desktop_app_messenger",Ye.MOBILE_WEB="mobile_web",Ye.MOBILE_ANDROID="mobile_android",Ye.MOBILE_ANDROID_MESSENGER="mobile_android_messenger",Ye.MOBILE_IPHONE="mobile_iphone",Ye.MOBILE_IPHONE_MESSENGER="mobile_iphone_messenger",Ye.MOBILE_IPAD="mobile_ipad";var $e,qe,Je=function(e){var t=void 0,n=[];function r(e){n.push(e)}function o(){return Pe||Me}function i(){return Re&&window.parent!==window}function a(){return o()||i()}function s(e){if(Pe||Me)return ke([],n,!0).map((function(t){return t.call(null,e)}));var r=null==e?void 0:e.data;if(Re&&r){if(Le&&"string"==typeof r)try{r=JSON.parse(r)}catch(e){}var o=r.type,i=r.data,a=r.frameId;o&&("VKWebAppSettings"!==o?ke([],n,!0).map((function(e){return e({detail:{type:o,data:i}})})):t=a)}}Le&&/(android)/i.test(navigator.userAgent)?document.addEventListener(Oe,s):"undefined"!=typeof window&&"addEventListener"in window&&window.addEventListener(Oe,s);var l=Ae((function(n,r){Ce&&Ce[n]?Ce[n](JSON.stringify(r)):_e&&_e[n]&&"function"==typeof _e[n].postMessage?_e[n].postMessage(r):Le?window.ReactNativeWebView.postMessage(JSON.stringify({handler:n,params:r})):De&&"function"==typeof De.postMessage&&De.postMessage({handler:n,params:r,type:"vk-connect",webFrameId:t,connectVersion:e},"*")}),r);return{send:l,sendPromise:l,subscribe:r,unsubscribe:function(e){var t=n.indexOf(e);t>-1&&n.splice(t,1)},supports:function(e){return Me?!(!Ce||"function"!=typeof Ce[e]):Pe?!(!_e||!_e[e]||"function"!=typeof _e[e].postMessage):!!Re&&Te.includes(e)},isWebView:o,isIframe:i,isEmbedded:a,isStandalone:function(){return!a()}}}("2.10.0");(qe=$e||($e={})).IOS="ios",qe.UNKNOWN="";var Ze,Qe,et={};function tt(e){return{matches:!1,media:e,onchange:I,addListener:I,removeListener:I,addEventListener:I,removeEventListener:I,dispatchEvent:function(){return!1}}}(Qe=Ze||(Ze={})).ANDROID="android",Qe.IOS="ios",Qe.VKCOM="vkcom";var nt={desktop_web:Ze.VKCOM};var rt,ot,it=x?function(e){try{var t=j.parse(e).vk_platform;return"string"==typeof t&&t in nt?nt[t]:void 0}catch(e){return}}(location.search):void 0;(ot=rt||(rt={})).VKAPPS="vkapps",ot.INTERNAL="internal";var at,st=u.createContext({webviewType:rt.VKAPPS,isWebView:Je.isWebView(),transitionMotionEnabled:!0,platform:it||(at||(at=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(et[e])return et[e];var t=null,n=$e.UNKNOWN,r=H(e),o=r.isIOS,i=r.iosMajor,a=r.iosMinor;o&&(n=$e.IOS,t={major:i,minor:a});var s={userAgent:e,system:n,systemVersion:t};return et[e]=s,s}()),"ios"===at.system?Ze.IOS:Ze.ANDROID),appearance:void 0,locale:"ru"}),lt=function(){return u.useContext(st)};function ct(){var e=lt().appearance;return null!=e?e:"light"}var ut=x?u.useLayoutEffect:u.useEffect,dt={bottom:null,top:null,left:null,right:null};function ht(e){var t=e.detail,n=t.type,r=t.data;switch(n){case"VKWebAppUpdateConfig":case"VKWebAppUpdateInsets":var o=r.insets;if(o)return ie(R({},o),{bottom:o.bottom>150?0:o.bottom})}return null}Je.subscribe((function(e){var t=ht(e);t&&(dt=t)}));var ft,pt,vt=["a[href]","area[href]",'input:not([disabled]):not([hidden]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([hidden]):not([aria-hidden])","textarea:not([disabled])","button:not([disabled])","iframe","audio","video","[contenteditable]",'[tabindex]:not([tabindex="-1"])'];(pt=ft||(ft={})).ENTER="Enter",pt.SPACE="Space",pt.TAB="Tab",pt.ESCAPE="Escape",pt.HOME="Home",pt.END="End",pt.ARROW_LEFT="ArrowLeft",pt.ARROW_RIGHT="ArrowRight",pt.ARROW_UP="ArrowUp",pt.ARROW_DOWN="ArrowDown",pt.PAGE_UP="PageUp",pt.PAGE_DOWN="PageDown";var mt=[{code:ft.ENTER,key:["Enter"],keyCode:13},{code:ft.SPACE,key:["Space","Spacebar"," "],keyCode:32},{code:ft.TAB,key:["Tab"],keyCode:9},{code:ft.ESCAPE,key:["Escape"],keyCode:27},{code:ft.HOME,key:["Home"],keyCode:36},{code:ft.END,key:["End"],keyCode:35},{code:ft.ARROW_LEFT,key:["ArrowLeft"],keyCode:37},{code:ft.ARROW_RIGHT,key:["ArrowRight"],keyCode:39},{code:ft.ARROW_UP,key:["ArrowUp"],keyCode:40},{code:ft.ARROW_DOWN,key:["ArrowDown"],keyCode:40},{code:ft.PAGE_UP,key:["PageUp"],keyCode:40},{code:ft.PAGE_DOWN,key:["PageDown"],keyCode:40}];function yt(e){var t;return(null===(t=mt.find((function(t){var n=t.key,r=t.keyCode;return n.includes(e.key)||r===e.keyCode})))||void 0===t?void 0:t.code)||null}function bt(e,t,n){var r=u.useRef(t);ut((function(){r.current=t}),[t]);var o=u.useCallback((function(e){return r.current&&r.current(e)}),[]),i=u.useRef(I),a=u.useCallback((function(){i.current(),i.current=I}),[]),s=u.useCallback((function(t){if(x&&(a(),t)){var r=R({},n);t.addEventListener(e,o,r),i.current=function(){return t.removeEventListener(e,o,r)}}}),[n,o,e,a]);return u.useEffect((function(){return a}),[a]),u.useMemo((function(){return{add:s,remove:a}}),[s,a])}function gt(e,t,n,r){var o=bt(t,n,r);ut((function(){n&&e?o.add(e):o.remove()}),[Boolean(n),Boolean(e)])}var wt={DESKTOP:1280,TABLET:1024,SMALL_TABLET:768,MOBILE:320,MOBILE_LANDSCAPE_HEIGHT:415,MEDIUM_HEIGHT:720};function Et(e){return"(min-width: ".concat(e,"px)")}function kt(e){return"(max-width: ".concat(e-.1,"px)")}function At(e,t){return"".concat(Et(e)," and ").concat(kt(t))}function St(e){return"(min-height: ".concat(e,"px)")}function Mt(e){return"(max-height: ".concat(e-.1,"px)")}var Pt,Lt,Rt,xt,Ot,Tt,Ct,_t={BREAKPOINTS:wt,MEDIA_QUERIES:{DESKTOP_PLUS:Et(wt.DESKTOP),TABLET:At(wt.TABLET,wt.DESKTOP),SMALL_TABLET_PLUS:Et(wt.SMALL_TABLET),SMALL_TABLET:At(wt.SMALL_TABLET,wt.TABLET),MOBILE:At(wt.MOBILE,wt.SMALL_TABLET),MEDIUM_HEIGHT:St(wt.MEDIUM_HEIGHT),MOBILE_LANDSCAPE_HEIGHT:St(wt.MOBILE_LANDSCAPE_HEIGHT)},widthHalfInterval:At,widthPlus:Et,widthMinus:kt,heightHalfInterval:function(e,t){return"".concat(St(e)," and ").concat(Mt(t))},heightPlus:St,heightMinus:Mt};(Lt=Pt||(Pt={}))[Lt.SMALL_MOBILE=1]="SMALL_MOBILE",Lt[Lt.MOBILE=2]="MOBILE",Lt[Lt.SMALL_TABLET=3]="SMALL_TABLET",Lt[Lt.TABLET=4]="TABLET",Lt[Lt.DESKTOP=5]="DESKTOP",(xt=Rt||(Rt={}))[xt.EXTRA_SMALL=1]="EXTRA_SMALL",xt[xt.SMALL=2]="SMALL",xt[xt.MEDIUM=3]="MEDIUM",(Tt=Ot||(Ot={})).COMPACT="compact",Tt.REGULAR="regular";var Dt=(L(Ct={},Pt.SMALL_MOBILE,"smallMobileMinus"),L(Ct,Pt.MOBILE,"mobile"),L(Ct,Pt.SMALL_TABLET,"smallTablet"),L(Ct,Pt.TABLET,"tablet"),L(Ct,Pt.DESKTOP,"desktopPlus"),Ct),It=function(e){return"object"==typeof e&&null!==e&&e.hasOwnProperty("current")},Bt=u.createContext({portalRoot:null}),Nt=function(e,t,n){return Math.max(t,Math.min(e,n))},Wt=function(e){Object.assign(e.style,{position:"",top:"",left:"",right:"",overflowY:"",overflowX:""})},jt=function(e){var t=e.document.documentElement.clientHeight-e.innerHeight;return e.pageYOffset-t},Kt=u.createContext({getScroll:function(){return{x:0,y:0}},scrollTo:I,isScrollLock:!1,enableScrollLock:I,disableScrollLock:I}),Vt=function(){return u.useContext(Kt)},Ht=function(e){var t=e.children,n=q(),r=n.window,o=n.document,i=te(u.useState(!1),2),a=i[0],s=i[1],l=u.useRef(new Set),c=u.useCallback((function(){return{x:r.pageXOffset,y:jt(r)}}),[r]),d=u.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;r.scrollTo(e?Nt(e,0,o.body.scrollWidth-r.innerWidth):0,t?Nt(t,0,o.body.scrollHeight-r.innerHeight):0)}),[o,r]),h=u.useCallback((function(){l.current.forEach((function(e){e()}));var e=r.pageYOffset,t=r.pageXOffset,n=r.innerWidth>o.documentElement.clientWidth?"scroll":"",i=r.innerHeight>o.documentElement.clientHeight?"scroll":"";Object.assign(o.body.style,{position:"fixed",top:"-".concat(e,"px"),left:"-".concat(t,"px"),right:"0",overflowY:n,overflowX:i}),s(!0)}),[o,r]),f=u.useCallback((function(){var e=o.body.style.top,t=o.body.style.left;Wt(o.body),r.scrollTo(-parseInt(t||"0"),-parseInt(e||"0")),s(!1)}),[o,r]),p=u.useMemo((function(){return{getScroll:c,scrollTo:d,isScrollLock:a,disableScrollLock:f,enableScrollLock:h,beforeScrollLockFnSetRef:l}}),[c,d,a,f,h]);return u.createElement(Kt.Provider,{value:p},t)},Ut=function(e){var t,n,r=e.elRef,o=e.children,i=te(u.useState(!1),2),a=i[0],s=i[1],l=u.useRef(new Set),c=u.useCallback((function(){var e,o;return{x:null!==(t=null===(e=r.current)||void 0===e?void 0:e.scrollLeft)&&void 0!==t?t:0,y:null!==(n=null===(o=r.current)||void 0===o?void 0:o.scrollTop)&&void 0!==n?n:0}}),[r]),d=u.useCallback((function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=r.current;null===(e=o)||void 0===e||e.scrollTo(t?Nt(t,0,o.scrollWidth-o.clientWidth):0,n?Nt(n,0,o.scrollHeight-o.clientHeight):0)}),[r]),h=u.useCallback((function(){var e=r.current;if(e){l.current.forEach((function(e){e()}));var t=e.scrollTop,n=e.scrollLeft,o=e.scrollWidth>e.clientWidth?"scroll":"",i=e.scrollHeight>e.clientHeight?"scroll":"";Object.assign(e.style,{position:"absolute",top:"-".concat(t,"px"),left:"-".concat(n,"px"),right:"0",overflowY:o,overflowX:i}),s(!0)}}),[r]),f=u.useCallback((function(){var e=r.current;if(e){var t=e.style.top,n=e.style.left;Wt(e),e.scrollTo(-parseInt(n||"0"),-parseInt(t||"0")),s(!1)}}),[r]),p=u.useMemo((function(){return{getScroll:c,scrollTo:d,isScrollLock:a,disableScrollLock:f,enableScrollLock:h,beforeScrollLockFnSetRef:l}}),[c,d,a,f,h]);return u.createElement(Kt.Provider,{value:p},o)},zt=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=Vt(),n=t.enableScrollLock,r=t.disableScrollLock;ut((function(){return e?(n(),r):I}),[n,r,e])},Ft=L({none:"vkui--sizeX-none"},Ot.REGULAR,"vkui--sizeX-regular"),Gt="--vkui_internal--safe_area_inset_",Xt=function(e){var t=e.children,n=e.mode,r=void 0===n?"full":n,o=e.scroll,i=void 0===o?"global":o,a=e.portalRoot,s=void 0===a?null:a,l=e.disablePortal,c=e.className,d=ee(e,["children","mode","scroll","portalRoot","disablePortal","className"]),h=function(){var e=q().document,t=te(u.useState(!1),2),n=t[0],r=t[1],o=u.useCallback((function(){r(!0)}),[]),i=u.useCallback((function(e){yt(e)===ft.TAB&&o()}),[o]),a=u.useCallback((function(){r(!1)}),[]),s={passive:!0,capture:!0};return gt(e,"keydown",i,s),gt(e,"mousedown",a,s),gt(e,"touchstart",a,s),gt(e,"enableKeyboardInput",o,s),gt(e,"disableKeyboardInput",a,s),n}(),f=u.useRef(null),p=te(u.useState(null),2),v=p[0],m=p[1],y=q().document,b=function(){var e=te(u.useState(dt),2),t=e[0],n=e[1];return ut((function(){var e=function(e){var t=ht(e);t&&n(t)};return Je.subscribe(e),function(){Je.unsubscribe(e)}}),[]),t}(),g=ct(),w=we(),E=w.hasPointer,k=w.sizeX,A=void 0===k?"none":k;ut((function(){var e=null;return s&&(e=It(s)?s.current:s),e||(e=y.createElement("div"),y.body.appendChild(e)),m(e),function(){var t,n;s||(null===(n=e)||void 0===n||null===(t=n.parentElement)||void 0===t||t.removeChild(e))}}),[s]),ut((function(){var e,t,n;if("partial"===r)return I;var o=null===(t=f.current)||void 0===t?void 0:t.parentElement,i=["vkui__root"].concat("embedded"===r?"vkui__root--embedded":[]);return null===(n=o)||void 0===n||(e=n.classList).add.apply(e,C(i)),function(){var e,t;null===(t=o)||void 0===t||(e=t.classList).remove.apply(e,C(i))}}),[]),ut((function(){if("full"===r)return y.documentElement.classList.add("vkui"),function(){y.documentElement.classList.remove("vkui")}}),[y,r]),ut((function(){var e;if("partial"===r||!(null===(e=f.current)||void 0===e?void 0:e.parentElement))return I;var t,n=f.current.parentElement;for(t in b)if(b.hasOwnProperty(t)&&"number"==typeof b[t]){var o=b[t];n.style.setProperty(Gt+t,"".concat(o,"px")),v&&v.style.setProperty(Gt+t,"".concat(o,"px"))}return function(){var e;for(e in b)b.hasOwnProperty(e)&&(n.style.removeProperty(Gt+e),v&&v.style.removeProperty(Gt+e))}}),[b,v]),ut((function(){var e;if("partial"===r)return I;var t=A!==Ot.COMPACT?Ft[A]:null,n="embedded"===r?null===(e=f.current)||void 0===e?void 0:e.parentElement:y.body;return null!==t&&n?(n.classList.add(t),function(){n.classList.remove(t)}):I}),[A]),ut((function(){return"full"!==r||void 0===g?I:(y.documentElement.style.setProperty("color-scheme",g),function(){return y.documentElement.style.removeProperty("color-scheme")})}),[g]);var S=u.useMemo((function(){return"contain"===i?Ut:Ht}),[i]),M=u.createElement(Bt.Provider,{value:{appRoot:f,portalRoot:v,embedded:"embedded"===r,keyboardInput:h,mode:r,disablePortal:l}},u.createElement(S,{elRef:f},u.createElement(fe,{classPrefix:"vkui"},t)));return"partial"===r?M:u.createElement("div",R({ref:f,className:D("vkuiAppRoot",void 0===E?"vkuiAppRoot--pointer-none":!E&&"vkuiAppRoot--pointer-has-not",c)},d),M)};function Yt(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=te(u.useState(e),2),n=t[0],r=t[1];return u.useEffect((function(){r(!0)}),[]),n}function $t(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=u.useContext(ge).hasPointer,n=void 0===t?X:t;if(Yt(!e))return n}function qt(e){var t="";return u.Children.map(e,(function(e){"string"==typeof e&&(t+=" "+e)})),t.trim()}function Jt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=u.useRef(null);return u.useMemo((function(){return{get current(){return r.current},set current(e){r.current=e,t.forEach((function(t){t&&function(e,t){t&&("function"==typeof t?t(e):t.current=e)}(e,t)}))}}}),t)}function Zt(){return lt().platform}function Qt(e,t){var n=u.useRef({cb:e,duration:t});ut((function(){n.current.cb=e,n.current.duration=t}),[e,t]);var r=u.useRef(),o=u.useCallback((function(){var e;x&&(null===(e=r)||void 0===e?void 0:e.current)&&clearTimeout(r.current)}),[]),i=u.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.current.duration;o(),x&&(r.current=setTimeout((function(){var e=n.current.cb;"function"==typeof e&&e()}),e))}),[o]);return ut((function(){return o}),[]),{set:i,clear:o}}var en=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.filter((function(e){return"function"==typeof e})).forEach((function(e){return e.apply(void 0,C(n))}))}};var tn=function(e){return null!=e.clientX?e.clientX:e.changedTouches&&e.changedTouches[0].clientX},nn=function(e){return null!=e.clientY?e.clientY:e.changedTouches&&e.changedTouches[0].clientY},rn=function(){return x&&"ontouchstart"in window};function on(){return rn()?["touchstart","touchmove","touchend","touchcancel"]:["mousedown","mousemove","mouseup","mouseleave"]}function an(e,t,n,r){if(r||e<0)return e;var o=e*n;return o*t/(o+t)}var sn=function(e){var t=e.visible,n=e.mode,r=e.thin,o=ee(e,["visible","mode","thin"]);return u.createElement("span",ie(R({},o),{"aria-hidden":!0,className:D("vkuiFocusVisible",t&&"vkuiFocusVisible--visible",r&&"vkuiFocusVisible--thin",{inside:"vkuiFocusVisible--mode-inside",outside:"vkuiFocusVisible--mode-outside",outline:"vkuiFocusVisible--mode-outline"}[n])}))},ln=function(e){var t=function(e){var t,r=null!==(t=_.current)&&void 0!==t?t:{},o=r.isPressed,i=r.isSlide,a=r.isSlideX,s=r.isSlideY;o&&D(e,[h,s&&p,a&&f]);var l=rn();C.current=(!l||!i)&&Boolean(i),_.current={},l&&c&&c(e),n()},n=function(){K.forEach((function(e){return e.remove()}))},r=e.onStart,o=e.onStartX,i=e.onStartY,a=e.onMove,s=e.onMoveX,l=e.onMoveY,c=e.onLeave,d=e.onEnter,h=e.onEnd,f=e.onEndX,p=e.onEndY,v=e.onClickCapture,m=e.usePointerHover,y=e.slideThreshold,b=void 0===y?5:y,g=e.useCapture,w=void 0!==g&&g,E=e.Component,k=void 0===E?"div":E,A=e.getRootRef,S=e.noSlideClick,M=void 0!==S&&S,P=e.stopPropagation,L=void 0!==P&&P,x=ee(e,["onStart","onStartX","onStartY","onMove","onMoveX","onMoveY","onLeave","onEnter","onEnd","onEndX","onEndY","onClickCapture","usePointerHover","slideThreshold","useCapture","Component","getRootRef","noSlideClick","stopPropagation"]),O=q().document,T=u.useMemo(on,[]),C=u.useRef(!1),_=u.useRef(null),D=function(e,t){L&&e.stopPropagation(),t.forEach((function(t){var n,r,o,i=Date.now()-(null!==(o=null===(r=_.current)||void 0===r||null===(n=r.startT)||void 0===n?void 0:n.getTime())&&void 0!==o?o:0);t&&t(ie(R({},_.current),{duration:i,originalEvent:e}))}))},I=bt(m?"pointerenter":"mouseenter",d),B=bt(m?"pointerleave":"mouseleave",c),N=bt(T[0],(function(e){var t,n,a;_.current=(t=tn(e),n=nn(e),{startX:t,startY:n,startT:new Date,duration:0,isPressed:!0,isY:!1,isX:!1,isSlideX:!1,isSlideY:!1,isSlide:!1,shiftX:0,shiftY:0,shiftXAbs:0,shiftYAbs:0}),D(e,[r,o,i]),(a=rn()?e.target:O)&&K.forEach((function(e){return e.add(a)}))}),{capture:w,passive:!1}),W=Jt(A);ut((function(){var e=W.current;e&&(I.add(e),B.add(e),N.add(e))}),[k]);var j={capture:w,passive:!1},K=[bt(T[1],(function(e){var n,r=null!==(n=_.current)&&void 0!==n?n:{},o=r.isPressed,i=r.isX,c=r.isY,u=r.startX,d=void 0===u?0:u,h=r.startY,f=void 0===h?0:h;if(o){var p,v=tn(e)-d,m=nn(e)-f,y=Math.abs(v),g=Math.abs(m);if(e.touches&&e.touches.length>1)return t(e);if(!i&&!c){var w=y>=b&&y>g,E=g>=b&&g>y,k=w&&(!!s||!!a),A=E&&(!!l||!!a);_.current&&Object.assign(_.current,{isY:E,isX:w,isSlideX:k,isSlideY:A,isSlide:k||A})}(null===(p=_.current)||void 0===p?void 0:p.isSlide)&&(Object.assign(_.current,{shiftX:v,shiftY:m,shiftXAbs:y,shiftYAbs:g}),D(e,[a,_.current.isSlideX&&s,_.current.isSlideY&&l]))}}),j),bt(T[2],t,j),bt(T[3],t,j)];return u.createElement(k,ie(R({},x),{onDragStart:function(e){var t=e.target;"A"!==t.tagName&&"IMG"!==t.tagName||e.preventDefault()},onClickCapture:function(e){if(!C.current)return v&&v(e);M?(e.stopPropagation(),e.preventDefault()):v&&v(e),C.current=!1},ref:W}))};const cn=u.createContext(!1);var un,dn={none:"vkuiTappable--sizeX-none",compact:"vkuiTappable--sizeX-compact"},hn={all:un=un||new Map,on:function(e,t){var n=un.get(e);n?n.push(t):un.set(e,[t])},off:function(e,t){var n=un.get(e);n&&(t?n.splice(n.indexOf(t)>>>0,1):un.set(e,[]))},emit:function(e,t){var n=un.get(e);n&&n.slice().map((function(e){e(t)})),(n=un.get("*"))&&n.slice().map((function(n){n(e,t)}))}},fn=0,pn=1,vn=2,mn=3,yn=u.createContext({onHoverChange:I});function bn(e){switch(e){case"opacity":case"background":return!0;default:return!1}}var gn=function(e){var t=e.children,n=e.Component,r=e.onClick,o=e.onKeyDown,i=e.activeEffectDelay,a=void 0===i?600:i,s=e.stopPropagation,l=void 0!==s&&s,c=e.getRootRef,d=e.hasHover,h=void 0===d||d,f=e.hoverMode,p=void 0===f?"background":f,v=e.hasActive,m=void 0===v||v,y=e.activeMode,b=void 0===y?"background":y,g=e.focusVisibleMode,w=void 0===g?"inside":g,E=e.onEnter,k=e.onLeave,A=e.className,S=e.hovered,M=ee(e,["children","Component","onClick","onKeyDown","activeEffectDelay","stopPropagation","getRootRef","hasHover","hoverMode","hasActive","activeMode","focusVisibleMode","onEnter","onLeave","className","hovered"]);n=n||(M.href?"a":"div");var P=u.useContext(yn).onHoverChange,L=u.useContext(cn),x=Zt(),O=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=te(u.useState(!1),2),n=t[0],r=t[1],o=u.useContext(Bt).keyboardInput;return{focusVisible:e?o&&n:n,onFocus:u.useCallback((function(e){e.stopPropagation(),r(!0)}),[r]),onBlur:u.useCallback((function(e){e.stopPropagation(),r(!1)}),[r])}}(),T=O.focusVisible,_=O.onBlur,B=O.onFocus,N=we().sizeX,W=void 0===N?"none":N,j=$t(),K=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=u.useContext(ge).hasHover,n=void 0===t?Y:t;if(Yt(!e))return n}(),V=te(u.useState([]),2),H=V[0],U=V[1],z=te(u.useState(!1),2),F=z[0],G=z[1],X=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=te(u.useState(e),2),n=t[0],r=t[1],o=u.useCallback((function(){r(!0)}),[]),i=u.useCallback((function(){r(!1)}),[]),a=u.useCallback((function(){r(!n)}),[n]);return{value:n,setTrue:o,setFalse:i,toggle:a}}(!1),$=X.value,q=X.setTrue,J=X.setFalse,Z=($||S)&&!M.disabled,Q=m&&!F&&!M.disabled,ne=K&&h&&!F,re="a"!==n&&"button"!==n&&"label"!==n&&!M.contentEditable,oe=bn(p),ae=bn(b),se=["inside","outside"].includes(w),le=te(function(e,t){var n=u.useMemo((function(){return Math.round(1e8*Math.random()).toString(16)}),[]),r=te(u.useState(fn),2),o=r[0],i=r[1],a=function(){return i(fn)},s=function(){return e&&i(vn)},l=Qt(s,70),c=Qt(a,t);return ut((function(){return o===pn?(l.set(),l.clear):o===mn?c.clear:(o===vn&&hn.emit("active",n),I)}),[o]),ut((function(){if(o===fn)return I;var e=function(e){e!==n&&a()};return hn.on("active",e),function(){return hn.off("active",e)}}),[o===fn]),ut((function(){!e&&a()}),[e]),[o,{delayStart:function(){e&&i(pn)},start:s,stop:function(e){if(e)return i(mn),c.set(e);a()}}]}(Q,a),2),ce=le[0],ue=le[1],de=ue.start,he=ue.stop,fe=ue.delayStart,pe=ce===vn||ce===mn,ve=Jt(c),me=u.useRef({onHoverChange:G}).current;ut((function(){return Z?(P(!0),function(){return P(!1)}):I}),[Z]);var ye=x===Ze.ANDROID&&!j&&Q&&"background"===b,be=Qt((function(){return U([])}),225),Ee=D(A,"vkuiTappable","vkuiInternalTappable",x===Ze.IOS&&"vkuiTappable--ios",W!==Ot.REGULAR&&dn[W],ne&&"vkuiTappable--hasHover",Q&&"vkuiTappable--hasActive",ne&&Z&&!oe&&p,Q&&pe&&!ae&&b,T&&!se&&w,ne&&Z&&oe&&{background:"vkuiTappable--hover-background",opacity:"vkuiTappable--hover-opacity"}[p],Q&&pe&&ae&&{background:"vkuiTappable--active-background",opacity:"vkuiTappable--active-opacity"}[b],T&&"vkuiTappable--focus-visible"),ke={onStart:en((function(e){var t,n,r,o,i,a,s,l=e.originalEvent;if(Q){if(l.touches&&l.touches.length>1)return he();if(ye){var c=(t=ve.current,s=null===(n=t)||void 0===n?void 0:n.getBoundingClientRect(),{top:null===(r=s)||void 0===r?void 0:r.top,left:null===(o=s)||void 0===o?void 0:o.left,width:null===(i=t)||void 0===i?void 0:i.offsetWidth,height:null===(a=t)||void 0===a?void 0:a.offsetHeight}),u=c.top,d=c.left;!function(e,t){var n=Date.now(),r=H.filter((function(e){return e.id+225>n}));U(C(r).concat([{x:e,y:t,id:n}])),be.set()}(tn(l)-(null!=d?d:0),nn(l)-(null!=u?u:0))}fe()}}),M.onStart),onMove:en((function(e){e.isSlide&&he()}),M.onMove),onEnd:en((function(e){var t=e.duration;if(ce!==fn){ce===pn&&de();var n=t-70;he(n>=100?0:a-n)}}),M.onEnd),onClick:r,onKeyDown:en((function(e){var t;re&&function(e){var t=e.target,n=t.tagName,r=t.getAttribute("role"),o=!0!==t.isContentEditable&&"INPUT"!==n&&"TEXTAREA"!==n&&("button"===r||"link"===r),i="A"===n&&t.hasAttribute("href"),a=yt(e);return o&&(a===ft.SPACE&&"button"===r||a===ft.ENTER&&!i)}(e)&&(e.preventDefault(),null===(t=ve.current)||void 0===t||t.click())}),o)},Ae=M.href?"link":"button";return u.createElement(ln,R(ie(R({onEnter:en(q,E),onLeave:en(J,k),type:"button"===n?"button":void 0,tabIndex:re&&!M.disabled?0:void 0,role:re?Ae:void 0,"aria-disabled":re?M.disabled:void 0,stopPropagation:l&&!L&&!M.disabled},M),{slideThreshold:20,usePointerHover:!0,className:Ee,Component:n,getRootRef:ve,onBlur:en(_,M.onBlur),onFocus:en(B,M.onFocus)}),M.disabled?{}:ke),u.createElement(yn.Provider,{value:me},t),ye&&u.createElement("span",{"aria-hidden":!0,className:"vkuiTappable__waves"},H.map((function(e){return u.createElement("span",{key:e.id,className:"vkuiTappable__wave",style:{top:e.y,left:e.x}})}))),(ne&&"background"===p||Q&&"background"===b)&&u.createElement("span",{"aria-hidden":!0,className:"vkuiTappable__stateLayer"}),!M.disabled&&se&&u.createElement(sn,{visible:T,mode:w}))},wn=function(e){var t=e.Component,n=void 0===t?"span":t,r=e.getRootRef,o=e.className,i=ee(e,["Component","getRootRef","className"]);return u.createElement(n,ie(R({},i),{className:D("vkuiVisuallyHidden",o),ref:r}))},En=u.memo((function(e){var t=e.size,n=void 0===t?"regular":t,r=e.children,o=void 0===r?"Загружается...":r,i=e["aria-label"],a=void 0===i?"Загружается...":i,s=e.disableAnimation,l=e.className,c=ee(e,["size","children","aria-label","disableAnimation","className"]),d={small:pe,regular:me,medium:ye,large:be}[n],h={small:8,regular:12,medium:16,large:22}[n];return u.createElement("span",ie(R({role:"status"},c),{className:D("vkuiSpinner",l)}),u.createElement(d,null,!s&&u.createElement("animateTransform",{attributeName:"transform",attributeType:"XML",type:"rotate",from:"0 ".concat(h," ").concat(h),to:"360 ".concat(h," ").concat(h),dur:"0.7s",repeatCount:"indefinite"})),u.createElement(wn,null,null!=o?o:a))}));En.displayName="Spinner";var kn=L({none:"vkuiButton--sizeY-none"},Ot.REGULAR,"vkuiButton--sizeY-regular"),An=function(e){var t=e.size,n=void 0===t?"s":t,r=e.mode,o=void 0===r?"primary":r,i=e.appearance,a=void 0===i?"accent":i,s=e.stretched,l=void 0!==s&&s,c=e.align,d=void 0===c?"center":c,h=e.children,f=e.before,p=e.after,v=e.getRootRef,m=e.loading,y=e.onClick,b=e.stopPropagation,g=void 0===b||b,w=e.className,E=e.disableSpinnerAnimation,k=ee(e,["size","mode","appearance","stretched","align","children","before","after","getRootRef","loading","onClick","stopPropagation","className","disableSpinnerAnimation"]),A=Boolean(f||p),S=!h&&Boolean(p)!==Boolean(f),M=we().sizeY,P=void 0===M?"none":M,L=Zt();return u.createElement(gn,ie(R({hoverMode:"vkuiButton--hover",activeMode:"vkuiButton--active",Component:k.href?"a":"button",focusVisibleMode:"outside"},k),{onClick:m?void 0:y,stopPropagation:g,className:D(w,"vkuiButton",{s:"vkuiButton--size-s",m:"vkuiButton--size-m",l:"vkuiButton--size-l"}[n],{primary:"vkuiButton--mode-primary",secondary:"vkuiButton--mode-secondary",tertiary:"vkuiButton--mode-tertiary",outline:"vkuiButton--mode-outline",link:"vkuiButton--mode-link"}[o],{accent:"vkuiButton--appearance-accent",positive:"vkuiButton--appearance-positive",negative:"vkuiButton--appearance-negative",neutral:"vkuiButton--appearance-neutral",overlay:"vkuiButton--appearance-overlay","accent-invariable":"vkuiButton--appearance-accent-invariable"}[a],{left:"vkuiButton--align-left",center:"vkuiButton--align-center",right:"vkuiButton--align-right"}[d],P!==Ot.COMPACT&&kn[P],L===Ze.IOS&&"vkuiButton--ios",l&&"vkuiButton--stretched",A&&"vkuiButton--with-icon",S&&!l&&"vkuiButton--singleIcon",m&&"vkuiButton--loading"),getRootRef:v}),m&&u.createElement(En,{size:"small",className:"vkuiButton__spinner",disableAnimation:E}),u.createElement("span",{className:"vkuiButton__in"},K(f)&&u.createElement("span",{className:"vkuiButton__before",role:"presentation","data-testid":void 0},f),K(h)&&u.createElement("span",{className:"vkuiButton__content","data-testid":void 0},h),K(p)&&u.createElement("span",{className:"vkuiButton__after",role:"presentation","data-testid":void 0},p)))};function Sn(e){var t,n,r=u.useRef(e);return t=r.current,n=e,Object.keys(t).length===Object.keys(n).length&&Object.keys(t).every((function(e){return t[e]===n[e]}))||(r.current=e),r.current}function Mn(e,t){e.addEventListener?e.addEventListener("change",t):e.addListener(t)}function Pn(e,t){e.removeEventListener?e.removeEventListener("change",t):e.removeListener(t)}var Ln=function(e,t){var n;switch(e){case Ze.ANDROID:n="vkBase";break;case Ze.IOS:n="vkIOS";break;case Ze.VKCOM:n="vkCom";break;default:n=e}return"vkui--".concat(n,"--").concat(t)},Rn=function(e){var t=e.children,n=e.platform,r=e.appearance;return u.createElement(u.Fragment,null,u.Children.map(t,(function(e){return u.isValidElement(e)?u.cloneElement(e,{className:D(e.props.className,Ln(n,r))}):e})))};function xn(e){var t=e.children,n=ee(e,["children"]),r=Sn(R({},lt(),n));return h.createElement(st.Provider,{value:r},t)}var On=function(e){var t=e.appearance,n=e.children,r=Zt();return u.createElement(xn,{appearance:t},u.createElement(Rn,{platform:r,appearance:t},n))},Tn=function(e){var t=e.alignY,n=void 0===t?"center":t,r=e.alignX,o=void 0===r?"center":r,i=e.closing,a=void 0!==i&&i,s=e.hasMask,l=void 0===s||s,c=e.fixed,d=void 0===c||c,h=e.children,f=e.onClick,p=e.className,v=ee(e,["alignY","alignX","closing","hasMask","fixed","children","onClick","className"]),m=Zt(),y=te(u.useState(!l),2),b=y[0],g=y[1],w=u.useRef(null),E=function(e){e&&"vkuivkui-animation-full-fade-in"!==e.animationName||g(!0)},k=Qt(E,m===Ze.IOS?300:200);return u.useEffect((function(){!b&&k.set()}),[k,b]),gt(q().window,"touchmove",(function(e){return e.preventDefault()}),{passive:!1}),u.createElement("div",ie(R({},v),{className:D("vkuiPopoutWrapper",{center:"vkuiPopoutWrapper--alignY-center",top:"vkuiPopoutWrapper--alignY-top",bottom:"vkuiPopoutWrapper--alignY-bottom"}[n],{center:"vkuiPopoutWrapper--alignX-center",left:"vkuiPopoutWrapper--alignX-left",right:"vkuiPopoutWrapper--alignX-right"}[o],a&&"vkuiPopoutWrapper--closing",b&&"vkuiPopoutWrapper--opened",d&&"vkuiPopoutWrapper--fixed",l&&"vkuiPopoutWrapper--masked",p),onAnimationEnd:b?void 0:E,ref:w}),u.createElement("div",{className:"vkuiPopoutWrapper__container"},u.createElement("div",{className:"vkuiPopoutWrapper__overlay",onClick:f}),u.createElement("div",{className:"vkuiPopoutWrapper__content"},h)))},Cn=function(e){return u.createElement("svg",R({className:"vkuiIcon",width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M40 24c0 8.837-7.163 16-16 16S8 32.837 8 24 15.163 8 24 8s16 7.163 16 16Zm-10.08-4.33a1.125 1.125 0 0 0-1.59-1.59L24 22.409l-4.33-4.33a1.125 1.125 0 0 0-1.59 0l-.101.116a1.125 1.125 0 0 0 .1 1.476L22.41 24l-4.33 4.33a1.125 1.125 0 0 0 1.591 1.59L24 25.591l4.33 4.33c.439.439 1.151.439 1.59 0l.101-.116a1.125 1.125 0 0 0-.1-1.476L25.59 24l4.33-4.33Z",fill:"currentColor"}))},_n=function(e){return u.createElement("svg",R({className:"vkuiIcon",width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),u.createElement("path",{d:"M9 24L19 34L39 14",stroke:"currentColor",strokeWidth:"3.5",strokeLinecap:"round",strokeLinejoin:"round"}))},Dn=function(e){var t=e.style,n=e.className,r=e.state,o=void 0===r?"loading":r,i=e.size,a=void 0===i?"large":i,s=e["aria-label"],l=void 0===s?"Пожалуйста, подождите...":s,c=e.onClick,d=ee(e,["style","className","state","size","aria-label","onClick"]),h="done"===o||"error"===o,f={loading:function(){return null},cancelable:ve,done:_n,error:Cn}[o];return zt(),u.createElement(Tn,{hasMask:!1,className:D("vkuiScreenSpinner","cancelable"===o&&"vkuiScreenSpinner--clickable",n),style:t},u.createElement("div",{className:"vkuiScreenSpinner__container",onClick:c},u.createElement(En,R({className:D("vkuiScreenSpinner__spinner",h&&"vkuiScreenSpinner__spinner--hidden"),size:a,"aria-label":l},d)),u.createElement("div",{className:D("vkuiScreenSpinner__icon","done"===o&&"vkuiScreenSpinner__icon--state-done")},u.createElement(f,null))))},In=function(e){var t=e.hasVisited,n=e.children,r=e.className,o=ee(e,["hasVisited","children","className"]);return u.createElement(gn,ie(R({Component:o.href?"a":"button"},o),{className:D("vkuiLink",t&&"vkuiLink--has-visited",r),hasHover:!1,activeMode:"opacity",focusVisibleMode:"vkuiLink--focus-visible"}),n)},Bn={type:"",viewportWidth:0,viewportHeight:0};function Nn(e){var t=e.detail,n=t.type,r=t.data;if("VKWebAppUpdateConfig"!==n||!r)return null;var o=r.adaptivity,i=r.viewport_width,a=r.viewport_height,s={type:"",viewportWidth:isFinite(i)?+i:0,viewportHeight:isFinite(a)?+a:0};switch(o){case"force_mobile":case"force_mobile_compact":case"adaptive":s.type=o}return s}Je.subscribe((function(e){var t=Nn(e);t&&(Bn=t)}));var Wn=function(e){var t,n,r,o=e.viewWidth,i=e.viewHeight,a=e.sizeX,s=e.sizeY,l=e.hasPointer,c=e.hasHover,d=e.children,h=(t=te(u.useState(Bn),2),n=t[0],r=t[1],ut((function(){var e=function(e){var t=Nn(e);t&&r(t)};return Je.subscribe(e),function(){Je.unsubscribe(e)}}),[]),n),f=u.useMemo((function(){return function(e,t){var n=e.viewWidth,r=e.viewHeight,o=e.sizeX,i=e.sizeY,a=e.hasPointer,s=e.hasHover;if("adaptive"===t.type){var l=t.viewportWidth,c=t.viewportHeight;n=l>=_t.BREAKPOINTS.DESKTOP?Pt.DESKTOP:l>=_t.BREAKPOINTS.TABLET?Pt.TABLET:l>=_t.BREAKPOINTS.SMALL_TABLET?Pt.SMALL_TABLET:l>=_t.BREAKPOINTS.MOBILE?Pt.MOBILE:Pt.SMALL_MOBILE,r=c>=_t.BREAKPOINTS.MEDIUM_HEIGHT?Rt.MEDIUM:c>=_t.BREAKPOINTS.MOBILE_LANDSCAPE_HEIGHT?Rt.SMALL:Rt.EXTRA_SMALL,o=n<=Pt.MOBILE?Ot.COMPACT:Ot.REGULAR,i=n>=Pt.SMALL_TABLET&&X||r<=Rt.EXTRA_SMALL?Ot.COMPACT:Ot.REGULAR}else"force_mobile"===t.type||"force_mobile_compact"===t.type?(n=Pt.MOBILE,o=Ot.COMPACT,i="force_mobile_compact"===t.type?Ot.COMPACT:Ot.REGULAR):(void 0===o&&void 0!==n&&(o=n<=Pt.MOBILE?Ot.COMPACT:Ot.REGULAR),void 0===i&&void 0!==n&&void 0!==r&&(i=n>=Pt.SMALL_TABLET&&X||r<=Rt.EXTRA_SMALL?Ot.COMPACT:Ot.REGULAR));return{viewWidth:n,viewHeight:r,sizeX:o,sizeY:i,hasPointer:a,hasHover:s}}({viewWidth:o,viewHeight:i,sizeX:a,sizeY:s,hasPointer:l,hasHover:c},h)}),[o,i,a,s,l,c,h]);return u.createElement(ge.Provider,{value:f},d)};var jn,Kn,Vn,Hn,Un=function(e){var t=e.children,n=e.getRootRef,r=e.className,o=ee(e,["children","getRootRef","className"]);return u.createElement("div",ie(R({},o),{ref:n,className:D("vkuiDiv",r)}),t)},zn=u.memo((function(e){var t=e.height,n=void 0===t?96:t,r=e.style,o=ee(e,["height","style"]);return u.createElement(En,ie(R({size:"regular"},o),{style:R({height:n},r)}))}));zn.displayName="PanelSpinner",(Kn=jn||(jn={})).BRIGHT_LIGHT="bright_light",Kn.SPACE_GRAY="space_gray",Kn.VKCOM_LIGHT="vkcom_light",Kn.VKCOM_DARK="vkcom_dark",(Hn=Vn||(Vn={})).DARK="dark",Hn.LIGHT="light";var Fn=function(e){return e===jn.SPACE_GRAY||e===jn.VKCOM_DARK?"dark":"light"};function Gn(e,t){var n=function(n){var r=function(e){var t=e.scheme,n=e.appearance;return n||Fn(t)}(n);r&&(t(),e(r))},r=function(e){var t=e.detail,r=t.type,o=t.data;"VKWebAppUpdateConfig"===r&&n(o)};return Je.subscribe(r),Je.send("VKWebAppGetConfig").then(n).catch(console.error),function(){return Je.unsubscribe(r)}}var Xn,Yn,$n=function(e,t){var n=q().window,r=u.useRef((function(){t&&t(),r.current=I})),o=te(u.useState((function(){var t;return e||((null===(t=n&&n.matchMedia&&n.matchMedia("(prefers-color-scheme: dark)"))||void 0===t?void 0:t.matches)?"dark":"light")})),2),i=o[0],a=o[1];return u.useEffect((function(){return e?(a(e),I):Je.isEmbedded()?Gn(a,r.current):function(e,t){var n=e&&e.matchMedia&&e.matchMedia("(prefers-color-scheme: dark)");if(void 0===n)return I;var r=function(e){t(e.matches?"dark":"light")};return r(n),Mn(n,r),function(){return Pn(n,r)}}(n,a)}),[n,e]),i},qn=function(e){var t=R({},lt(),e),n=t.children,r=t.webviewType,o=t.isWebView,i=t.transitionMotionEnabled,a=t.platform,s=t.locale,l=t.appearance,c=t.onDetectAppearanceByBridge,d=$n(l,void 0===c?I:c),h=q().document;ut((function(){var e=Ln(a,d);return h.body.classList.add(e),function(){h.body.classList.remove(e)}}),[a,d]);var f=Sn({webviewType:r,isWebView:o,transitionMotionEnabled:i,platform:a,locale:s,appearance:d});return u.createElement(st.Provider,{value:f},u.createElement(Rn,{platform:a,appearance:d},n))};
/**
 * @remix-run/router v1.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
function Jn(){return Jn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jn.apply(this,arguments)}(Yn=Xn||(Xn={})).Pop="POP",Yn.Push="PUSH",Yn.Replace="REPLACE";const Zn="popstate";function Qn(e){return void 0===e&&(e={}),function(e,t,n,r){void 0===r&&(r={});let{window:o=document.defaultView,v5Compat:i=!1}=r,a=o.history,s=Xn.Pop,l=null,c=u();null==c&&(c=0,a.replaceState(Jn({},a.state,{idx:c}),""));function u(){return(a.state||{idx:null}).idx}function d(){s=Xn.Pop;let e=u(),t=null==e?null:e-c;c=e,l&&l({action:s,location:v.location,delta:t})}function h(e,t){s=Xn.Push;let r=rr(v.location,e,t);n&&n(r,e),c=u()+1;let d=nr(r,c),h=v.createHref(r);try{a.pushState(d,"",h)}catch(e){if(e instanceof DOMException&&"DataCloneError"===e.name)throw e;o.location.assign(h)}i&&l&&l({action:s,location:v.location,delta:1})}function f(e,t){s=Xn.Replace;let r=rr(v.location,e,t);n&&n(r,e),c=u();let o=nr(r,c),d=v.createHref(r);a.replaceState(o,"",d),i&&l&&l({action:s,location:v.location,delta:0})}function p(e){let t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"==typeof e?e:or(e);return er(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}let v={get action(){return s},get location(){return e(o,a)},listen(e){if(l)throw new Error("A history only accepts one active listener");return o.addEventListener(Zn,d),l=e,()=>{o.removeEventListener(Zn,d),l=null}},createHref:e=>t(o,e),createURL:p,encodeLocation(e){let t=p(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:h,replace:f,go:e=>a.go(e)};return v}((function(e,t){let{pathname:n="/",search:r="",hash:o=""}=ir(e.location.hash.substr(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),rr("",{pathname:n,search:r,hash:o},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"==typeof t?t:or(t))}),(function(e,t){tr("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),e)}function er(e,t){if(!1===e||null==e)throw new Error(t)}function tr(e,t){if(!e)try{throw new Error(t)}catch(e){}}function nr(e,t){return{usr:e.state,key:e.key,idx:t}}function rr(e,t,n,r){return void 0===n&&(n=null),Jn({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof t?ir(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function or(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function ir(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var ar,sr;(sr=ar||(ar={})).data="data",sr.deferred="deferred",sr.redirect="redirect",sr.error="error";const lr=new Set(["lazy","caseSensitive","path","id","index","children"]);function cr(e,t,n,r){return void 0===n&&(n=[]),void 0===r&&(r={}),e.map(((e,o)=>{let i=[...n,o],a="string"==typeof e.id?e.id:i.join("-");if(er(!0!==e.index||!e.children,"Cannot specify children on an index route"),er(!r[a],'Found a route id collision on id "'+a+"\".  Route id's must be globally unique within Data Router usages"),function(e){return!0===e.index}(e)){let n=Jn({},e,t(e),{id:a});return r[a]=n,n}{let n=Jn({},e,t(e),{id:a,children:void 0});return r[a]=n,e.children&&(n.children=cr(e.children,t,i,r)),n}}))}function ur(e,t,n){void 0===n&&(n="/");let r=Sr(("string"==typeof t?ir(t):t).pathname||"/",n);if(null==r)return null;let o=dr(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(o);let i=null;for(let e=0;null==i&&e<o.length;++e)i=Er(o[e],Ar(r));return i}function dr(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let o=(e,o,i)=>{let a={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:o,route:e};a.relativePath.startsWith("/")&&(er(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let s=Rr([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(er(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),dr(e.children,t,l,s)),(null!=e.path||e.index)&&t.push({path:s,score:wr(s,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let n of hr(e.path))o(e,t,n);else o(e,t)})),t}function hr(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===r.length)return o?[i,""]:[i];let a=hr(r.join("/")),s=[];return s.push(...a.map((e=>""===e?i:[i,e].join("/")))),o&&s.push(...a),s.map((t=>e.startsWith("/")&&""===t?"/":t))}const fr=/^:\w+$/,pr=3,vr=2,mr=1,yr=10,br=-2,gr=e=>"*"===e;function wr(e,t){let n=e.split("/"),r=n.length;return n.some(gr)&&(r+=br),t&&(r+=vr),n.filter((e=>!gr(e))).reduce(((e,t)=>e+(fr.test(t)?pr:""===t?mr:yr)),r)}function Er(e,t){let{routesMeta:n}=e,r={},o="/",i=[];for(let e=0;e<n.length;++e){let a=n[e],s=e===n.length-1,l="/"===o?t:t.slice(o.length)||"/",c=kr({path:a.relativePath,caseSensitive:a.caseSensitive,end:s},l);if(!c)return null;Object.assign(r,c.params);let u=a.route;i.push({params:r,pathname:Rr([o,c.pathname]),pathnameBase:xr(Rr([o,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(o=Rr([o,c.pathnameBase]))}return i}function kr(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);tr("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,((e,t)=>(r.push(t),"/([^\\/]+)")));e.endsWith("*")?(r.push("*"),o+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":""!==e&&"/"!==e&&(o+="(?:(?=\\/|$))");let i=new RegExp(o,t?void 0:"i");return[i,r]}(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let i=o[0],a=i.replace(/(.)\/+$/,"$1"),s=o.slice(1);return{params:r.reduce(((e,t,n)=>{if("*"===t){let e=s[n]||"";a=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return tr(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(s[n]||"",t),e}),{}),pathname:i,pathnameBase:a,pattern:e}}function Ar(e){try{return decodeURI(e)}catch(t){return tr(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function Sr(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function Mr(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function Pr(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function Lr(e,t,n,r){let o;void 0===r&&(r=!1),"string"==typeof e?o=ir(e):(o=Jn({},e),er(!o.pathname||!o.pathname.includes("?"),Mr("?","pathname","search",o)),er(!o.pathname||!o.pathname.includes("#"),Mr("#","pathname","hash",o)),er(!o.search||!o.search.includes("#"),Mr("#","search","hash",o)));let i,a=""===e||""===o.pathname,s=a?"/":o.pathname;if(r||null==s)i=n;else{let e=t.length-1;if(s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;o.pathname=t.join("/")}i=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:o=""}="string"==typeof e?ir(e):e,i=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:i,search:Or(r),hash:Tr(o)}}(o,i),c=s&&"/"!==s&&s.endsWith("/"),u=(a||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}const Rr=e=>e.join("/").replace(/\/\/+/g,"/"),xr=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Or=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Tr=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";class Cr{constructor(e,t,n,r){void 0===r&&(r=!1),this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}const _r=["post","put","patch","delete"],Dr=new Set(_r),Ir=["get",..._r],Br=new Set(Ir),Nr=new Set([301,302,303,307,308]),Wr=new Set([307,308]),jr={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Kr={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Vr={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Hr=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ur=e=>({hasErrorBoundary:Boolean(e.hasErrorBoundary)});function zr(e){const t=e.window?e.window:"undefined"!=typeof window?window:void 0,n=void 0!==t&&void 0!==t.document&&void 0!==t.document.createElement,r=!n;let o;if(er(e.routes.length>0,"You must provide a non-empty routes array to createRouter"),e.mapRouteProperties)o=e.mapRouteProperties;else if(e.detectErrorBoundary){let t=e.detectErrorBoundary;o=e=>({hasErrorBoundary:t(e)})}else o=Ur;let i,a={},s=cr(e.routes,o,void 0,a),l=e.basename||"/",u=Jn({v7_normalizeFormMethod:!1,v7_prependBasename:!1},e.future),d=null,h=new Set,f=null,p=null,v=null,m=null!=e.hydrationData,y=ur(s,e.history.location,l),b=null;if(null==y){let t=io(404,{pathname:e.history.location.pathname}),{matches:n,route:r}=oo(s);y=n,b={[r.id]:t}}let g,w,E=!(y.some((e=>e.route.lazy))||y.some((e=>e.route.loader))&&null==e.hydrationData),k={historyAction:e.history.action,location:e.history.location,matches:y,initialized:E,navigation:jr,restoreScrollPosition:null==e.hydrationData&&null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||b,fetchers:new Map,blockers:new Map},A=Xn.Pop,S=!1,M=!1,P=!1,L=[],R=[],x=new Map,O=0,T=-1,C=new Map,_=new Set,D=new Map,I=new Map,B=new Map,N=!1;function W(e){k=Jn({},k,e),h.forEach((e=>e(k)))}function j(t,n){var r,o;let a,l=null!=k.actionData&&null!=k.navigation.formMethod&&ho(k.navigation.formMethod)&&"loading"===k.navigation.state&&!0!==(null==(r=t.state)?void 0:r._isRedirect);a=n.actionData?Object.keys(n.actionData).length>0?n.actionData:null:l?k.actionData:null;let c=n.loaderData?no(k.loaderData,n.loaderData,n.matches||[],n.errors):k.loaderData,u=k.blockers;u.size>0&&(u=new Map(u),u.forEach(((e,t)=>u.set(t,Vr))));let d=!0===S||null!=k.navigation.formMethod&&ho(k.navigation.formMethod)&&!0!==(null==(o=t.state)?void 0:o._isRedirect);i&&(s=i,i=void 0),M||A===Xn.Pop||(A===Xn.Push?e.history.push(t,t.state):A===Xn.Replace&&e.history.replace(t,t.state)),W(Jn({},n,{actionData:a,loaderData:c,historyAction:A,location:t,initialized:!0,navigation:jr,revalidation:"idle",restoreScrollPosition:ne(t,n.matches||k.matches),preventScrollReset:d,blockers:u})),A=Xn.Pop,S=!1,M=!1,P=!1,L=[],R=[]}function K(t,n,r){return c(this,null,(function*(){w&&w.abort(),w=null,A=t,M=!0===(r&&r.startUninterruptedRevalidation),function(e,t){if(f&&v){let n=te(e,t);f[n]=v()}}(k.location,k.matches),S=!0===(r&&r.preventScrollReset);let u=i||s,d=r&&r.overrideNavigation,h=ur(u,n,l);if(!h){let e=io(404,{pathname:n.pathname}),{matches:t,route:r}=oo(u);return ee(),void j(n,{matches:t,loaderData:{},errors:{[r.id]:e}})}if(k.initialized&&!P&&function(e,t){if(e.pathname!==t.pathname||e.search!==t.search)return!1;if(""===e.hash)return""!==t.hash;if(e.hash===t.hash)return!0;if(""!==t.hash)return!0;return!1}(k.location,n)&&!(r&&r.submission&&ho(r.submission.formMethod)))return void j(n,{matches:h});w=new AbortController;let p,m,y=Zr(e.history,n,w.signal,r&&r.submission);if(r&&r.pendingError)m={[ro(h).route.id]:r.pendingError};else if(r&&r.submission&&ho(r.submission.formMethod)){let e=yield function(e,t,n,r,i){return c(this,null,(function*(){void 0===i&&(i={}),z();let s,c=function(e,t){let n={state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text};return n}(t,n);W({navigation:c});let u=mo(r,t);if(u.route.action||u.route.lazy){if(s=yield Jr("action",e,u,r,a,o,l),e.signal.aborted)return{shortCircuited:!0}}else s={type:ar.error,error:io(405,{method:e.method,pathname:t.pathname,routeId:u.route.id})};if(uo(s)){let e;return e=i&&null!=i.replace?i.replace:s.location===k.location.pathname+k.location.search,yield H(k,s,{submission:n,replace:e}),{shortCircuited:!0}}if(co(s)){let e=ro(r,u.route.id);return!0!==(i&&i.replace)&&(A=Xn.Push),{pendingActionData:{},pendingActionError:{[e.route.id]:s.error}}}if(lo(s))throw io(400,{type:"defer-action"});return{pendingActionData:{[u.route.id]:s.data}}}))}(y,n,r.submission,h,{replace:r.replace});if(e.shortCircuited)return;p=e.pendingActionData,m=e.pendingActionError,d=bo(n,r.submission),y=new Request(y.url,{signal:y.signal})}let{shortCircuited:b,loaderData:g,errors:E}=yield function(t,n,r,o,a,u,d,h,f){return c(this,null,(function*(){let c=o||bo(n,a),p=a||u||yo(c),v=i||s,[m,y]=Xr(e.history,k,r,p,n,P,L,R,D,_,v,l,h,f);if(ee((e=>!(r&&r.some((t=>t.route.id===e)))||m&&m.some((t=>t.route.id===e)))),T=++O,0===m.length&&0===y.length){let e=$();return j(n,Jn({matches:r,loaderData:{},errors:f||null},h?{actionData:h}:{},e?{fetchers:new Map(k.fetchers)}:{})),{shortCircuited:!0}}if(!M){y.forEach((e=>{let t=k.fetchers.get(e.key),n=go(void 0,t?t.data:void 0);k.fetchers.set(e.key,n)}));let e=h||k.actionData;W(Jn({navigation:c},e?0===Object.keys(e).length?{actionData:null}:{actionData:e}:{},y.length>0?{fetchers:new Map(k.fetchers)}:{}))}y.forEach((e=>{x.has(e.key)&&X(e.key),e.controller&&x.set(e.key,e.controller)}));let b=()=>y.forEach((e=>X(e.key)));w&&w.signal.addEventListener("abort",b);let{results:g,loaderResults:E,fetcherResults:A}=yield U(k.matches,r,m,y,t);if(t.signal.aborted)return{shortCircuited:!0};w&&w.signal.removeEventListener("abort",b),y.forEach((e=>x.delete(e.key)));let S=ao(g);if(S){if(S.idx>=m.length){let e=y[S.idx-m.length].key;_.add(e)}return yield H(k,S.result,{replace:d}),{shortCircuited:!0}}let{loaderData:C,errors:B}=to(k,r,m,E,f,y,A,I);I.forEach(((e,t)=>{e.subscribe((n=>{(n||e.done)&&I.delete(t)}))}));let N=$(),K=q(T);return Jn({loaderData:C,errors:B},N||K||y.length>0?{fetchers:new Map(k.fetchers)}:{})}))}(y,n,h,d,r&&r.submission,r&&r.fetcherSubmission,r&&r.replace,p,m);b||(w=null,j(n,Jn({matches:h},p?{actionData:p}:{},{loaderData:g,errors:E})))}))}function V(e){return k.fetchers.get(e)||Kr}function H(r,o,i){return c(this,null,(function*(){let{submission:a,replace:s,isFetchActionRedirect:c}=void 0===i?{}:i;o.revalidate&&(P=!0);let u=rr(r.location,o.location,Jn({_isRedirect:!0},c?{_isFetchActionRedirect:!0}:{}));if(er(u,"Expected a location on the redirect navigation"),n){let n=!1;if(o.reloadDocument)n=!0;else if(Hr.test(o.location)){const r=e.history.createURL(o.location);n=r.origin!==t.location.origin||null==Sr(r.pathname,l)}if(n)return void(s?t.location.replace(o.location):t.location.assign(o.location))}w=null;let d=!0===s?Xn.Replace:Xn.Push,h=a||yo(r.navigation);if(Wr.has(o.status)&&h&&ho(h.formMethod))yield K(d,u,{submission:Jn({},h,{formAction:o.location}),preventScrollReset:S});else if(c)yield K(d,u,{overrideNavigation:bo(u),fetcherSubmission:h,preventScrollReset:S});else{let e=bo(u,h);yield K(d,u,{overrideNavigation:e,preventScrollReset:S})}}))}function U(t,n,r,i,s){return c(this,null,(function*(){let c=yield Promise.all([...r.map((e=>Jr("loader",s,e,n,a,o,l))),...i.map((t=>{if(t.matches&&t.match&&t.controller)return Jr("loader",Zr(e.history,t.path,t.controller.signal),t.match,t.matches,a,o,l);return{type:ar.error,error:io(404,{pathname:t.path})}}))]),u=c.slice(0,r.length),d=c.slice(r.length);return yield Promise.all([fo(t,r,u,u.map((()=>s.signal)),!1,k.loaderData),fo(t,i.map((e=>e.match)),d,i.map((e=>e.controller?e.controller.signal:null)),!0)]),{results:c,loaderResults:u,fetcherResults:d}}))}function z(){P=!0,L.push(...ee()),D.forEach(((e,t)=>{x.has(t)&&(R.push(t),X(t))}))}function F(e,t,n){let r=ro(k.matches,t);G(e),W({errors:{[r.route.id]:n},fetchers:new Map(k.fetchers)})}function G(e){let t=k.fetchers.get(e);!x.has(e)||t&&"loading"===t.state&&C.has(e)||X(e),D.delete(e),C.delete(e),_.delete(e),k.fetchers.delete(e)}function X(e){let t=x.get(e);er(t,"Expected fetch controller: "+e),t.abort(),x.delete(e)}function Y(e){for(let t of e){let e=wo(V(t).data);k.fetchers.set(t,e)}}function $(){let e=[],t=!1;for(let n of _){let r=k.fetchers.get(n);er(r,"Expected fetcher: "+n),"loading"===r.state&&(_.delete(n),e.push(n),t=!0)}return Y(e),t}function q(e){let t=[];for(let[n,r]of C)if(r<e){let e=k.fetchers.get(n);er(e,"Expected fetcher: "+n),"loading"===e.state&&(X(n),C.delete(n),t.push(n))}return Y(t),t.length>0}function J(e){k.blockers.delete(e),B.delete(e)}function Z(e,t){let n=k.blockers.get(e)||Vr;er("unblocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"proceeding"===t.state||"blocked"===n.state&&"unblocked"===t.state||"proceeding"===n.state&&"unblocked"===t.state,"Invalid blocker state transition: "+n.state+" -> "+t.state);let r=new Map(k.blockers);r.set(e,t),W({blockers:r})}function Q(e){let{currentLocation:t,nextLocation:n,historyAction:r}=e;if(0===B.size)return;B.size>1&&tr(!1,"A router only supports one blocker at a time");let o=Array.from(B.entries()),[i,a]=o[o.length-1],s=k.blockers.get(i);return s&&"proceeding"===s.state?void 0:a({currentLocation:t,nextLocation:n,historyAction:r})?i:void 0}function ee(e){let t=[];return I.forEach(((n,r)=>{e&&!e(r)||(n.cancel(),t.push(r),I.delete(r))})),t}function te(e,t){if(p){return p(e,t.map((e=>function(e,t){let{route:n,pathname:r,params:o}=e;return{id:n.id,pathname:r,params:o,data:t[n.id],handle:n.handle}}(e,k.loaderData))))||e.key}return e.key}function ne(e,t){if(f){let n=te(e,t),r=f[n];if("number"==typeof r)return r}return null}return g={get basename(){return l},get state(){return k},get routes(){return s},initialize:function(){return d=e.history.listen((t=>{let{action:n,location:r,delta:o}=t;if(N)return void(N=!1);tr(0===B.size||null!=o,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let i=Q({currentLocation:k.location,nextLocation:r,historyAction:n});return i&&null!=o?(N=!0,e.history.go(-1*o),void Z(i,{state:"blocked",location:r,proceed(){Z(i,{state:"proceeding",proceed:void 0,reset:void 0,location:r}),e.history.go(o)},reset(){let e=new Map(k.blockers);e.set(i,Vr),W({blockers:e})}})):K(n,r)})),k.initialized||K(Xn.Pop,k.location),g},subscribe:function(e){return h.add(e),()=>h.delete(e)},enableScrollRestoration:function(e,t,n){if(f=e,v=t,p=n||null,!m&&k.navigation===jr){m=!0;let e=ne(k.location,k.matches);null!=e&&W({restoreScrollPosition:e})}return()=>{f=null,v=null,p=null}},navigate:function t(n,r){return c(this,null,(function*(){if("number"==typeof n)return void e.history.go(n);let o=Fr(k.location,k.matches,l,u.v7_prependBasename,n,null==r?void 0:r.fromRouteId,null==r?void 0:r.relative),{path:i,submission:a,error:s}=Gr(u.v7_normalizeFormMethod,!1,o,r),c=k.location,d=rr(k.location,i,r&&r.state);d=Jn({},d,e.history.encodeLocation(d));let h=r&&null!=r.replace?r.replace:void 0,f=Xn.Push;!0===h?f=Xn.Replace:!1===h||null!=a&&ho(a.formMethod)&&a.formAction===k.location.pathname+k.location.search&&(f=Xn.Replace);let p=r&&"preventScrollReset"in r?!0===r.preventScrollReset:void 0,v=Q({currentLocation:c,nextLocation:d,historyAction:f});if(!v)return yield K(f,d,{submission:a,pendingError:s,preventScrollReset:p,replace:r&&r.replace});Z(v,{state:"blocked",location:d,proceed(){Z(v,{state:"proceeding",proceed:void 0,reset:void 0,location:d}),t(n,r)},reset(){let e=new Map(k.blockers);e.set(v,Vr),W({blockers:e})}})}))},fetch:function(t,n,d,h){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");x.has(t)&&X(t);let f=i||s,p=Fr(k.location,k.matches,l,u.v7_prependBasename,d,n,null==h?void 0:h.relative),v=ur(f,p,l);if(!v)return void F(t,n,io(404,{pathname:p}));let{path:m,submission:y,error:b}=Gr(u.v7_normalizeFormMethod,!0,p,h);if(b)return void F(t,n,b);let g=mo(v,m);S=!0===(h&&h.preventScrollReset),y&&ho(y.formMethod)?function(t,n,r,u,d,h){c(this,null,(function*(){if(z(),D.delete(t),!u.route.action&&!u.route.lazy){let e=io(405,{method:h.formMethod,pathname:r,routeId:n});return void F(t,n,e)}let c=k.fetchers.get(t),f=function(e,t){let n={state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0," _hasFetcherDoneAnything ":!0};return n}(h,c);k.fetchers.set(t,f),W({fetchers:new Map(k.fetchers)});let p=new AbortController,v=Zr(e.history,r,p.signal,h);x.set(t,p);let m=O,y=yield Jr("action",v,u,d,a,o,l);if(v.signal.aborted)return void(x.get(t)===p&&x.delete(t));if(uo(y)){if(x.delete(t),T>m){let e=wo(void 0);return k.fetchers.set(t,e),void W({fetchers:new Map(k.fetchers)})}{_.add(t);let e=go(h);return k.fetchers.set(t,e),W({fetchers:new Map(k.fetchers)}),H(k,y,{submission:h,isFetchActionRedirect:!0})}}if(co(y))return void F(t,n,y.error);if(lo(y))throw io(400,{type:"defer-action"});let b=k.navigation.location||k.location,g=Zr(e.history,b,p.signal),E=i||s,S="idle"!==k.navigation.state?ur(E,k.navigation.location,l):k.matches;er(S,"Didn't find any matches after fetcher action");let M=++O;C.set(t,M);let B=go(h,y.data);k.fetchers.set(t,B);let[N,K]=Xr(e.history,k,S,h,b,P,L,R,D,_,E,l,{[u.route.id]:y.data},void 0);K.filter((e=>e.key!==t)).forEach((e=>{let t=e.key,n=k.fetchers.get(t),r=go(void 0,n?n.data:void 0);k.fetchers.set(t,r),x.has(t)&&X(t),e.controller&&x.set(t,e.controller)})),W({fetchers:new Map(k.fetchers)});let V=()=>K.forEach((e=>X(e.key)));p.signal.addEventListener("abort",V);let{results:G,loaderResults:Y,fetcherResults:$}=yield U(k.matches,S,N,K,g);if(p.signal.aborted)return;p.signal.removeEventListener("abort",V),C.delete(t),x.delete(t),K.forEach((e=>x.delete(e.key)));let J=ao(G);if(J){if(J.idx>=N.length){let e=K[J.idx-N.length].key;_.add(e)}return H(k,J.result)}let{loaderData:Z,errors:Q}=to(k,k.matches,N,Y,void 0,K,$,I);if(k.fetchers.has(t)){let e=wo(y.data);k.fetchers.set(t,e)}let ee=q(M);"loading"===k.navigation.state&&M>T?(er(A,"Expected pending action"),w&&w.abort(),j(k.navigation.location,{matches:S,loaderData:Z,errors:Q,fetchers:new Map(k.fetchers)})):(W(Jn({errors:Q,loaderData:no(k.loaderData,Z,S,Q)},ee||K.length>0?{fetchers:new Map(k.fetchers)}:{})),P=!1)}))}(t,n,m,g,v,y):(D.set(t,{routeId:n,path:m}),function(t,n,r,i,s,u){c(this,null,(function*(){let c=k.fetchers.get(t),d=go(u,c?c.data:void 0);k.fetchers.set(t,d),W({fetchers:new Map(k.fetchers)});let h=new AbortController,f=Zr(e.history,r,h.signal);x.set(t,h);let p=O,v=yield Jr("loader",f,i,s,a,o,l);if(lo(v)&&(v=(yield po(v,f.signal,!0))||v),x.get(t)===h&&x.delete(t),f.signal.aborted)return;if(uo(v)){if(T>p){let e=wo(void 0);return k.fetchers.set(t,e),void W({fetchers:new Map(k.fetchers)})}return _.add(t),void(yield H(k,v))}if(co(v)){let e=ro(k.matches,n);return k.fetchers.delete(t),void W({fetchers:new Map(k.fetchers),errors:{[e.route.id]:v.error}})}er(!lo(v),"Unhandled fetcher deferred data");let m=wo(v.data);k.fetchers.set(t,m),W({fetchers:new Map(k.fetchers)})}))}(t,n,m,g,v,y))},revalidate:function(){z(),W({revalidation:"loading"}),"submitting"!==k.navigation.state&&("idle"!==k.navigation.state?K(A||k.historyAction,k.navigation.location,{overrideNavigation:k.navigation}):K(k.historyAction,k.location,{startUninterruptedRevalidation:!0}))},createHref:t=>e.history.createHref(t),encodeLocation:t=>e.history.encodeLocation(t),getFetcher:V,deleteFetcher:G,dispose:function(){d&&d(),h.clear(),w&&w.abort(),k.fetchers.forEach(((e,t)=>G(t))),k.blockers.forEach(((e,t)=>J(t)))},getBlocker:function(e,t){let n=k.blockers.get(e)||Vr;return B.get(e)!==t&&B.set(e,t),n},deleteBlocker:J,_internalFetchControllers:x,_internalActiveDeferreds:I,_internalSetRoutes:function(e){a={},i=cr(e,o,void 0,a)}},g}function Fr(e,t,n,r,o,i,a){let s,l;if(null!=i&&"path"!==a){s=[];for(let e of t)if(s.push(e),e.route.id===i){l=e;break}}else s=t,l=t[t.length-1];let c=Lr(o||".",Pr(s).map((e=>e.pathnameBase)),Sr(e.pathname,n)||e.pathname,"path"===a);return null==o&&(c.search=e.search,c.hash=e.hash),null!=o&&""!==o&&"."!==o||!l||!l.route.index||vo(c.search)||(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r&&"/"!==n&&(c.pathname="/"===c.pathname?n:Rr([n,c.pathname])),or(c)}function Gr(e,t,n,r){if(!r||!function(e){return null!=e&&("formData"in e&&null!=e.formData||"body"in e&&void 0!==e.body)}(r))return{path:n};if(r.formMethod&&(o=r.formMethod,!Br.has(o.toLowerCase())))return{path:n,error:io(405,{method:r.formMethod})};var o;let i,a,s=()=>({path:n,error:io(400,{type:"invalid-body"})}),l=r.formMethod||"get",c=e?l.toUpperCase():l.toLowerCase(),u=so(n);if(void 0!==r.body){if("text/plain"===r.formEncType){if(!ho(c))return s();let e="string"==typeof r.body?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce(((e,t)=>{let[n,r]=t;return""+e+n+"="+r+"\n"}),""):String(r.body);return{path:n,submission:{formMethod:c,formAction:u,formEncType:r.formEncType,formData:void 0,json:void 0,text:e}}}if("application/json"===r.formEncType){if(!ho(c))return s();try{let e="string"==typeof r.body?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:c,formAction:u,formEncType:r.formEncType,formData:void 0,json:e,text:void 0}}}catch(e){return s()}}}if(er("function"==typeof FormData,"FormData is not available in this environment"),r.formData)i=Qr(r.formData),a=r.formData;else if(r.body instanceof FormData)i=Qr(r.body),a=r.body;else if(r.body instanceof URLSearchParams)i=r.body,a=eo(i);else if(null==r.body)i=new URLSearchParams,a=new FormData;else try{i=new URLSearchParams(r.body),a=eo(i)}catch(e){return s()}let d={formMethod:c,formAction:u,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:a,json:void 0,text:void 0};if(ho(d.formMethod))return{path:n,submission:d};let h=ir(n);return t&&h.search&&vo(h.search)&&i.append("index",""),h.search="?"+i,{path:or(h),submission:d}}function Xr(e,t,n,r,o,i,a,s,l,c,u,d,h,f){let p=f?Object.values(f)[0]:h?Object.values(h)[0]:void 0,v=e.createURL(t.location),m=e.createURL(o),y=f?Object.keys(f)[0]:void 0,b=function(e,t){let n=e;if(t){let r=e.findIndex((e=>e.route.id===t));r>=0&&(n=e.slice(0,r))}return n}(n,y),g=b.filter(((e,n)=>{if(e.route.lazy)return!0;if(null==e.route.loader)return!1;if(function(e,t,n){let r=!t||n.route.id!==t.route.id,o=void 0===e[n.route.id];return r||o}(t.loaderData,t.matches[n],e)||a.some((t=>t===e.route.id)))return!0;let o=t.matches[n],s=e;return $r(e,Jn({currentUrl:v,currentParams:o.params,nextUrl:m,nextParams:s.params},r,{actionResult:p,defaultShouldRevalidate:i||v.pathname+v.search===m.pathname+m.search||v.search!==m.search||Yr(o,s)}))})),w=[];return l.forEach(((e,o)=>{if(!n.some((t=>t.route.id===e.routeId)))return;let a=ur(u,e.path,d);if(!a)return void w.push({key:o,routeId:e.routeId,path:e.path,matches:null,match:null,controller:null});let l=t.fetchers.get(o),h=mo(a,e.path),f=!1;f=!c.has(o)&&(!!s.includes(o)||(l&&"idle"!==l.state&&void 0===l.data?i:$r(h,Jn({currentUrl:v,currentParams:t.matches[t.matches.length-1].params,nextUrl:m,nextParams:n[n.length-1].params},r,{actionResult:p,defaultShouldRevalidate:i})))),f&&w.push({key:o,routeId:e.routeId,path:e.path,matches:a,match:h,controller:new AbortController})})),[g,w]}function Yr(e,t){let n=e.route.path;return e.pathname!==t.pathname||null!=n&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function $r(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if("boolean"==typeof n)return n}return t.defaultShouldRevalidate}function qr(e,t,n){return c(this,null,(function*(){if(!e.lazy)return;let r=yield e.lazy();if(!e.lazy)return;let o=n[e.id];er(o,"No route found in manifest");let i={};for(let e in r){let t=void 0!==o[e]&&"hasErrorBoundary"!==e;tr(!t,'Route "'+o.id+'" has a static property "'+e+'" defined but its lazy function is also returning a value for this property. The lazy route property "'+e+'" will be ignored.'),t||lr.has(e)||(i[e]=r[e])}Object.assign(o,i),Object.assign(o,Jn({},t(o),{lazy:void 0}))}))}function Jr(e,t,n,r,o,i,a,s){return c(this,null,(function*(){let l,c,u;void 0===s&&(s={});let d=e=>{let r,o=new Promise(((e,t)=>r=t));return u=()=>r(),t.signal.addEventListener("abort",u),Promise.race([e({request:t,params:n.params,context:s.requestContext}),o])};try{let r=n.route[e];if(n.route.lazy)if(r){c=(yield Promise.all([d(r),qr(n.route,i,o)]))[0]}else{if(yield qr(n.route,i,o),r=n.route[e],!r){if("action"===e){let e=new URL(t.url),r=e.pathname+e.search;throw io(405,{method:t.method,pathname:r,routeId:n.route.id})}return{type:ar.data,data:void 0}}c=yield d(r)}else{if(!r){let e=new URL(t.url);throw io(404,{pathname:e.pathname+e.search})}c=yield d(r)}er(void 0!==c,"You defined "+("action"===e?"an action":"a loader")+' for route "'+n.route.id+"\" but didn't return anything from your `"+e+"` function. Please return a value or `null`.")}catch(e){l=ar.error,c=e}finally{u&&t.signal.removeEventListener("abort",u)}if(null!=(h=c)&&"number"==typeof h.status&&"string"==typeof h.statusText&&"object"==typeof h.headers&&void 0!==h.body){let e,o=c.status;if(Nr.has(o)){let e=c.headers.get("Location");if(er(e,"Redirects returned/thrown from loaders/actions must have a Location header"),Hr.test(e)){if(!s.isStaticRequest){let n=new URL(t.url),r=e.startsWith("//")?new URL(n.protocol+e):new URL(e),o=null!=Sr(r.pathname,a);r.origin===n.origin&&o&&(e=r.pathname+r.search+r.hash)}}else e=Fr(new URL(t.url),r.slice(0,r.indexOf(n)+1),a,!0,e);if(s.isStaticRequest)throw c.headers.set("Location",e),c;return{type:ar.redirect,status:o,location:e,revalidate:null!==c.headers.get("X-Remix-Revalidate"),reloadDocument:null!==c.headers.get("X-Remix-Reload-Document")}}if(s.isRouteRequest){throw{type:l===ar.error?ar.error:ar.data,response:c}}let i=c.headers.get("Content-Type");return e=i&&/\bapplication\/json\b/.test(i)?yield c.json():yield c.text(),l===ar.error?{type:l,error:new Cr(o,c.statusText,e),headers:c.headers}:{type:ar.data,data:e,statusCode:c.status,headers:c.headers}}var h,f,p;return l===ar.error?{type:l,error:c}:function(e){let t=e;return t&&"object"==typeof t&&"object"==typeof t.data&&"function"==typeof t.subscribe&&"function"==typeof t.cancel&&"function"==typeof t.resolveData}(c)?{type:ar.deferred,deferredData:c,statusCode:null==(f=c.init)?void 0:f.status,headers:(null==(p=c.init)?void 0:p.headers)&&new Headers(c.init.headers)}:{type:ar.data,data:c}}))}function Zr(e,t,n,r){let o=e.createURL(so(t)).toString(),i={signal:n};if(r&&ho(r.formMethod)){let{formMethod:e,formEncType:t}=r;i.method=e.toUpperCase(),"application/json"===t?(i.headers=new Headers({"Content-Type":t}),i.body=JSON.stringify(r.json)):"text/plain"===t?i.body=r.text:"application/x-www-form-urlencoded"===t&&r.formData?i.body=Qr(r.formData):i.body=r.formData}return new Request(o,i)}function Qr(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,"string"==typeof r?r:r.name);return t}function eo(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function to(e,t,n,r,o,i,a,s){let{loaderData:l,errors:c}=function(e,t,n,r,o){let i,a={},s=null,l=!1,c={};return n.forEach(((n,u)=>{let d=t[u].route.id;if(er(!uo(n),"Cannot handle redirect results in processLoaderData"),co(n)){let t=ro(e,d),o=n.error;r&&(o=Object.values(r)[0],r=void 0),s=s||{},null==s[t.route.id]&&(s[t.route.id]=o),a[d]=void 0,l||(l=!0,i=function(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}(n.error)?n.error.status:500),n.headers&&(c[d]=n.headers)}else lo(n)?(o.set(d,n.deferredData),a[d]=n.deferredData.data):a[d]=n.data,null==n.statusCode||200===n.statusCode||l||(i=n.statusCode),n.headers&&(c[d]=n.headers)})),r&&(s=r,a[Object.keys(r)[0]]=void 0),{loaderData:a,errors:s,statusCode:i||200,loaderHeaders:c}}(t,n,r,o,s);for(let t=0;t<i.length;t++){let{key:n,match:r,controller:o}=i[t];er(void 0!==a&&void 0!==a[t],"Did not find corresponding fetcher result");let s=a[t];if(!o||!o.signal.aborted)if(co(s)){let t=ro(e.matches,null==r?void 0:r.route.id);c&&c[t.route.id]||(c=Jn({},c,{[t.route.id]:s.error})),e.fetchers.delete(n)}else if(uo(s))er(!1,"Unhandled fetcher revalidation redirect");else if(lo(s))er(!1,"Unhandled fetcher deferred data");else{let t=wo(s.data);e.fetchers.set(n,t)}}return{loaderData:l,errors:c}}function no(e,t,n,r){let o=Jn({},t);for(let i of n){let n=i.route.id;if(t.hasOwnProperty(n)?void 0!==t[n]&&(o[n]=t[n]):void 0!==e[n]&&i.route.loader&&(o[n]=e[n]),r&&r.hasOwnProperty(n))break}return o}function ro(e,t){return(t?e.slice(0,e.findIndex((e=>e.route.id===t))+1):[...e]).reverse().find((e=>!0===e.route.hasErrorBoundary))||e[0]}function oo(e){let t=e.find((e=>e.index||!e.path||"/"===e.path))||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function io(e,t){let{pathname:n,routeId:r,method:o,type:i}=void 0===t?{}:t,a="Unknown Server Error",s="Unknown @remix-run/router error";return 400===e?(a="Bad Request",o&&n&&r?s="You made a "+o+' request to "'+n+'" but did not provide a `loader` for route "'+r+'", so there is no way to handle the request.':"defer-action"===i?s="defer() is not supported in actions":"invalid-body"===i&&(s="Unable to encode submission body")):403===e?(a="Forbidden",s='Route "'+r+'" does not match URL "'+n+'"'):404===e?(a="Not Found",s='No route matches URL "'+n+'"'):405===e&&(a="Method Not Allowed",o&&n&&r?s="You made a "+o.toUpperCase()+' request to "'+n+'" but did not provide an `action` for route "'+r+'", so there is no way to handle the request.':o&&(s='Invalid request method "'+o.toUpperCase()+'"')),new Cr(e||500,a,new Error(s),!0)}function ao(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(uo(n))return{result:n,idx:t}}}function so(e){return or(Jn({},"string"==typeof e?ir(e):e,{hash:""}))}function lo(e){return e.type===ar.deferred}function co(e){return e.type===ar.error}function uo(e){return(e&&e.type)===ar.redirect}function ho(e){return Dr.has(e.toLowerCase())}function fo(e,t,n,r,o,i){return c(this,null,(function*(){for(let a=0;a<n.length;a++){let s=n[a],l=t[a];if(!l)continue;let c=e.find((e=>e.route.id===l.route.id)),u=null!=c&&!Yr(c,l)&&void 0!==(i&&i[l.route.id]);if(lo(s)&&(o||u)){let e=r[a];er(e,"Expected an AbortSignal for revalidating fetcher deferred result"),yield po(s,e,o).then((e=>{e&&(n[a]=e||n[a])}))}}}))}function po(e,t,n){return c(this,null,(function*(){if(void 0===n&&(n=!1),!(yield e.deferredData.resolveData(t))){if(n)try{return{type:ar.data,data:e.deferredData.unwrappedData}}catch(e){return{type:ar.error,error:e}}return{type:ar.data,data:e.deferredData.data}}}))}function vo(e){return new URLSearchParams(e).getAll("index").some((e=>""===e))}function mo(e,t){let n="string"==typeof t?ir(t).search:t.search;if(e[e.length-1].route.index&&vo(n||""))return e[e.length-1];let r=Pr(e);return r[r.length-1]}function yo(e){let{formMethod:t,formAction:n,formEncType:r,text:o,formData:i,json:a}=e;if(t&&n&&r)return null!=o?{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:o}:null!=i?{formMethod:t,formAction:n,formEncType:r,formData:i,json:void 0,text:void 0}:void 0!==a?{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:a,text:void 0}:void 0}function bo(e,t){if(t){return{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}return{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function go(e,t){if(e){return{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t," _hasFetcherDoneAnything ":!0}}return{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t," _hasFetcherDoneAnything ":!0}}function wo(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e," _hasFetcherDoneAnything ":!0}}const Eo=u.createContext(null),ko=u.createContext(null),Ao=u.createContext({popout:null}),So=u.createContext({enabled:!1,firstActionDelay:0,interval:0}),Mo="showModal",Po="showPopout",Lo="blockForward",Ro="inflate";function xo(e){var t,n;return null!=(n=null==(t=null==e?void 0:e.match(/\/:[^\/]+/g))?void 0:t.map((e=>e.replace("/",""))))?n:[]}function Oo(e,t){return xo(e).reduce(((n,r)=>{const o=r.replace(":","");if(!t[o])throw new Error(`Missing parameter ${o} while building route ${e}`);return n.replace(r,t[o])}),e)}function To(e,t=[]){return{state:e,match:e.matches.length?e.matches[e.matches.length-1]:void 0,panelsHistory:t}}function Co(e){return e.state&&Mo in e.state}function _o(e){return e.state&&Po in e.state}function Do(){return Math.random().toString(36).substring(2,9)}function Io(e){const t={keepSearchParams:!0};return Object.keys(e).some((e=>e in t))}class Bo{constructor(e){this.actions=e,this.pointer=0,this.resolve=()=>{},this.reject=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}get isMultiAction(){return this.actions.length>1}get donePromise(){return this.promise}get finished(){return this.pointer>=this.actions.length}doNext(){this.finished||(this.actions[this.pointer](),this.pointer+=1),this.finished&&this.resolve()}}class No{constructor(e,t,n,r){this.viewHistory=t,this.transactionExecutor=n,this.router=e,this.setPopout=r}push(e){return c(this,arguments,(function*(e,t={},n={}){var r;const o=Io(t),i=l(s({},o?t:n),{replace:Boolean(null==(r=this.router.state.location.state)?void 0:r[Lo])}),a=o?{}:t;yield this.navigate(e,i,a)}))}replace(e){return c(this,arguments,(function*(e,t={},n={}){const r=Io(t),o=r?t:n,i=r?{}:t;yield this.navigate(e,l(s({},o),{replace:!0}),i)}))}back(e=1){return c(this,null,(function*(){0!==e&&(yield this.go(-Math.abs(e)))}))}backToFirst(){return c(this,null,(function*(){this.viewHistory.position>0?yield this.go(-this.viewHistory.position):yield this.transactionExecutor.doNext()}))}go(e){return c(this,null,(function*(){0===e?yield this.transactionExecutor.doNext():yield this.router.navigate(e)}))}runSync(e){const t=new Bo(e);return this.transactionExecutor.add(t),this.transactionExecutor.doNext(),t.donePromise}showModal(e){return c(this,null,(function*(){yield this.router.navigate(this.router.state.location,{state:{[Mo]:e,[Lo]:!0},replace:Co(this.router.state.location)})}))}hideModal(e=!1){return c(this,null,(function*(){if(!e&&!this.viewHistory.isFirstPage||Co(this.router.state.location))yield this.router.navigate(-1);else{const e=this.router.state.matches.find((e=>"modal"in e.route));if(e){const t=e.route,n=function(e,t){const n=e.route;function r(t){return Object.keys(e.params).map((e=>{var n;return Number(Boolean(null==(n=t.path)?void 0:n.includes(`:${e}`)))})).reduce(((e,t)=>e+t),0)}const o=t.routes.filter((t=>{const r=t,o=xo(r.path).map((e=>e.replace(":","")));return!r.modal&&r.tab===n.tab&&r.panel===n.panel&&r.view===n.view&&r.root===n.root&&o.every((t=>Object.keys(e.params).includes(t)))})).sort(((e,t)=>r(e)-r(t))).pop();return o&&Oo(o.path,e.params)}(e,this.router);if(!n){const e=t.root?`root: ${t.root} `:"";throw new Error(`There is no route registered for panel with ${e}, view: ${t.view}, panel: ${t.panel}.\nMake sure this route exists or use hideModal with pushPanel set to false.`)}yield this.navigate(n,{keepSearchParams:!0})}else yield this.transactionExecutor.doNext()}}))}showPopout(e){return c(this,null,(function*(){this.setPopout(e);const t={[Po]:Do(),[Lo]:!0};Co(this.router.state.location)&&(t[Mo]=this.router.state.location.state[Mo]);const n=Co(this.router.state.location)||_o(this.router.state.location);yield this.router.navigate(this.router.state.location,{state:t,replace:n})}))}hidePopout(){return c(this,null,(function*(){_o(this.router.state.location)?(this.setPopout(null),Co(this.router.state.location)?yield this.router.navigate(this.router.state.location,{state:{[Lo]:!0,[Mo]:this.router.state.location.state[Mo]},replace:!0}):yield this.router.navigate(-1)):yield this.transactionExecutor.doNext()}))}navigate(e,t){return c(this,arguments,(function*(e,t,n={}){let r="string"==typeof e?e:e.hasParams?Oo(e.path,n):e.path;(null==t?void 0:t.keepSearchParams)&&(r+=this.router.state.location.search),yield this.router.navigate(r,t)}))}}const Wo={background:"#3f5d81 url(https://vk.com/images/error404.png) no-repeat 50% 50%",width:"100%",height:"100%",overflow:"hidden",margin:"0",cursor:"pointer",backgroundSize:"contain"};function jo({routeNavigator:e}){return M.jsx("div",{onClick:()=>e.replace("/"),className:"default-not-found",style:Wo})}class Ko{constructor(){this.history=[],this.positionInternal=-1}updateNavigation(e){const t=this.getViewRecordFromState(e);if(t)switch(e.historyAction){case Xn.Push:this.push(t);break;case Xn.Pop:this.hasKey(t.locationKey)?this.pop(t):this.push(t);break;case Xn.Replace:this.replace(t)}}get isFirstPage(){return this.positionInternal<1}get panelsHistory(){if(this.positionInternal<0)return[];const e=this.history[this.positionInternal].view,t=this.history.slice(0,this.positionInternal+1).reverse(),n=t.findIndex((t=>t.view!==e));return t.slice(0,n>-1?n:t.length).filter((e=>!e.modal&&!e.popout)).reverse().map((({panel:e})=>e))}get position(){return this.positionInternal}isPopForward(e,t){const n=this.history.findIndex((({locationKey:e})=>e===t));return e===Xn.Pop&&n>this.position}isPopBackward(e,t){const n=this.history.findIndex((({locationKey:e})=>e===t));return e===Xn.Pop&&n<=this.position}resetHistory(){this.positionInternal=-1,this.history=[]}push(e){this.history=this.history.slice(0,this.positionInternal+1),this.history.push(e),this.positionInternal=this.history.length-1}replace(e){this.history[this.positionInternal]=e}pop(e){this.positionInternal=this.history.findIndex((({locationKey:t})=>t===e.locationKey))}hasKey(e){return Boolean(this.history.find((({locationKey:t})=>t===e)))}getViewRecordFromState(e){var t;const n=To(e);if(!n.match)return;const{route:r}=n.match;return{view:r.view,panel:r.panel,modal:"modal"in r?r.modal:void 0,popout:null==(t=e.location.state)?void 0:t[Po],locationKey:e.location.key}}}let Vo=0;const Ho=[];class Uo{constructor(e){this.forceUpdate=e,this.transactions=[]}get initialDelay(){return this.transactions.length>1||this.transactions.length>0&&this.transactions[0].isMultiAction?100:0}add(e){this.transactions.push(e),this.forceUpdate()}doNext(){return c(this,null,(function*(){setTimeout((()=>{this.transactions.length&&(this.transactions[0].doNext(),this.transactions[0].finished&&this.transactions.shift())}))}))}}function zo(e=""){const t="string"==typeof e||Array.isArray(e)||e instanceof URLSearchParams;return new URLSearchParams(t?e:function(e){return Object.keys(e).reduce(((t,n)=>{const r=e[n];return t.concat(Array.isArray(r)?r.map((e=>[n,e])):[[n,r]])}),[])}(e))}function Fo(e,t){return e.map((e=>{const n=l(s({},e),{parents:t});return e.children?Fo(e.children,[...t,n]):n})).flat()}function Go(e,t,n,r){var o,i,a;const s=Fo(e,[]),l=n.state.location,c=null!=(i=null==(o=n.match)?void 0:o.params)?i:{},u=null==(a=n.match)?void 0:a.route.path,d=s.find((e=>e.path===u));if(!d)return;const h=d.parents.map((({path:e})=>Oo(e,c)));setTimeout((()=>{if(h.length){const e=zo(l.search);e.delete(Ro);const n=e.toString().length>0?`?${e.toString()}`:"",o=`${l.pathname}${n}${l.hash}`,i=h.shift(),a=[()=>t.replace(i),...h.map((e=>()=>t.push(e))),()=>t.push(o)],s=new Bo(a);r.add(s),r.doNext()}}))}function Xo({router:e,children:t,useBridge:n=!0,notFound:r,throttled:o=!0,interval:i=400,hierarchy:a}){var c;const d=function(){const[,e]=u.useState(0);return()=>{e(Date.now())}}(),[h,f]=u.useState(null),[p]=u.useState(new Ko),[v,m]=u.useState([]),[y,b]=u.useState(new Uo(d)),g=null==(c=e.state.location.state)?void 0:c[Po],w=u.useMemo((()=>{const t=new No(e,p,y,f);return{router:e,routeNavigator:t,viewHistory:p}}),[e,p,y,f]),E=u.useMemo((()=>({enabled:o||Boolean(y.initialDelay),firstActionDelay:y.initialDelay,interval:i})),[y.initialDelay,i,o]),k=u.useMemo((()=>To(e.state,v)),[e.state,v]),A=u.useMemo((()=>({popout:g?h:null})),[g,h]);!function(e,t){const[n]=u.useState((()=>String(++Vo))),r=u.useCallback((({historyAction:e,nextLocation:n})=>{var r;const o=t.isPopForward(e,n.key)&&"default"!==n.key;return Boolean(o&&(null==(r=n.state)?void 0:r[Lo]))}),[t]),o=e.getBlocker(n,r);u.useEffect((()=>(e.subscribe((n=>{var r,o,i,a,l,c,u;const d=n.location.key;if(t.isPopBackward(n.historyAction,d)&&(null==(r=n.location.state)?void 0:r[Lo])&&!Ho.includes(d)){Ho.push(d);const t=s({},window.history.state);(null==(o=t.usr)?void 0:o[Mo])&&(t.usr=s({},t.usr),null==(i=t.usr)||delete i[Mo],null==(a=t.usr)||delete a[Lo]),(null==(l=t.usr)?void 0:l[Po])&&(t.usr=s({},t.usr),null==(c=t.usr)||delete c[Po],null==(u=t.usr)||delete u[Lo]),window.history.replaceState(t,""),e.navigate(-1).then((()=>Ho.splice(Ho.findIndex((e=>e===d)),1)))}})),()=>e.deleteBlocker(n))),[e,n,t])}(e,p),u.useEffect((()=>{p.resetHistory(),p.updateNavigation(l(s({},e.state),{historyAction:Xn.Push})),m(p.panelsHistory),e.subscribe((e=>{p.updateNavigation(e),m(p.panelsHistory),y.doNext()})),n&&(Je.subscribe((t=>{"VKWebAppChangeFragment"===t.detail.type&&e.navigate(t.detail.data.location,{replace:!0})})),e.subscribe((t=>{const n=e.createHref(t.location).replace(/^#/,"");Je.send("VKWebAppSetLocation",{location:n,replace_state:!0})})))}),[e]),u.useEffect((()=>{const t=new Uo(d);b(t);const n=zo(e.state.location.search),r=Boolean(n.get(Ro));a&&r&&Go(a,w.routeNavigator,k,t)}),[e]);const S=Boolean(!k.match||k.state.errors&&k.state.errors[k.match.route.id]&&404===k.state.errors[k.match.route.id].status);return M.jsx(Eo.Provider,{value:w,children:M.jsx(So.Provider,{value:E,children:M.jsxs(Ao.Provider,{value:A,children:[S&&(r||M.jsx(jo,{routeNavigator:w.routeNavigator})),!S&&M.jsx(ko.Provider,{value:k,children:t})]})})})}const Yo=()=>{};function $o(e){const{enabled:t,interval:n,firstActionDelay:r}=u.useContext(So),o=u.useRef(null),i=u.useContext(e),a=u.useRef(0),s=u.useRef(0),l=u.useRef(null),[c,d]=u.useState(i);if(!t){const e=o.current;return o.current=i,[i,e,Yo]}u.useEffect((()=>{const e=Date.now()-a.current,t=n-e,o=t<=0?r:0,c=Math.max(o,t);return c<=0?(a.current=Date.now(),d(i)):(clearTimeout(s.current),l.current=()=>{l.current=null,a.current=Date.now(),d(i)},s.current=setTimeout(l.current,c)),()=>clearTimeout(s.current)}),[i]);const h=u.useCallback((()=>(a.current=0,l.current&&(clearTimeout(s.current),s.current=setTimeout(l.current,1)),()=>clearTimeout(s.current))),[]),f=o.current;return o.current=c,[c,f,h]}function qo(){const[e]=$o(Eo);return er(e,"You can not use useNavigator hook outside of RouterContext. Make sure calling it inside RouterProvider."),e.routeNavigator}function Jo(){const[e]=$o(ko);return er(e,"You can not use useLocation hook outside of RouteContext. Make sure calling it inside RouterProvider."),e.state.location}function Zo(){const[e]=$o(Ao);return e.popout}function Qo(e,{relative:t}={}){const{router:{state:{matches:n}}}=u.useContext(Eo),{pathname:r}=Jo(),o=JSON.stringify(Pr(n).map((e=>e.pathnameBase)));return u.useMemo((()=>Lr(e,JSON.parse(o),r,"path"===t)),[e,o,r,t])}function ei(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return Boolean(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}const ti=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ni="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;u.forwardRef((function(e,t){var n=e,{to:a,relative:c,replace:d,target:h,reloadDocument:f,onClick:p}=n,v=((e,t)=>{var n={};for(var a in e)o.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&r)for(var a of r(e))t.indexOf(a)<0&&i.call(e,a)&&(n[a]=e[a]);return n})(n,["to","relative","replace","target","reloadDocument","onClick"]);let m,y=!1;if("string"==typeof a&&ti.test(a)&&(m=a,ni)){const e=new URL(window.location.href),t=a.startsWith("//")?new URL(e.protocol+a):new URL(a),n=t.pathname;t.origin===e.origin?a=n+t.search+t.hash:y=!0}const b=function(e,{relative:t}={}){const n=u.useContext(Eo);er(n,"You can not use useHref hook outside of RouteContext. Make sure calling it inside RouterProvider.");const{hash:r,pathname:o,search:i}=Qo(e,{relative:t});return n.router.createHref({pathname:o,search:i,hash:r})}(a,{relative:c}),g=function(e,{target:t,replace:n,preventScrollReset:r,relative:o}={}){const i=qo(),a=Jo(),s=Qo(e,{relative:o});return u.useCallback((e=>{if(ei(e,t)){e.preventDefault();const t=or(s);(void 0!==n?n:or(a)===t)?i.replace(t):i.push(t)}}),[a,i,s,n,t,e,r,o])}(a,{replace:d,target:h,relative:c});return M.jsx(In,l(s({},v),{href:m||b,onClick:y||f?p:function(e){p&&p(e),e.defaultPrevented||g(e)},ref:t,target:h}))}));class ri{constructor(e){this._value=e}static init(e){ri._instance||(ri._instance=new ri(e))}static get value(){var e;return null==(e=ri._instance)?void 0:e._value}}const oi={display:"flex",margin:"auto",height:"100vh",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center"},ii={padding:"0px 8px",fontFamily:"Roboto, sans-serif",fontSize:80,color:"rgb(63, 138, 224)",background:"rgba(63, 138, 224, 0.08)",borderRadius:8,marginBottom:40},ai=()=>{const e=qo();return M.jsx(On,{appearance:"dark",children:M.jsx(Xt,{children:M.jsxs(Un,{style:oi,children:[M.jsx("h1",{style:ii,children:"404"}),M.jsx(An,{onClick:()=>e.replace("/"),size:"l",mode:"outline",appearance:"accent-invariable",style:{padding:10},children:M.jsx("span",{style:{fontSize:"1.5em"},children:"На главную"})})]})})})},si=({size:e,mode:t})=>{switch(t){case"panel":return M.jsx(zn,{size:e});case"screen":return M.jsx(Dn,{size:e});default:return M.jsx(En,{size:e})}},li=({children:e,size:t="regular",id:n,mode:r})=>M.jsx(u.Suspense,{fallback:M.jsx(si,{size:t,mode:r}),children:e},n),ci="about-fullstack",ui="profile",di="contacts",hi="projects",fi="stack",pi=function(e){window.addEventListener("popstate",(e=>{e.state||window.history.replaceState({key:Do()},"")}));const t=Qn();return ri.init(t.location),zr({history:t,routes:e.map((e=>l(s({},e),{index:!0})))}).initialize()}([{path:"/",panel:ui,view:ui},{path:ci,panel:ui,view:ui,modal:ci},{path:`profile/${ci}`,panel:ui,view:ui,modal:ci},{path:"/profile",panel:ui,view:ui},{path:"/contacts",panel:di,view:di},{path:"/projects",panel:hi,view:hi},{path:"/stack",panel:fi,view:fi}]),vi=u.lazy((()=>p((()=>import("./App-e440e7c4.js").then((e=>e.A))),["assets/App-e440e7c4.js","assets/react-37698f52.js"])));S(document.getElementById("root")).render(M.jsx(qn,{appearance:"light",children:M.jsx(Wn,{children:M.jsxs(Xo,{router:pi,notFound:M.jsx(ai,{}),children:[M.jsxs(li,{id:"app",children:[M.jsx(vi,{})," "]}),","]})})}));export{Kt as $,ge as A,Z as B,Sn as C,$o as D,Zo as E,Mo as F,p as G,qo as H,M as I,Xt as J,ui as K,he as L,I as M,qt as N,ve as O,Ze as P,wn as Q,ko as R,Ot as S,gn as T,ln as U,Dt as V,rt as W,fi as X,hi as Y,di as Z,ee as _,Pt as a,K as a0,li as a1,Qt as a2,vt as a3,yt as a4,ft as a5,_ as a6,C as a7,st as a8,J as a9,W as aa,an as ab,Nt as ac,cn as ad,B as ae,zt as af,ci as ag,Un as ah,Vt as ai,An as aj,V as ak,$t as al,bt as am,In as an,Rt as b,ie as c,D as d,R as e,L as f,Zt as g,Jt as h,te as i,q as j,gt as k,ut as l,lt as m,tt as n,_t as o,x as p,Mn as q,Pn as r,X as s,Y as t,we as u,Bt as v,ct as w,Yt as x,On as y,It as z};

var e=Object.defineProperty,a=Object.defineProperties,r=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,n=(a,r,o)=>r in a?e(a,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):a[r]=o;import{j as i}from"./index-0557fdb9.js";import{r as s}from"./react-37698f52.js";import{N as c,c as d,p as m,F as p}from"./AppWrapper-5480904f.js";import{S as u}from"./Subhead-0e08a54b.js";import{V as f,P as v}from"./index-1a502444.js";import{P as g,G as h}from"./Group-c804217c.js";import{H as j}from"./Header-ce9acdde.js";import{C as y}from"./Cell-baf38dbe.js";import{S as w}from"./SimpleCell-2d65d15f.js";import{a as x}from"./App-8bfc4f78.js";import"./useWaitTransitionFinish-8b3842da.js";import"./PanelHeaderButton-2bb0551e.js";import"./Footnote-d47a7109.js";import"./Headline-ea4c0c9e.js";var b=c("Icon28ClearDataOutline","clear_data_outline_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" id="clear_data_outline_28"><g fill="none" fill-rule="evenodd"><path d="M28 0H0v28h28z" /><g fill-rule="nonzero"><path d="M0 0h28v28H0z" /><path fill="currentColor" d="M25.207 2.793a1 1 0 0 1 0 1.414l-2.191 2.191a5 5 0 0 1-.636 6.292l-.374.374c.348 4.356-1.192 8.26-4.575 11.643a1 1 0 0 1-.97.258c-2.775-.757-5.513-2.5-8.22-5.206-2.707-2.707-4.449-5.445-5.206-8.22a1 1 0 0 1 .258-.97c3.383-3.383 7.286-4.922 11.642-4.575l.375-.374a5 5 0 0 1 6.29-.636l2.193-2.191a1 1 0 0 1 1.414 0Zm-5.2 10.352-5.152-5.152-.371-.026c-3.462-.2-6.56.99-9.352 3.604.735 2.228 2.237 4.488 4.523 6.774 2.286 2.286 4.546 3.788 6.774 4.523 2.707-2.89 3.887-6.111 3.577-9.723Zm.959-6.11a3 3 0 0 0-4.242 0l4.242 4.24a3 3 0 0 0 0-4.24Z" /></g></g></symbol>',28,28,!1,void 0),_=c("Icon28MoonOutline","moon_outline_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" id="moon_outline_28"><g fill="none" fill-rule="nonzero"><path d="M0 0h28v28H0z" /><path fill="currentColor" d="M24.166 15.685a1 1 0 0 1 1.277 1.275c-.569 1.614-1.445 3.046-2.632 4.229-4.418 4.418-11.58 4.417-15.997 0-4.419-4.417-4.419-11.58 0-15.998C8 4.006 9.431 3.129 11.042 2.559a1 1 0 0 1 1.276 1.277c-1.194 3.372-.394 7.133 2.16 9.69 2.554 2.553 6.317 3.353 9.688 2.16Zm-11.102-.746a11.25 11.25 0 0 1-3.163-9.643c-.61.37-1.17.806-1.673 1.309-3.637 3.637-3.637 9.534 0 13.17a9.311 9.311 0 0 0 13.17-.002 8.75 8.75 0 0 0 1.31-1.671 11.247 11.247 0 0 1-9.644-3.163Z" /></g></symbol>',28,28,!1,void 0),C=c("Icon28SunOutline","sun_outline_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 28 28" id="sun_outline_28"><g fill="currentColor"><path d="M15 2a1 1 0 1 0-2 0v3a1 1 0 1 0 2 0zM15 23a1 1 0 1 0-2 0v3a1 1 0 1 0 2 0zM23.892 20.866a1 1 0 1 0 1-1.732l-2.598-1.5a1 1 0 1 0-1 1.732zM5.706 10.366a1 1 0 1 0 1-1.732l-2.598-1.5a1 1 0 0 0-1 1.732zM2.742 20.5a1 1 0 0 1 .366-1.366l2.598-1.5a1 1 0 1 1 1 1.732l-2.598 1.5a1 1 0 0 1-1.366-.366zM20.928 10a1 1 0 0 1 .366-1.366l2.598-1.5a1 1 0 1 1 1 1.732l-2.598 1.5A1 1 0 0 1 20.928 10z" /><path fill-rule="evenodd" d="M14 8.031a5.969 5.969 0 1 0 0 11.938A5.969 5.969 0 0 0 14 8.03zM9.992 14c0-2.355 1.653-4.008 4.008-4.008s4.016 1.653 4.016 4.008-1.661 4-4.016 4-4.008-1.645-4.008-4z" clip-rule="evenodd" /></g></symbol>',28,28,!1,void 0);const k="_CellButton_1yciy_1",O="_CellButton--centered_1yciy_29",M="_CellButton--mode-danger_1yciy_51",S=e=>{var i,c,m=e,{centered:p=!1,mode:u="primary",className:f}=m,v=((e,a)=>{var r={};for(var n in e)t.call(e,n)&&a.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&o)for(var n of o(e))a.indexOf(n)<0&&l.call(e,n)&&(r[n]=e[n]);return r})(m,["centered","mode","className"]);return s.createElement(w,(i=((e,a)=>{for(var r in a||(a={}))t.call(a,r)&&n(e,r,a[r]);if(o)for(var r of o(a))l.call(a,r)&&n(e,r,a[r]);return e})({stopPropagation:!0},v),c={className:d(k,"vkuiInternalCellButton","danger"===u&&d(M,"vkuiInternalCellButton--mode-danger"),p&&O,f)},a(i,r(c))))},z=({toggleAppearance:e})=>{const a="light"===m()?i.jsx(_,{}):i.jsx(C,{});return i.jsx(S,{onClick:()=>{e(),window.dispatchEvent(new Event("themeChanged"))},"aria-label":"Сменить тему",before:a,children:"Сменить тему"})},B=e=>{if(e.startsWith("orientation")){return`Ориентация ${e.replace("orientation","").toLowerCase()}`}return"theme"===e?"Тема":e},E=({id:e,toggleAppearance:a})=>{const{panel:r,panelsHistory:o}=x(),t=p(),[l,n]=s.useState([]);s.useEffect((()=>{const e=Object.keys(localStorage).map((e=>({key:e,value:localStorage.getItem(e)||"false"})));n(e)}),[]),s.useEffect((()=>{const e=e=>{e.key&&n((a=>a.map((a=>({key:a.key,value:a.key===e.key?e.newValue||"false":a.value})))))},a=()=>{const e=Object.keys(localStorage).map((e=>({key:e,value:localStorage.getItem(e)||"false"})));n(e)};return window.addEventListener("storage",e),window.addEventListener("themeChanged",a),()=>{window.removeEventListener("storage",e),window.removeEventListener("themeChanged",a)}}),[]);return i.jsx(f,{id:e,history:o,activePanel:r,onSwipeBack:()=>t.back(),children:i.jsxs(g,{nav:e,children:[i.jsx(v,{title:"Настройки"}),i.jsxs(h,{header:i.jsx(j,{mode:"secondary",children:"Внешний вид"}),children:[i.jsx(z,{toggleAppearance:a}),i.jsx(S,{before:i.jsx(b,{}),onClick:()=>{localStorage.clear(),n([])},children:"Очистить кеш"})]}),i.jsx(h,{header:i.jsx(j,{mode:"secondary",aside:i.jsx(u,{children:"Хранится в LocalStorage"}),children:"Кеш"}),children:l.map((e=>i.jsx(y,{indicator:e.value,children:B(e.key)},e.key)))})]})})};export{E as default};

var e=Object.defineProperty,r=Object.defineProperties,t=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,a=(r,t,o)=>t in r?e(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,c=(e,r)=>{for(var t in r||(r={}))n.call(r,t)&&a(e,t,r[t]);if(o)for(var t of o(r))l.call(r,t)&&a(e,t,r[t]);return e},s=(e,o)=>r(e,t(o)),i=(e,r)=>{var t={};for(var a in e)n.call(e,a)&&r.indexOf(a)<0&&(t[a]=e[a]);if(null!=e&&o)for(var a of o(e))r.indexOf(a)<0&&l.call(e,a)&&(t[a]=e[a]);return t};import{y as u,g as d,h as m,_,T as v}from"./index-0Ub2aqlv.js";import{a1 as p,S as g,d as h,u as f,c as y,P as b,a2 as C,aB as x,aO as R,aP as w,i as P,aQ as k,aR as N,aS as E,aT as I,R as O,n as S,f as z,g as D,aN as A,T as M,e as j}from"./AppWrapper-3sxv9e6a.js";import{S as B}from"./SimpleCell-EYqGjrB0.js";import{u as H}from"./App-hRCpH3Aa.js";var F=p("Icon20CheckBoxOff","check_box_off_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20" id="check_box_off_20"><path fill="currentColor" fill-rule="evenodd" d="M4.046 2.534C4.788 2.138 5.517 2 7.128 2h5.744c1.61 0 2.34.138 3.082.534.65.348 1.164.862 1.512 1.512.396.742.534 1.471.534 3.082v5.744c0 1.61-.138 2.34-.534 3.082a3.644 3.644 0 0 1-1.512 1.512c-.742.396-1.472.534-3.082.534H7.128c-1.61 0-2.34-.138-3.082-.534a3.644 3.644 0 0 1-1.512-1.512C2.138 15.212 2 14.482 2 12.872V7.128c0-1.61.138-2.34.534-3.082a3.645 3.645 0 0 1 1.512-1.512m3.082.966c-1.531 0-1.962.136-2.374.357a2.145 2.145 0 0 0-.897.897c-.22.412-.357.843-.357 2.374v5.744c0 1.531.136 1.962.357 2.374.208.389.508.69.897.897.412.22.843.357 2.374.357h5.744c1.531 0 1.962-.136 2.374-.357.389-.208.69-.508.897-.897.22-.412.357-.843.357-2.374V7.128c0-1.531-.136-1.962-.357-2.374a2.145 2.145 0 0 0-.897-.897c-.412-.22-.843-.357-2.374-.357H7.128" clip-rule="evenodd" /></symbol>',20,20,!1,void 0),Y=p("Icon20CheckBoxOn","check_box_on_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20" id="check_box_on_20"><path fill="currentColor" fill-rule="evenodd" d="M2.436 4.184C2 5.04 2 6.16 2 8.4v3.2c0 2.24 0 3.36.436 4.216a4 4 0 0 0 1.748 1.748C5.04 18 6.16 18 8.4 18h3.2c2.24 0 3.36 0 4.216-.436a4 4 0 0 0 1.748-1.748C18 14.96 18 13.84 18 11.6V8.4c0-2.24 0-3.36-.436-4.216a4 4 0 0 0-1.748-1.748C14.96 2 13.84 2 11.6 2H8.4c-2.24 0-3.36 0-4.216.436a4 4 0 0 0-1.748 1.748m12.2 3.803a.9.9 0 1 0-1.272-1.274l-4.673 4.665-2.055-2.052A.9.9 0 0 0 5.364 10.6l2.691 2.687a.9.9 0 0 0 1.272 0l5.309-5.3" clip-rule="evenodd" /></symbol>',20,20,!1,void 0),$=p("Icon24CheckBoxOff","check_box_off_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" id="check_box_off_24"><path fill="currentColor" d="M16.872 2c1.783 0 2.43.186 3.082.534.651.349 1.163.86 1.512 1.512S22 5.345 22 7.128v9.744c0 1.783-.186 2.43-.534 3.082a3.635 3.635 0 0 1-1.512 1.512c-.652.348-1.299.534-3.082.534H7.128c-1.783 0-2.43-.186-3.082-.534s-1.163-.86-1.512-1.512C2.186 19.302 2 18.655 2 16.872V7.128c0-1.783.186-2.43.534-3.082a3.635 3.635 0 0 1 1.512-1.512C4.698 2.186 5.345 2 7.128 2zm.564 2H6.564c-.892 0-1.215.093-1.54.267-.327.174-.583.43-.757.756-.174.326-.267.65-.267 1.54v10.873c0 .892.093 1.215.267 1.54.174.327.43.583.756.757.326.174.65.267 1.54.267h10.873c.892 0 1.215-.093 1.54-.267.327-.174.583-.43.757-.756.174-.326.267-.65.267-1.54V6.563c0-.892-.093-1.215-.267-1.54a1.817 1.817 0 0 0-.756-.757c-.326-.174-.65-.267-1.54-.267z" /></symbol>',24,24,!1,void 0),T=p("Icon24CheckBoxOn","check_box_on_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" id="check_box_on_24"><path fill="currentColor" fill-rule="evenodd" d="M2.436 4.184C2 5.04 2 6.16 2 8.4v7.2c0 2.24 0 3.36.436 4.216a4 4 0 0 0 1.748 1.748C5.04 22 6.16 22 8.4 22h7.2c2.24 0 3.36 0 4.216-.436a4 4 0 0 0 1.748-1.748C22 18.96 22 17.84 22 15.6V8.4c0-2.24 0-3.36-.436-4.216a4 4 0 0 0-1.748-1.748C18.96 2 17.84 2 15.6 2H8.4c-2.24 0-3.36 0-4.216.436a4 4 0 0 0-1.748 1.748zm15.771 5.023a1 1 0 0 0-1.414-1.414L10 14.586l-2.793-2.793a1 1 0 0 0-1.414 1.414l3.5 3.5a1 1 0 0 0 1.414 0z" clip-rule="evenodd" /></symbol>',24,24,!1,void 0),q=p("Icon24CheckCircleOff","check_circle_off_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" id="check_circle_off_24"><path fill="currentColor" d="M12 0c6.629 0 12 5.373 12 12 0 6.629-5.373 12-12 12-6.629 0-12-5.373-12-12C0 5.371 5.373 0 12 0m0 1.5C6.2 1.5 1.5 6.2 1.5 12S6.2 22.5 12 22.5 22.5 17.8 22.5 12 17.8 1.5 12 1.5" /></symbol>',24,24,!1,void 0),L=p("Icon24CheckCircleOn","check_circle_on_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" id="check_circle_on_24"><path fill="currentColor" fill-rule="evenodd" d="M12 24c6.627 0 12-5.373 12-12S18.627 0 12 0 0 5.373 0 12s5.373 12 12 12m6.207-14.793a1 1 0 0 0-1.414-1.414L10 14.586l-2.793-2.793a1 1 0 0 0-1.414 1.414l3.5 3.5a1 1 0 0 0 1.414 0l7.5-7.5" clip-rule="evenodd" /></symbol>',24,24,!1,void 0),V=p("Icon24Reorder","reorder_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="reorder_24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z" /><path fill="currentColor" fill-rule="nonzero" d="M21 18a1 1 0 0 1-1 1H4a1 1 0 0 1 0-2h16a1 1 0 0 1 1 1m0-4a1 1 0 0 1-1 1H4a1 1 0 0 1 0-2h16a1 1 0 0 1 1 1m0-4a1 1 0 0 1-1 1H4a1 1 0 0 1 0-2h16a1 1 0 0 1 1 1M3 6a1 1 0 0 1 1-1h16a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1" /></g></symbol>',24,24,!1,void 0),U=p("Icon24ReorderIos","reorder_ios_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="reorder_ios_24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z" opacity=".1" /><path fill="currentColor" fill-rule="nonzero" d="M2.75 7h18.5a.75.75 0 1 1 0 1.5H2.75a.75.75 0 0 1 0-1.5m0 4h18.5a.75.75 0 1 1 0 1.5H2.75a.75.75 0 1 1 0-1.5m0 4h18.5a.75.75 0 1 1 0 1.5H2.75a.75.75 0 1 1 0-1.5" /></g></symbol>',24,24,!1,void 0);const W="_IconButton_aj7ce_1",G="_IconButton--sizeY-compact_aj7ce_22",K="_IconButton--ios_aj7ce_30",Q={none:"_IconButton--sizeY-none_aj7ce_64",[g.COMPACT]:G},X=e=>{var r=e,{children:t,className:o}=r,n=i(r,["children","className"]);const l=h(),{sizeY:a="none"}=f();return u(C,s(c({activeEffectDelay:200,activeMode:"background",Component:n.href?"a":"button"},n),{className:y(W,a!==g.REGULAR&&Q[a],l===b.IOS&&K,o)}),t)},J=({IconCompact:e,IconRegular:r})=>{const{sizeY:t}=H();return u(d,null,t.compact&&u(e,{className:t.compact.className}),t.regular&&u(r,{className:t.regular.className}))},Z="data-draggable-placeholder",ee={[Z]:"true"},re=50,te=e=>{let r=!1;const t=(e=>{let r=[],t=null;const o=(...o)=>{r=o,t||(t=requestAnimationFrame((()=>{t=null,e(...r)})))};return o.cancel=()=>{t&&(cancelAnimationFrame(t),t=null)},o})((function(o){const{shouldScrolling:n,y:l}=o();n?(r=!0,e.scrollBy(0,l),t(o)):(r=!1,t.cancel())}));return{tryAutoScroll:e=>{t(e)},stop:()=>{r=!1,t.cancel()},get isRunning(){return r}}},oe=(e,r)=>{requestAnimationFrame((()=>{e.style.transform=`translateY(${r}px)`}))},ne=([{el:e,draggingElRect:{height:r}},t])=>{requestAnimationFrame((()=>{"up"===t?(e.style.setProperty("transition","transform 0.3s ease-in 0s"),e.style.removeProperty("transform")):(e.style.setProperty("transition","transform 0.3s ease-out 0s"),e.style.setProperty("transform",`translateY(${r}px)`))}))},le=({el:e,shifted:r,draggingElRect:t})=>{const{height:o}=t;requestAnimationFrame((()=>{e.style.setProperty("pointer-events","none"),e.style.setProperty("transition","none 0s ease 0s"),r&&e.style.setProperty("transform",`translateY(${o}px)`)}))},ae=({el:e})=>{requestAnimationFrame((()=>{e.style.removeProperty("pointer-events"),e.style.removeProperty("transition"),e.style.removeProperty("transform")}))},ce=({elRef:e,onDragFinish:r})=>{const[t,o]=m(!1),n=_(0),l=_(0),a=_(null),c=_(0),s=_(null),i=_(void 0),u=(e,r)=>{const t=e-r;return t<0?"down":t>0?"up":i.current},d=_(-1),p=_(-1),g=_(null),h=_(null),f=_([]),y=e=>{const r=k(e,!0),{children:t}=e.parentElement||{children:[]};Array.prototype.forEach.call(t,((t,o)=>{t===e?(d.current=p.current=o,g.current={index:o,el:t,draggingElRect:r}):null!==t.getAttribute(Z)?h.current={index:o,el:t,draggingElRect:r}:f.current.push({index:o,el:t,shifted:-1!==d.current&&d.current<o,draggingElRect:r})})),h.current&&(({el:e,draggingElRect:r})=>{const{width:t,height:o}=r,n=e.cloneNode();n.style.setProperty("display","block"),n.style.setProperty("width",`${t}px`),n.style.setProperty("height",`${o}px`),n.style.setProperty("pointer-events","none"),e.appendChild(n)})(h.current),g.current&&(({el:e,draggingElRect:r})=>{const{top:t,left:o,width:n,height:l}=r;requestAnimationFrame((()=>{e.style.setProperty("pointer-events","none"),e.style.setProperty("position","fixed"),e.style.setProperty("top",`${t}px`),e.style.setProperty("left",`${o}px`),e.style.setProperty("width",`${n}px`),e.style.setProperty("height",`${l}px`),e.style.setProperty("z-index","var(--vkui_internal--z_index_cell_dragging)"),e.style.setProperty("box-sizing","border-box"),e.style.setProperty("transform","translateY(0)")}))})(g.current),f.current.forEach(le)},b=()=>{h.current&&(({el:e})=>{e.firstElementChild&&e.firstElementChild.remove()})(h.current),g.current&&(({el:e})=>{requestAnimationFrame((()=>{e.style.removeProperty("pointer-events"),e.style.removeProperty("position"),e.style.removeProperty("top"),e.style.removeProperty("left"),e.style.removeProperty("width"),e.style.removeProperty("height"),e.style.removeProperty("z-index"),e.style.removeProperty("box-sizing"),e.style.removeProperty("transform")}))})(g.current),f.current.forEach(ae),f.current=[],h.current=g.current=null;const e={from:d.current,to:p.current};return d.current=p.current=-1,e},C=e=>{const r=[],t=[];return p.current=d.current,f.current.forEach((o=>{const{isOverEl:n,isUnderEl:l}=((e,r)=>{const t=r.height/2;return{isUnderEl:e<=r.bottom-t,isOverEl:e>=r.top+t}})(e,k(o.el));d.current<o.index?(n&&(p.current=p.current+1,"down"===i.current&&o.shifted&&(o.shifted=!1,r.push([o,"up"]))),l&&("up"!==i.current||o.shifted||(o.shifted=!0,t.push([o,"down"])))):d.current>o.index&&(l&&(p.current=p.current-1,"up"!==i.current||o.shifted||(o.shifted=!0,r.push([o,"down"]))),n&&"down"===i.current&&o.shifted&&(o.shifted=!1,t.push([o,"up"])))})),[r,t]},E=(e,r)=>{e.forEach(ne),r.forEach(ne)},I=_(null),O=()=>{I.current&&(clearTimeout(I.current),I.current=null)},S=()=>{s.current&&s.current.tryAutoScroll((()=>a.current?((e,r)=>{const t=Math.floor(x(r).scrollTop),{relative:o,edges:n}=R(r),l=o.height,a=t>0,c=t<w(r)-l,[s,i]=n.y,u=e-s,d=i-e,m=u<=re,_=d<=re,v={shouldScrolling:a&&m&&u>=-30||c&&_&&d>=-30,y:0};return m?v.y=(re-u)/re*-1*10:_&&(v.y=(re-d)/re*10),v})(n.current,a.current):{shouldScrolling:!1,y:0}))},z=v((()=>{if(!e.current||!a.current)return;const r=x(a.current).scrollTop;i.current=u(c.current,r);const t=c.current-r,o=n.current+t;c.current=r;const[l,s]=C(o);E(l,s)}),[e]);return P((function(){const e=a.current;if(t&&e)return e.addEventListener("scroll",z),()=>{e&&e.removeEventListener("scroll",z)}}),[t,z]),{dragging:t,onDragStart:e=>{e.originalEvent.stopPropagation(),e.originalEvent.preventDefault()},onDragMove:r=>{r.originalEvent.stopPropagation(),r.originalEvent.preventDefault();const d=e.current;if(d)if(t)if(i.current=u(l.current,r.shiftY),l.current=r.shiftY,n.current=r.clientY,s.current&&s.current.isRunning)oe(d,l.current);else{const[e,r]=C(n.current);oe(d,l.current),E(e,r),O(),I.current=setTimeout((()=>{I.current=null,S()}),300)}else(e=>{const r=N(e);r&&(a.current=r,c.current=x(r).scrollTop,s.current=te(a.current))})(d),y(d),o(!0)},onDragEnd:e=>{var u;if(e.originalEvent.stopPropagation(),e.originalEvent.preventDefault(),O(),c.current=0,null==(u=s.current)||u.stop(),a.current=s.current=null,n.current=l.current=0,i.current=void 0,t){const e=b();r&&r(e),o(!1)}}}},se="_Removable__content_1gv90_1",ie="_Removable__action_1gv90_8",ue="_Removable--align-start_1gv90_16",de="_Removable--ios_1gv90_24",me="_Removable__remove_1gv90_28",_e="_Removable__remove-in_1gv90_42",ve="_Removable__toggle_1gv90_56",pe="_Removable__toggle-in_1gv90_64",ge="_Removable--indent_1gv90_97",he="_Removable__offset_1gv90_114",fe=({onRemove:e,removePlaceholder:r,removePlaceholderString:t,children:o})=>{const{window:n}=z(),l=_(null),a=_(!0),[c,s]=m(0);D(n,"click",(()=>{c>0&&s(0)}),{capture:!0});return u("div",{className:y(se,"vkuiInternalRemovable__content"),style:{transform:`translateX(-${null!=c?c:0}px)`},onTransitionEnd:()=>{var e;c>0?null==(e=null==l?void 0:l.current)||e.focus():a.current=!0}},u(X,{hasActive:!1,hasHover:!1,"aria-label":t,className:y(ie,ve,"vkuiInternalRemovable__action"),onClick:e=>{if(e.stopPropagation(),!l.current)return;const{offsetWidth:r}=l.current;a.current=!1,s(r)},disabled:c>0},u("i",{className:pe,role:"presentation"})),"function"==typeof o?o({isRemoving:c>0}):o,u("span",{className:he,"aria-hidden":!0}),u(C,{Component:"button",hasActive:!1,hasHover:!1,disabled:a.current,getRootRef:l,className:me,onClick:e},u("span",{className:_e},r)))},ye=e=>{var r=e,{children:t,onRemove:o=S,removePlaceholder:n="Удалить",align:l="center",indent:a=!1}=r,d=i(r,["children","onRemove","removePlaceholder","align","indent"]);const m=h(),_=e=>{e.preventDefault(),o(e)},v=E(n);return u(O,s(c({},d),{baseClassName:y(m===b.IOS&&de,"start"===l&&ue,a&&ge)}),m!==b.IOS&&u("div",{className:y(se,"vkuiInternalRemovable__content")},t,u(X,{activeMode:"opacity",hoverMode:"opacity",className:y(ie,"vkuiInternalRemovable__action"),onClick:_,"aria-label":v},u(I,{role:"presentation"})),u("span",{className:he,"aria-hidden":!0})),m===b.IOS&&u(fe,{onRemove:_,removePlaceholder:n,removePlaceholderString:v},t))},be="_CellCheckbox_fjdxx_1",Ce="_CellCheckbox__icon_fjdxx_7",xe="_CellCheckbox__icon--on_fjdxx_12",Re="_CellCheckbox__input_fjdxx_16",we="_CellCheckbox__icon--off_fjdxx_16",Pe=()=>u(J,{IconCompact:Y,IconRegular:T}),ke=()=>u(J,{IconCompact:F,IconRegular:$});const Ne=e=>{var r=e,{getRootRef:t,getRef:o,className:n,style:l,type:a="auto"}=r,d=i(r,["getRootRef","getRef","className","style","type"]);const m=function(e){const r=h();return"auto"!==e?e:r===b.IOS||r===b.VKCOM?"circle":"square"}(a),_="circle"===m?q:ke,v="circle"===m?L:Pe;return u("span",{className:y(be,n),style:l,ref:t},u(A,s(c({},d),{Component:"input",type:"checkbox",className:Re,getRootRef:o})),u("span",{className:y(Ce,we),"aria-hidden":!0},u(_,null)),u("span",{className:y(Ce,xe),"aria-hidden":!0},u(v,null)))},Ee="_CellDragger_1eaz7_2",Ie="_CellDragger__icon_1eaz7_11",Oe=e=>{var r=e,{elRef:t,disabled:o,className:n,onDragStateChange:l,onDragFinish:a}=r,s=i(r,["elRef","disabled","className","onDragStateChange","onDragFinish"]);const d=h()===b.IOS?U:V,{dragging:m,onDragStart:_,onDragMove:v,onDragEnd:p}=ce({elRef:t,onDragFinish:a});return P((()=>{l&&l(m)}),[m,l]),u(M,c({className:y(Ee,n),onStart:o?void 0:_,onMoveY:o?void 0:v,onEnd:o?void 0:p},s),u(d,{className:Ie}))},Se="Перенести ячейку",ze="_Cell_12uoz_1",De="_Cell--dragging_12uoz_5",Ae="_Cell--selectable_12uoz_10",Me="_Cell--disabled_12uoz_10",je="_Cell__checkbox_12uoz_14",Be="_Cell__dragger_12uoz_15",He="_Cell__content_12uoz_21",Fe="_Cell--removable_12uoz_26",Ye="_Cell--ios_12uoz_48",$e=e=>{var r=e,{mode:t,onRemove:o=S,removePlaceholder:n="Удалить",onDragFinish:l,before:a,after:_,disabled:v,draggable:p,Component:g,onChange:f,name:C,value:x,checked:R,defaultChecked:w,getRootRef:P,draggerLabel:k=Se,className:N,style:E}=r,I=i(r,["mode","onRemove","removePlaceholder","onDragFinish","before","after","disabled","draggable","Component","onChange","name","value","checked","defaultChecked","getRootRef","draggerLabel","className","style"]);const[O,z]=m(!1),D="selectable"===t,A="removable"===t,M=D?"label":g,H=h(),F=j(P),Y=p?u(Oe,{elRef:F,className:Be,"aria-label":k,disabled:v,onDragStateChange:z,onDragFinish:l}):null;let $;if(D){$=u(Ne,c({className:je},{name:C,value:x,defaultChecked:w,checked:R,disabled:v,onChange:f}))}const T=p&&!D||A&&!I.onClick||v,q=!T&&!O,L=y(ze,O&&De,H===b.IOS&&Ye,A&&Fe,"label"===M&&Ae,v&&Me),V=s(c({hasActive:q,hasHover:q&&!A},I),{className:He,disabled:T,Component:M,before:u(d,null,p&&H!==b.IOS&&Y,D&&$,a),after:u(d,null,p&&H===b.IOS&&Y,_)});return A?u(ye,{className:y(L,N),style:E,getRootRef:F,removePlaceholder:n,onRemove:e=>o(e,F.current)},H===b.IOS?({isRemoving:e})=>u(B,s(c({},V),{disabled:V.disabled||e})):u(B,V)):u("div",{className:y(L,N),style:E,ref:F},u(B,V))};$e.Checkbox=Ne;export{$e as C,ee as D};

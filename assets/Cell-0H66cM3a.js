var e=Object.defineProperty,r=Object.defineProperties,t=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,a=(r,t,o)=>t in r?e(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,s=(e,r)=>{for(var t in r||(r={}))n.call(r,t)&&a(e,t,r[t]);if(o)for(var t of o(r))l.call(r,t)&&a(e,t,r[t]);return e},c=(e,o)=>r(e,t(o)),i=(e,r)=>{var t={};for(var a in e)n.call(e,a)&&r.indexOf(a)<0&&(t[a]=e[a]);if(null!=e&&o)for(var a of o(e))r.indexOf(a)<0&&l.call(e,a)&&(t[a]=e[a]);return t};import{f as u,A as d,c as m,h as v,b as g,T as _,g as p}from"./index-un9PXEE1.js";import{B as f,f as h,u as y,J as b,c as C,T as w,ag as x,aG as R,aH as P,d as k,aI as I,aJ as E,aK as B,R as N,n as D,g as T}from"./AppWrapper-Ec7-caUI.js";import{j as A,c as S}from"./App-q9yGfyTd.js";import{S as O}from"./SimpleCell-nedUpcaY.js";import{A as H,T as M}from"./Group-_LCyvD88.js";const z=e=>null==e||"boolean"==typeof e||"{}"===JSON.stringify(e)?"":e.toString(),F=e=>e instanceof Array||u(e)?d.toArray(e).reduce(((e,r)=>{let t="";const o=u(r),n=o&&"children"in r.props;return t=o&&n?F(r.props.children):o&&!n?"":z(r),e.concat(t)}),""):z(e);var j=f("Icon20CheckBoxOff","check_box_off_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20" id="check_box_off_20"><path fill="currentColor" fill-rule="evenodd" d="M4.046 2.534C4.788 2.138 5.517 2 7.128 2h5.744c1.61 0 2.34.138 3.082.534.65.348 1.164.862 1.512 1.512.396.742.534 1.471.534 3.082v5.744c0 1.61-.138 2.34-.534 3.082a3.644 3.644 0 0 1-1.512 1.512c-.742.396-1.472.534-3.082.534H7.128c-1.61 0-2.34-.138-3.082-.534a3.644 3.644 0 0 1-1.512-1.512C2.138 15.212 2 14.482 2 12.872V7.128c0-1.61.138-2.34.534-3.082a3.645 3.645 0 0 1 1.512-1.512m3.082.966c-1.531 0-1.962.136-2.374.357a2.145 2.145 0 0 0-.897.897c-.22.412-.357.843-.357 2.374v5.744c0 1.531.136 1.962.357 2.374.208.389.508.69.897.897.412.22.843.357 2.374.357h5.744c1.531 0 1.962-.136 2.374-.357.389-.208.69-.508.897-.897.22-.412.357-.843.357-2.374V7.128c0-1.531-.136-1.962-.357-2.374a2.145 2.145 0 0 0-.897-.897c-.412-.22-.843-.357-2.374-.357z" clip-rule="evenodd" /></symbol>',20,20,!1,void 0),Y=f("Icon20CheckBoxOn","check_box_on_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20" id="check_box_on_20"><path fill="currentColor" fill-rule="evenodd" d="M2.436 4.184C2 5.04 2 6.16 2 8.4v3.2c0 2.24 0 3.36.436 4.216a4 4 0 0 0 1.748 1.748C5.04 18 6.16 18 8.4 18h3.2c2.24 0 3.36 0 4.216-.436a4 4 0 0 0 1.748-1.748C18 14.96 18 13.84 18 11.6V8.4c0-2.24 0-3.36-.436-4.216a4 4 0 0 0-1.748-1.748C14.96 2 13.84 2 11.6 2H8.4c-2.24 0-3.36 0-4.216.436a4 4 0 0 0-1.748 1.748m12.2 3.803a.9.9 0 1 0-1.272-1.274l-4.673 4.665-2.055-2.052A.9.9 0 0 0 5.364 10.6l2.691 2.687a.9.9 0 0 0 1.272 0z" clip-rule="evenodd" /></symbol>',20,20,!1,void 0),$=f("Icon24CheckBoxOff","check_box_off_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" id="check_box_off_24"><path fill="currentColor" d="M16.872 2c1.783 0 2.43.186 3.082.534.651.349 1.163.86 1.512 1.512S22 5.345 22 7.128v9.744c0 1.783-.186 2.43-.534 3.082a3.635 3.635 0 0 1-1.512 1.512c-.652.348-1.299.534-3.082.534H7.128c-1.783 0-2.43-.186-3.082-.534s-1.163-.86-1.512-1.512C2.186 19.302 2 18.655 2 16.872V7.128c0-1.783.186-2.43.534-3.082a3.635 3.635 0 0 1 1.512-1.512C4.698 2.186 5.345 2 7.128 2zm.564 2H6.564c-.892 0-1.215.093-1.54.267-.327.174-.583.43-.757.756-.174.326-.267.65-.267 1.54v10.873c0 .892.093 1.215.267 1.54.174.327.43.583.756.757.326.174.65.267 1.54.267h10.873c.892 0 1.215-.093 1.54-.267.327-.174.583-.43.757-.756.174-.326.267-.65.267-1.54V6.563c0-.892-.093-1.215-.267-1.54a1.817 1.817 0 0 0-.756-.757c-.326-.174-.65-.267-1.54-.267" /></symbol>',24,24,!1,void 0),q=f("Icon24CheckBoxOn","check_box_on_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" id="check_box_on_24"><path fill="currentColor" fill-rule="evenodd" d="M2.436 4.184C2 5.04 2 6.16 2 8.4v7.2c0 2.24 0 3.36.436 4.216a4 4 0 0 0 1.748 1.748C5.04 22 6.16 22 8.4 22h7.2c2.24 0 3.36 0 4.216-.436a4 4 0 0 0 1.748-1.748C22 18.96 22 17.84 22 15.6V8.4c0-2.24 0-3.36-.436-4.216a4 4 0 0 0-1.748-1.748C18.96 2 17.84 2 15.6 2H8.4c-2.24 0-3.36 0-4.216.436a4 4 0 0 0-1.748 1.748m15.771 5.023a1 1 0 0 0-1.414-1.414L10 14.586l-2.793-2.793a1 1 0 0 0-1.414 1.414l3.5 3.5a1 1 0 0 0 1.414 0z" clip-rule="evenodd" /></symbol>',24,24,!1,void 0),L=f("Icon24CheckCircleOff","check_circle_off_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" id="check_circle_off_24"><path fill="currentColor" d="M12 0c6.629 0 12 5.373 12 12 0 6.629-5.373 12-12 12-6.629 0-12-5.373-12-12C0 5.371 5.373 0 12 0m0 1.5C6.2 1.5 1.5 6.2 1.5 12S6.2 22.5 12 22.5 22.5 17.8 22.5 12 17.8 1.5 12 1.5" /></symbol>',24,24,!1,void 0),V=f("Icon24CheckCircleOn","check_circle_on_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" id="check_circle_on_24"><path fill="currentColor" fill-rule="evenodd" d="M12 24c6.627 0 12-5.373 12-12S18.627 0 12 0 0 5.373 0 12s5.373 12 12 12m6.207-14.793a1 1 0 0 0-1.414-1.414L10 14.586l-2.793-2.793a1 1 0 0 0-1.414 1.414l3.5 3.5a1 1 0 0 0 1.414 0z" clip-rule="evenodd" /></symbol>',24,24,!1,void 0),J=f("Icon24Reorder","reorder_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="reorder_24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z" /><path fill="currentColor" fill-rule="nonzero" d="M21 18a1 1 0 0 1-1 1H4a1 1 0 0 1 0-2h16a1 1 0 0 1 1 1m0-4a1 1 0 0 1-1 1H4a1 1 0 0 1 0-2h16a1 1 0 0 1 1 1m0-4a1 1 0 0 1-1 1H4a1 1 0 0 1 0-2h16a1 1 0 0 1 1 1M3 6a1 1 0 0 1 1-1h16a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1" /></g></symbol>',24,24,!1,void 0),G=f("Icon24ReorderIos","reorder_ios_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="reorder_ios_24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z" opacity=".1" /><path fill="currentColor" fill-rule="nonzero" d="M2.75 7h18.5a.75.75 0 1 1 0 1.5H2.75a.75.75 0 0 1 0-1.5m0 4h18.5a.75.75 0 1 1 0 1.5H2.75a.75.75 0 1 1 0-1.5m0 4h18.5a.75.75 0 1 1 0 1.5H2.75a.75.75 0 1 1 0-1.5" /></g></symbol>',24,24,!1,void 0);const U="_IconButton_45iff_1",W="_IconButton--ios_45iff_30",K={none:"_IconButton--sizeY-none_45iff_79",compact:"_IconButton--sizeY-compact_45iff_22"},X=e=>{var r=e,{label:t,children:o,className:n}=r,l=i(r,["label","children","className"]);const a=h(),{sizeY:u="none"}=y();return m(w,c(s({activeEffectDelay:200,activeMode:"background",Component:l.href?"a":"button"},l),{className:C(U,"regular"!==u&&K[u],"ios"===a&&W,n)}),t&&m(b,null,t),o)},Q="data-draggable-placeholder",Z={[Q]:"true"},ee=50,re=e=>{let r=!1;const t=(e=>{let r=[],t=null;const o=(...o)=>{r=o,t||(t=requestAnimationFrame((()=>{t=null,e(...r)})))};return o.cancel=()=>{t&&(cancelAnimationFrame(t),t=null)},o})((function(o){const{shouldScrolling:n,y:l}=o();n?(r=!0,e.scrollBy(0,l),t(o)):(r=!1,t.cancel())}));return{tryAutoScroll:e=>{t(e)},stop:()=>{r=!1,t.cancel()},get isRunning(){return r}}},te=(e,r)=>{requestAnimationFrame((()=>{e.style.transform=`translateY(${r}px)`}))},oe=([{el:e,draggingElRect:{height:r}},t])=>{requestAnimationFrame((()=>{"up"===t?(e.style.setProperty("transition","transform 0.3s ease-in 0s"),e.style.removeProperty("transform")):(e.style.setProperty("transition","transform 0.3s ease-out 0s"),e.style.setProperty("transform",`translateY(${r}px)`))}))},ne=({el:e})=>{e.firstElementChild&&e.firstElementChild.remove()},le=({el:e,shifted:r,draggingElRect:t})=>{const{height:o}=t;requestAnimationFrame((()=>{e.style.setProperty("pointer-events","none"),e.style.setProperty("transition","none 0s ease 0s"),r&&e.style.setProperty("transform",`translateY(${o}px)`)}))},ae=({el:e})=>{requestAnimationFrame((()=>{e.style.removeProperty("pointer-events"),e.style.removeProperty("transition"),e.style.removeProperty("transform")}))},se=({elRef:e,onDragFinish:r})=>{const[t,o]=v(!1),n=g(0),l=g(0),a=g(null),s=g(0),c=g(null),i=g(void 0),u=(e,r)=>{const t=e-r;return t<0?"down":t>0?"up":i.current},d=g(-1),m=g(-1),p=g(null),f=g(null),h=g([]),y=e=>{const r=I(e,!0),{children:t}=e.parentElement||{children:[]};Array.prototype.forEach.call(t,((t,o)=>{t===e?(d.current=m.current=o,p.current={index:o,el:t,draggingElRect:r}):null!==t.getAttribute(Q)?f.current={index:o,el:t,draggingElRect:r}:h.current.push({index:o,el:t,shifted:-1!==d.current&&d.current<o,draggingElRect:r})})),f.current&&(({el:e,draggingElRect:r})=>{if(e.firstElementChild)return;const{width:t,height:o}=r,n=e.cloneNode();n.style.setProperty("display","block"),n.style.setProperty("width",`${t}px`),n.style.setProperty("height",`${o}px`),n.style.setProperty("pointer-events","none"),e.appendChild(n)})(f.current),p.current&&(({el:e,draggingElRect:r})=>{const{top:t,left:o,width:n,height:l}=r;requestAnimationFrame((()=>{e.style.setProperty("pointer-events","none"),e.style.setProperty("position","fixed"),e.style.setProperty("top",`${t}px`),e.style.setProperty("left",`${o}px`),e.style.setProperty("width",`${n}px`),e.style.setProperty("height",`${l}px`),e.style.setProperty("z-index","var(--vkui_internal--z_index_cell_dragging)"),e.style.setProperty("box-sizing","border-box"),e.style.setProperty("transform","translateY(0)")}))})(p.current),h.current.forEach(le)},b=()=>{f.current&&ne(f.current),p.current&&(({el:e})=>{requestAnimationFrame((()=>{e.style.removeProperty("pointer-events"),e.style.removeProperty("position"),e.style.removeProperty("top"),e.style.removeProperty("left"),e.style.removeProperty("width"),e.style.removeProperty("height"),e.style.removeProperty("z-index"),e.style.removeProperty("box-sizing"),e.style.removeProperty("transform")}))})(p.current),h.current.forEach(ae),h.current=[],f.current=p.current=null;const e={from:d.current,to:m.current};return d.current=m.current=-1,e},C=e=>{const r=[],t=[];return m.current=d.current,h.current.forEach((o=>{const{isOverEl:n,isUnderEl:l}=((e,r)=>{const t=r.height/2;return{isUnderEl:e<=r.bottom-t,isOverEl:e>=r.top+t}})(e,I(o.el));d.current<o.index?(n&&(m.current=m.current+1,"down"===i.current&&o.shifted&&(o.shifted=!1,r.push([o,"up"]))),l&&("up"!==i.current||o.shifted||(o.shifted=!0,t.push([o,"down"])))):d.current>o.index&&(l&&(m.current=m.current-1,"up"!==i.current||o.shifted||(o.shifted=!0,r.push([o,"down"]))),n&&"down"===i.current&&o.shifted&&(o.shifted=!1,t.push([o,"up"])))})),[r,t]},w=(e,r)=>{e.forEach(oe),r.forEach(oe)},B=g(null),N=()=>{B.current&&(clearTimeout(B.current),B.current=null)},D=()=>{c.current&&c.current.tryAutoScroll((()=>a.current?((e,r)=>{const t=Math.floor(x(r).scrollTop),{relative:o,edges:n}=R(r),l=o.height,a=t>0,s=t<P(r)-l,[c,i]=n.y,u=e-c,d=i-e,m=u<=ee,v=d<=ee,g={shouldScrolling:a&&m&&u>=-30||s&&v&&d>=-30,y:0};return m?g.y=(ee-u)/ee*-1*10:v&&(g.y=(ee-d)/ee*10),g})(n.current,a.current):{shouldScrolling:!1,y:0}))},T=_((()=>{if(!e.current||!a.current)return;const r=x(a.current).scrollTop;i.current=u(s.current,r);const t=s.current-r,o=n.current+t;s.current=r;const[l,c]=C(o);w(l,c)}),[e]);return k((function(){const e=a.current;if(t&&e)return e.addEventListener("scroll",T),()=>{e&&e.removeEventListener("scroll",T)}}),[t,T]),k((()=>function(){f.current&&ne(f.current)}),[]),{dragging:t,onDragStart:e=>{e.originalEvent.stopPropagation(),e.originalEvent.preventDefault()},onDragMove:r=>{r.originalEvent.stopPropagation(),r.originalEvent.preventDefault();const d=e.current;if(d)if(t)if(i.current=u(l.current,r.shiftY),l.current=r.shiftY,n.current=r.clientY,c.current&&c.current.isRunning)te(d,l.current);else{const[e,r]=C(n.current);te(d,l.current),w(e,r),N(),B.current=setTimeout((()=>{B.current=null,D()}),300)}else o((e=>e||((e=>{const r=E(e);r&&(a.current=r,s.current=x(r).scrollTop,c.current=re(a.current))})(d),y(d),!0)))},onDragEnd:e=>{var u;if(e.originalEvent.stopPropagation(),e.originalEvent.preventDefault(),N(),s.current=0,null==(u=c.current)||u.stop(),a.current=c.current=null,n.current=l.current=0,i.current=void 0,t){const e=b();r&&r(e),o(!1)}}}},ce="_Removable__content_4ra37_1",ie="_Removable__action_4ra37_9",ue="_Removable--align-start_4ra37_17",de="_Removable--ios_4ra37_25",me="_Removable__remove_4ra37_29",ve="_Removable__remove-in_4ra37_44",ge="_Removable__toggle_4ra37_58",_e="_Removable__toggle-in_4ra37_67",pe="_Removable--indent_4ra37_99",fe="_Removable__offset_4ra37_118",he=({onRemove:e,removePlaceholder:r,removePlaceholderString:t,children:o,toggleButtonTestId:n,removeButtonTestId:l})=>{const{window:a}=T(),s=g(null),c=g(!0),[i,u]=v(0);A(a,"click",(()=>{i>0&&u(0)}),{capture:!0});return m("div",{className:C(ce,"vkuiInternalRemovable__content"),style:{transform:`translateX(-${null!=i?i:0}px)`},onTransitionEnd:()=>{var e;i>0?null==(e=null==s?void 0:s.current)||e.focus():c.current=!0}},m(X,{hasActive:!1,hasHover:!1,className:C(ie,ge,"vkuiInternalRemovable__action"),onClick:e=>{if(e.stopPropagation(),!s.current)return;const{offsetWidth:r}=s.current;c.current=!1,u(r)},disabled:i>0,"data-testid":n},m(b,null,t),m("i",{className:_e,role:"presentation"})),"function"==typeof o?o({isRemoving:i>0}):o,m("span",{className:fe,"aria-hidden":!0}),m(w,{Component:"button",hasActive:!1,hasHover:!1,disabled:c.current,getRootRef:s,className:me,onClick:e,"data-testid":l},m("span",{className:ve},r)))},ye=e=>{var r=e,{children:t,onRemove:o=D,removePlaceholder:n="Удалить",align:l="center",indent:a=!1,toggleButtonTestId:u,removeButtonTestId:d}=r,v=i(r,["children","onRemove","removePlaceholder","align","indent","toggleButtonTestId","removeButtonTestId"]);const g=h(),_=e=>{e.preventDefault(),o(e)},p=F(n);return m(N,c(s({},v),{baseClassName:C("ios"===g&&de,"start"===l&&ue,a&&pe)}),"ios"!==g&&m("div",{className:C(ce,"vkuiInternalRemovable__content")},"function"==typeof t?t({isRemoving:!1}):t,m(X,{activeMode:"opacity",hoverMode:"opacity",className:C(ie,"vkuiInternalRemovable__action"),onClick:_,label:p,"data-testid":d},m(B,{role:"presentation"})),m("span",{className:fe,"aria-hidden":!0})),"ios"===g&&m(he,{onRemove:_,removePlaceholder:n,removePlaceholderString:p,toggleButtonTestId:u,removeButtonTestId:d},t))},be="_CellCheckbox_11esi_1",Ce="_CellCheckbox__icon_11esi_7",we="_CellCheckbox__icon--on_11esi_12",xe="_CellCheckbox__input_11esi_16",Re="_CellCheckbox__icon--off_11esi_16",Pe=()=>m(H,{IconCompact:Y,IconRegular:q}),ke=()=>m(H,{IconCompact:j,IconRegular:$});const Ie=e=>{var r=e,{getRootRef:t,getRef:o,className:n,style:l,type:a="auto"}=r,u=i(r,["getRootRef","getRef","className","style","type"]);const d=function(e){const r=h();return"auto"!==e?e:"ios"===r||"vkcom"===r?"circle":"square"}(a),v="circle"===d?L:ke,g="circle"===d?V:Pe;return m("span",{className:C(be,n),style:l,ref:t},m(b,c(s({},u),{Component:"input",type:"checkbox",className:xe,getRootRef:o})),m("span",{className:C(Ce,Re),"aria-hidden":!0},m(v,null)),m("span",{className:C(Ce,we),"aria-hidden":!0},m(g,null)))},Ee="_CellDragger_y3uyu_2",Be="_CellDragger__icon_y3uyu_11",Ne=e=>{var r=e,{elRef:t,disabled:o,className:n,onDragStateChange:l,onDragFinish:a,children:c}=r,u=i(r,["elRef","disabled","className","onDragStateChange","onDragFinish","children"]);const d="ios"===h()?G:J,{dragging:v,onDragStart:g,onDragMove:_,onDragEnd:p}=se({elRef:t,onDragFinish:a});return k((()=>{l&&l(v)}),[v,l]),m(M,s({className:C(Ee,n),onStart:o?void 0:g,onMoveY:o?void 0:_,onEnd:o?void 0:p},u),c&&m(b,null,c),m(d,{className:Be}))},De="Перенести ячейку",Te="_Cell_1w0vg_1",Ae="_Cell--dragging_1w0vg_5",Se="_Cell--selectable_1w0vg_10",Oe="_Cell--disabled_1w0vg_10",He="_Cell__checkbox_1w0vg_14",Me="_Cell__dragger_1w0vg_15",ze="_Cell__content_1w0vg_22",Fe="_Cell--removable_1w0vg_27",je="_Cell--ios_1w0vg_54",Ye=e=>{var r=e,{mode:t,onRemove:o=D,removePlaceholder:n="Удалить",onDragFinish:l,before:a,after:u,disabled:d,draggable:g,Component:_,onChange:f,name:y,value:b,checked:w,defaultChecked:x,getRootRef:R,draggerLabel:P=De,className:k,style:I,toggleButtonTestId:E,removeButtonTestId:B}=r,N=i(r,["mode","onRemove","removePlaceholder","onDragFinish","before","after","disabled","draggable","Component","onChange","name","value","checked","defaultChecked","getRootRef","draggerLabel","className","style","toggleButtonTestId","removeButtonTestId"]);const[T,A]=v(!1),H="selectable"===t,M="removable"===t,z=H?"label":_,F=h(),j=S(R),Y=g?m(Ne,{elRef:j,className:Me,disabled:d,onDragStateChange:A,onDragFinish:l},P):null;let $;if(H){$=m(Ie,s({className:He},{name:y,value:b,defaultChecked:x,checked:w,disabled:d,onChange:f}))}const q=g&&!H||M&&!N.onClick||d,L=!q&&!T,V=C(Te,T&&Ae,"ios"===F&&je,M&&Fe,"label"===z&&Se,d&&Oe),J=c(s({hasActive:L,hasHover:L&&!M},N),{className:ze,Component:z,before:m(p,null,g&&"ios"!==F&&Y,H&&$,a),after:m(p,null,g&&"ios"===F&&Y,u)});return N.onClick&&(J.disabled=q),M?m(ye,{className:C(V,k),style:I,getRootRef:j,removePlaceholder:n,onRemove:e=>o(e,j.current),toggleButtonTestId:E,removeButtonTestId:B},"ios"===F?({isRemoving:e})=>(J.onClick&&(J.disabled=e||!J.disabled),m(O,J)):m(O,J)):m("div",{className:C(V,k),style:I,ref:j},m(O,J))};Ye.Checkbox=Ie;export{Ye as C,Z as D};
